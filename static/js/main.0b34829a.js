/*! For license information please see main.0b34829a.js.LICENSE.txt */
(function(){var __webpack_modules__={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},2787:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h},firebase:function(){return l}});var r=n(3584),i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o="[DEFAULT]",a=[],s=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=(0,r.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){a.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){a=a.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach((function(n){Object.keys(e.services_[n]).forEach((function(r){t.push(e.services_[n][r])}))})),Promise.all(t.map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==o?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;(0,r.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(a.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),a=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},e}();function u(e,t){throw c.create(e,t)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function e(){var t={},n={},a={},c={__esModule:!0,initializeApp:function(e,n){void 0===n?n=o:"string"===typeof n&&""!==n||u("bad-app-name",{name:n+""});i(t,n)&&u("duplicate-app",{name:n});var r=new s(e,n,c);return t[n]=r,f(r,"create"),r},app:l,apps:null,Promise:Promise,SDK_VERSION:"4.8.0",INTERNAL:{registerService:function(e,t,i,o,f){n[e]&&u("duplicate-service",{name:e});n[e]=t,o&&(a[e]=o,h().forEach((function(e){o("create",e)})));var d=function(t){return void 0===t&&(t=l()),"function"!==typeof t[e]&&u("invalid-app-argument",{name:e}),t[e]()};void 0!==i&&(0,r.deepExtend)(d,i);return c[e]=d,s.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,f?t:[])},d},createFirebaseNamespace:e,extendNamespace:function(e){(0,r.deepExtend)(c,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(e){f(t[e],"delete"),delete t[e]},factories:n,useAsService:d,Promise:Promise,deepExtend:r.deepExtend}};function l(e){return i(t,e=e||o)||u("no-app",{name:e}),t[e]}function h(){return Object.keys(t).map((function(e){return t[e]}))}function f(e,t){Object.keys(n).forEach((function(n){var r=d(e,n);null!==r&&a[r]&&a[r](t,e)}))}function d(e,t){if("serverAuth"===t)return null;var n=t;e.options;return n}return(0,r.patchProperty)(c,"default",c),Object.defineProperty(c,"apps",{get:h}),(0,r.patchProperty)(l,"App",s),c}(),h=l},7465:function(e,t,n){(function(){var e,t=n(2787).default,r=r||{},i=this;function o(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function s(){}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function c(e){return null===e}function l(e){return"array"==u(e)}function h(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){return"function"==u(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function w(e,t){function n(){}n.prototype=t.prototype,e.ib=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Rc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function E(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}w(S,Error),S.prototype.name="CustomError";var C=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function T(e){return A.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(k,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(I,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(N,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(P,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(O,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(R,"&#0;")),e):e}var k=/&/g,I=/</g,N=/>/g,P=/"/g,O=/'/g,R=/\x00/g,A=/[\x00&<>"']/;function x(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}function M(e,t){t.unshift(e),S.call(this,E.apply(null,t)),t.shift()}function L(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}w(M,S),M.prototype.name="AssertionError";var F=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,o(e))return o(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};var U,B=Array.prototype.map?function(e,t,n){return Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),a=o(e)?e.split(""):e,s=0;s<r;s++)s in a&&(i[s]=t.call(n,a[s],s,e));return i},V=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)if(a in i&&t.call(n,i[a],a,e))return!0;return!1};function q(e,t){return 0<=F(e,t)}function W(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function z(e,t){!function(e,t){var n=e.length,r=o(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&t.call(void 0,r[n],n,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function K(e){return Array.prototype.concat.apply([],arguments)}function H(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}e:{var Q=i.navigator;if(Q){var G=Q.userAgent;if(G){U=G;break e}}U=""}function X(e){return x(U,e)}function Y(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function $(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function J(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function Z(e){for(var t in e)return!1;return!0}function ee(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0}function te(e){var t,n={};for(t in e)n[t]=e[t];return n}var ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ne.length;o++)n=ne[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ie(e){return ie[" "](e),e}ie[" "]=s;var oe,ae=X("Opera"),se=X("Trident")||X("MSIE"),ue=X("Edge"),ce=ue||se,le=X("Gecko")&&!(x(U.toLowerCase(),"webkit")&&!X("Edge"))&&!(X("Trident")||X("MSIE"))&&!X("Edge"),he=x(U.toLowerCase(),"webkit")&&!X("Edge");function fe(){var e=i.document;return e?e.documentMode:void 0}e:{var de="",pe=function(){var e=U;return le?/rv\:([^\);]+)(\)|;)/.exec(e):ue?/Edge\/([\d\.]+)/.exec(e):se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):he?/WebKit\/(\S+)/.exec(e):ae?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pe&&(de=pe?pe[1]:""),se){var me=fe();if(null!=me&&me>parseFloat(de)){oe=String(me);break e}}oe=de}var ye,ge={};function ve(e){return function(e,t){var n=ge;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=C(String(oe)).split("."),r=C(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var be=i.document;function _e(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function we(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function Se(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}function Ee(e,t){e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}ye=be&&se?fe()||("CSS1Compat"==be.compatMode?parseInt(oe,10):5):void 0,Se.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ce,Te,ke=new Se((function(){return new Ne}),(function(e){e.reset()}),100);function Ie(){var e=Ae,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ne(){this.next=this.b=this.a=null}function Pe(e){i.setTimeout((function(){throw e}),0)}function Oe(e,t){Te||function(){if(-1!=String(i.Promise).indexOf("[native code]")){var e=i.Promise.resolve(void 0);Te=function(){e.then(xe)}}else Te=function(){var e=xe;!f(i.setImmediate)||i.Window&&i.Window.prototype&&!X("Edge")&&i.Window.prototype.setImmediate==i.setImmediate?(Ce||(Ce=function(){var e=i.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!X("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=v((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!X("Trident")&&!X("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).pb;n.pb=null,e()}},function(e){r.next={pb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){i.setTimeout(e,0)}}()),Ce(e)):i.setImmediate(e)}}(),Re||(Te(),Re=!0);var n=Ae,r=ke.get();r.set(e,t),n.b?n.b.next=r:n.a=r,n.b=r}Ne.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ne.prototype.reset=function(){this.next=this.b=this.a=null};var Re=!1,Ae=new function(){this.b=this.a=null};function xe(){for(var e;e=Ie();){try{e.a.call(e.b)}catch(t){Pe(t)}Ee(ke,e)}Re=!1}function De(e,t){if(this.a=Me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=s)try{var n=this;e.call(t,(function(e){Ge(n,Le,e)}),(function(e){if(!(e instanceof tt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Ge(n,Fe,e)}))}catch(r){Ge(this,Fe,r)}}var Me=0,Le=2,Fe=3;function je(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}je.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ue=new Se((function(){return new je}),(function(e){e.reset()}),100);function Be(e,t,n){var r=Ue.get();return r.g=e,r.b=t,r.f=n,r}function Ve(e){if(e instanceof De)return e;var t=new De(s);return Ge(t,Le,e),t}function qe(e){return new De((function(t,n){n(e)}))}function We(e,t,n){Xe(e,t,n,null)||Oe(b(t,e))}function ze(e,t){return(t=Be(t,t,void 0)).c=!0,He(e,t),e}function Ke(e,t){if(e.a==Me)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Me&&1==r?Ke(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):$e(n),Je(n,i,Fe,t)))}e.c=null}else Ge(e,Fe,t)}function He(e,t){e.b||e.a!=Le&&e.a!=Fe||Ye(e),e.f?e.f.next=t:e.b=t,e.f=t}function Qe(e,t,n,r){var i=Be(null,null,null);return i.a=new De((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof tt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,He(e,i),i.a}function Ge(e,t,n){e.a==Me&&(e===n&&(t=Fe,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Xe(n,e.Ac,e.Bc,e)||(e.i=n,e.a=t,e.c=null,Ye(e),t!=Fe||n instanceof tt||function(e,t){e.g=!0,Oe((function(){e.g&&et.call(null,t)}))}(e,n)))}function Xe(e,t,n,r){if(e instanceof De)return He(e,Be(t||s,n||null,r)),!0;if(we(e))return e.then(t,n,r),!0;if(d(e))try{var i=e.then;if(f(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ye(e){e.h||(e.h=!0,Oe(e.Qb,e))}function $e(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Je(e,t,n,r){if(n==Fe&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ze(t,n,r);else try{t.c?t.g.call(t.f):Ze(t,n,r)}catch(i){et.call(null,i)}Ee(Ue,t)}function Ze(e,t,n){t==Le?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}De.prototype.then=function(e,t,n){return Qe(this,f(e)?e:null,f(t)?t:null,n)},_e(De),(e=De.prototype).s=function(e,t){return Qe(this,null,e,t)},e.cancel=function(e){this.a==Me&&Oe((function(){Ke(this,new tt(e))}),this)},e.Ac=function(e){this.a=Me,Ge(this,Le,e)},e.Bc=function(e){this.a=Me,Ge(this,Fe,e)},e.Qb=function(){for(var e;e=$e(this);)Je(this,e,this.a,this.i);this.h=!1};var et=Pe;function tt(e){S.call(this,e)}w(tt,S),tt.prototype.name="cancel";var nt=!se||9<=Number(ye);function rt(){this.a="",this.b=ot}function it(e){return e instanceof rt&&e.constructor===rt&&e.b===ot?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}rt.prototype.la=!0,rt.prototype.ja=function(){return this.a},rt.prototype.toString=function(){return"Const{"+this.a+"}"};var ot={};function at(e){var t=new rt;return t.a=e,t}function st(){this.a="",this.b=ft}function ut(e){return e instanceof st&&e.constructor===st&&e.b===ft?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+u(e)),"type_error:TrustedResourceUrl")}function ct(e,t){return e=function(e,t){var n=it(e);if(!ht.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return n.replace(lt,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof rt?it(e):encodeURIComponent(String(e))}))}(e,t),(t=new st).a=e,t}at(""),st.prototype.la=!0,st.prototype.ja=function(){return this.a},st.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var lt=/%{(\w+)}/g,ht=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank(#|$)/i,ft={};function dt(){this.a="",this.b=gt}function pt(e){return e instanceof dt&&e.constructor===dt&&e.b===gt?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+u(e)),"type_error:SafeUrl")}dt.prototype.la=!0,dt.prototype.ja=function(){return this.a},dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function yt(e){return e instanceof dt?e:(e=e.la?e.ja():String(e),mt.test(e)||(e="about:invalid#zClosurez"),vt(e))}var gt={};function vt(e){var t=new dt;return t.a=e,t}function bt(){this.a="",this.b=_t}vt("about:blank"),bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var _t={};function wt(e){var t=new bt;return t.a=e,t}function St(e){var t=document;return o(e)?t.getElementById(e):e}function Et(e,t){Y(t,(function(t,n){t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ct.hasOwnProperty(n)?e.setAttribute(Ct[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}wt("<!DOCTYPE html>"),wt(""),wt("<br>");var Ct={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Tt(e,t,n){function r(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!h(a)||d(a)&&0<a.nodeType?r(a):j(kt(a)?H(a):a,r)}}function kt(e){if(e&&"number"==typeof e.length){if(d(e))return"function"==typeof e.item||"string"==typeof e.item;if(f(e))return"function"==typeof e.item}return!1}function It(e){var t=[];return Pt(new Nt,e,t),t.join("")}function Nt(){}function Pt(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(l(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Pt(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),At(r,n),n.push(":"),Pt(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":At(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}var Ot={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Rt=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function At(e,t){t.push('"',e.replace(Rt,(function(e){var t=Ot[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ot[e]=t),t})),'"')}function xt(){0!=Dt&&(Mt[this[p]||(this[p]=++m)]=this),this.oa=this.oa,this.Fa=this.Fa}var Dt=0,Mt={};function Lt(e){e.oa||(e.oa=!0,e.ta(),0!=Dt&&(e=e[p]||(e[p]=++m),delete Mt[e]))}xt.prototype.oa=!1,xt.prototype.ta=function(){if(this.Fa)for(;this.Fa.length;)this.Fa.shift()()};var Ft=Object.freeze||function(e){return e},jt=!se||9<=Number(ye),Ut=se&&!ve("9"),Bt=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return i.addEventListener("test",s,t),i.removeEventListener("test",s,t),e}();function Vt(e,t){this.type=e,this.b=this.target=t,this.Bb=!0}function qt(e,t){if(Vt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(le){e:{try{ie(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=o(e.pointerType)?e.pointerType:Wt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}Vt.prototype.c=function(){this.Bb=!1},w(qt,Vt);var Wt=Ft({2:"touch",3:"pen",4:"mouse"});qt.prototype.c=function(){qt.ib.c.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ut)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},qt.prototype.g=function(){return this.a};var zt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Ht(e,t,n,r,i){this.listener=e,this.a=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++Kt,this.ma=this.Ha=!1}function Qt(e){e.ma=!0,e.listener=null,e.a=null,e.src=null,e.La=null}function Gt(e){this.src=e,this.a={},this.b=0}function Xt(e,t,n,r,i,o){var a=t.toString();(t=e.a[a])||(t=e.a[a]=[],e.b++);var s=$t(t,n,i,o);return-1<s?(e=t[s],r||(e.Ha=!1)):((e=new Ht(n,e.src,a,!!i,o)).Ha=r,t.push(e)),e}function Yt(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(Qt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function $t(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ma&&o.listener==t&&o.capture==!!n&&o.La==r)return i}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),Zt={};function en(e,t,n,r,i){if(r&&r.once)nn(e,t,n,r,i);else if(l(t))for(var o=0;o<t.length;o++)en(e,t[o],n,r,i);else n=fn(n),e&&e[zt]?mn(e,t,n,d(r)?!!r.capture:!!r,i):tn(e,t,n,!1,r,i)}function tn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=ln(e);if(s||(e[Jt]=s=new Gt(e)),!(n=Xt(s,t,n,r,a,o)).a){if(r=function(){var e=cn,t=jt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.a=r,r.src=e,r.listener=n,e.addEventListener)Bt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(an(t.toString()),r)}0}}function nn(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)nn(e,t[o],n,r,i);else n=fn(n),e&&e[zt]?yn(e,t,n,d(r)?!!r.capture:!!r,i):tn(e,t,n,!0,r,i)}function rn(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)rn(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=fn(n),e&&e[zt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=$t(o=e.a[t],n,r,i))&&(Qt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=ln(e))&&(t=e.a[t.toString()],e=-1,t&&(e=$t(t,n,r,i)),(n=-1<e?t[e]:null)&&on(n))}function on(e){if("number"!=typeof e&&e&&!e.ma){var t=e.src;if(t&&t[zt])Yt(t.u,e);else{var n=e.type,r=e.a;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(an(n),r),(n=ln(t))?(Yt(n,e),0==n.b&&(n.src=null,t[Jt]=null)):Qt(e)}}}function an(e){return e in Zt?Zt[e]:Zt[e]="on"+e}function sn(e,t,n,r){var i=!0;if((e=ln(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ma&&(o=un(o,r),i=i&&!1!==o)}return i}function un(e,t){var n=e.listener,r=e.La||e.src;return e.Ha&&on(e),n.call(r,t)}function cn(e,t){if(e.ma)return!0;if(!jt){if(!t)e:{t=["window","event"];for(var n=i,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new qt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var a=sn(r[o],e,!0,t);n=n&&a}for(o=0;o<r.length;o++)t.b=r[o],a=sn(r[o],e,!1,t),n=n&&a}return n}return un(e,new qt(t,this))}function ln(e){return(e=e[Jt])instanceof Gt?e:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(e){return f(e)?e:(e[hn]||(e[hn]=function(t){return e.handleEvent(t)}),e[hn])}function dn(){xt.call(this),this.u=new Gt(this),this.Ib=this,this.Ra=null}function pn(e,t){var n,r=e.Ra;if(r)for(n=[];r;r=r.Ra)n.push(r);if(e=e.Ib,r=t.type||t,o(t))t=new Vt(t,e);else if(t instanceof Vt)t.target=t.target||e;else{var i=t;re(t=new Vt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.b=n[a];i=gn(s,r,!0,t)&&i}if(i=gn(s=t.b=e,r,!0,t)&&i,i=gn(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gn(s=t.b=n[a],r,!1,t)&&i}function mn(e,t,n,r,i){Xt(e.u,String(t),n,!1,r,i)}function yn(e,t,n,r,i){Xt(e.u,String(t),n,!0,r,i)}function gn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Yt(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Bb}function vn(e,t,n){if(f(e))n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function bn(e){var t=null;return new De((function(n,r){-1==(t=vn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw i.clearTimeout(t),e}))}function _n(e,t,n,r,i){this.reset(e,t,n,r,i)}w(dn,xt),dn.prototype[zt]=!0,dn.prototype.removeEventListener=function(e,t,n,r){rn(this,e,t,n,r)},dn.prototype.ta=function(){if(dn.ib.ta.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qt(n[r]);delete t.a[e],t.b--}}this.Ra=null},_n.prototype.a=null;function wn(e){this.f=e,this.b=this.c=this.a=null}function Sn(e,t){this.name=e,this.value=t}_n.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||_(),this.b=t,delete this.a},Sn.prototype.toString=function(){return this.name};var En=new Sn("SEVERE",1e3),Cn=new Sn("CONFIG",700),Tn=new Sn("FINE",500);function kn(e){return e.c?e.c:e.a?kn(e.a):(L("Root logger has no level set."),null)}wn.prototype.log=function(e,t,n){if(e.value>=kn(this).value)for(f(t)&&(t=t()),e=new _n(e,String(t),this.f),n&&(e.a=n),n="log:"+e.b,(e=i.console)&&e.timeStamp&&e.timeStamp(n),(e=i.msWriteProfilerMark)&&e(n),n=this;n;)n=n.a};var In={},Nn=null;function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){e instanceof Pn?(n=e.S(),r=e.P()):(n=J(e),r=$(e));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function An(e,t){e&&e.log(Tn,t,void 0)}(e=Pn.prototype).P=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.S=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.S(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var xn=null,Dn=null;function Mn(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Dn[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!xn){xn={},Dn={};for(var e=0;65>e;e++)xn[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Dn[xn[e]]=e,62<=e&&(Dn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Ln(e,t){this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Fn(e,t,n){e.a=!0,e.c=n,e.f=!t,Vn(e)}function jn(e){if(e.a){if(!e.u)throw new qn;e.u=!1}}function Un(e,t,n,r){e.g.push([t,n,r]),e.a&&Vn(e)}function Bn(e){return V(e.g,(function(e){return f(e[1])}))}function Vn(e){if(e.h&&e.a&&Bn(e)){var t=e.h,n=Hn[t];n&&(i.clearTimeout(n.a),delete Hn[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),a=o[0],s=o[1];if(o=o[2],a=e.f?s:a)try{var u=a.call(o||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(we(t)||"function"===typeof i.Promise&&t instanceof i.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Bn(e)||(n=!0)}}e.c=t,r&&(u=v(e.m,e,!0),r=v(e.m,e,!1),t instanceof Ln?(Un(t,u,r),t.w=!0):t.then(u,r)),n&&(t=new zn(t),Hn[t.a]=t,e.h=t.a)}function qn(){S.call(this)}function Wn(){S.call(this)}function zn(e){this.a=i.setTimeout(v(this.c,this),0),this.b=e}Ln.prototype.cancel=function(e){if(this.a)this.c instanceof Ln&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Wn,jn(this),Fn(this,!1,e))}},Ln.prototype.m=function(e,t){this.i=!1,Fn(this,e,t)},Ln.prototype.A=function(e){jn(this),Fn(this,!0,e)},Ln.prototype.then=function(e,t,n){var r,i,o=new De((function(e,t){r=e,i=t}));return Un(this,r,(function(e){e instanceof Wn?o.cancel():i(e)})),o.then(e,t,n)},_e(Ln),w(qn,S),qn.prototype.message="Deferred has already fired",qn.prototype.name="AlreadyCalledError",w(Wn,S),Wn.prototype.message="Deferred was canceled",Wn.prototype.name="CanceledError",zn.prototype.c=function(){throw delete Hn[this.a],this.b};var Kn,Hn={};function Qn(e,t){this.b=-1,this.b=Gn,this.f=i.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=i.Int32Array?new Int32Array(64):Array(64),Kn||(Kn=i.Int32Array?new Int32Array(tr):tr),this.reset()}w(Qn,(function(){this.b=-1}));for(var Gn=64,Xn=Gn-1,Yn=[],$n=0;$n<Xn;$n++)Yn[$n]=0;var Jn=K(128,Yn);function Zn(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Kn[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function er(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(o(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Zn(e),i=0);else{if(!h(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[i++]=a,i==e.b&&(Zn(e),i=0)}}e.c=i,e.g+=n}Qn.prototype.reset=function(){this.g=this.c=0,this.a=i.Int32Array?new Int32Array(this.h):H(this.h)};var tr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function nr(){Qn.call(this,8,rr)}w(nr,Qn);var rr=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ir(e){if(e.P&&"function"==typeof e.P)return e.P();if(o(e))return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return $(e)}function or(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(h(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return J(e)}}var ar=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sr(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof sr){this.f=void 0!==t?t:e.f,ur(this,e.c),this.l=e.l,this.b=e.b,cr(this,e.i),this.g=e.g,t=e.a;var n=new Cr;n.c=t.c,t.a&&(n.a=new Pn(t.a),n.b=t.b),lr(this,n),this.h=e.h}else e&&(n=String(e).match(ar))?(this.f=!!t,ur(this,n[1]||"",!0),this.l=mr(n[2]||""),this.b=mr(n[3]||"",!0),cr(this,n[4]),this.g=mr(n[5]||"",!0),lr(this,n[6]||"",!0),this.h=mr(n[7]||"")):(this.f=!!t,this.a=new Cr(null,0,this.f))}function ur(e,t,n){e.c=n?mr(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function cr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function lr(e,t,n){t instanceof Cr?(e.a=t,function(e,t){t&&!e.f&&(Tr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Nr(this,t),Or(this,n,e))}),e)),e.f=t}(e.a,e.f)):(n||(t=yr(t,Sr)),e.a=new Cr(t,0,e.f))}function hr(e,t,n){e.a.set(t,n)}function fr(e,t){return e.a.get(t)}function dr(e){return e instanceof sr?new sr(e):new sr(e,void 0)}function pr(e,t){var n=new sr(null,void 0);return ur(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function mr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yr(e,t,n){return o(e)?(e=encodeURI(e).replace(t,gr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sr.prototype.toString=function(){var e=[],t=this.c;t&&e.push(yr(t,br,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(yr(t,br,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(yr(n,"/"==n.charAt(0)?wr:_r,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",yr(n,Er)),e.join("")};var vr,br=/[#\/\?@]/g,_r=/[\#\?:]/g,wr=/[\#\?]/g,Sr=/[\#\?@]/g,Er=/#/g;function Cr(e,t,n){this.b=this.a=null,this.c=e||null,this.f=!!n}function Tr(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){Ir(e,decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kr(e){var t=or(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Cr(null,0,void 0);e=ir(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];l(o)?Or(n,i,o):Ir(n,i,o)}return n}function Ir(e,t,n){Tr(e),e.c=null,t=Rr(e,t);var r=e.a.get(t);r||e.a.set(t,r=[]),r.push(n),e.b+=1}function Nr(e,t){Tr(e),t=Rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function Pr(e,t){return Tr(e),t=Rr(e,t),Rn(e.a.b,t)}function Or(e,t,n){Nr(e,t),0<n.length&&(e.c=null,e.a.set(Rr(e,t),H(n)),e.b+=n.length)}function Rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Ar(){}function xr(e){return e.c||(e.c=e.b())}function Dr(){}function Mr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Lr(e){dn.call(this),this.headers=new Pn,this.w=e||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.A=!1,this.f=0,this.m=null,this.l=Fr,this.o=this.N=!1}(e=Cr.prototype).clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Tr(this),this.a.forEach((function(n,r){j(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.S=function(){Tr(this);for(var e=this.a.P(),t=this.a.S(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.P=function(e){Tr(this);var t=[];if(o(e))Pr(this,e)&&(t=K(t,this.a.get(Rr(this,e))));else{e=this.a.P();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},e.set=function(e,t){return Tr(this),this.c=null,Pr(this,e=Rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return 0<(e=e?this.P(e):[]).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.S(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.P(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},Ar.prototype.c=null,w(Dr,Ar),Dr.prototype.a=function(){var e=Mr(this);return e?new ActiveXObject(e):new XMLHttpRequest},Dr.prototype.b=function(){var e={};return Mr(this)&&(e[0]=!0,e[1]=!0),e},vr=new Dr,w(Lr,dn);var Fr="",jr=Lr.prototype,Ur=function e(t){var n;if(Nn||(Nn=new wn(""),In[""]=Nn,Nn.c=Cn),!(n=In[t])){n=new wn(t);var r=t.lastIndexOf("."),i=t.substr(r+1);(r=e(t.substr(0,r))).b||(r.b={}),r.b[i]=n,n.a=r,In[t]=n}return n}("goog.net.XhrIo");jr.J=Ur;var Br=/^https?$/i,Vr=["POST","PUT"];function qr(e,t,n,r,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.i+"; newUri="+t);n=n?n.toUpperCase():"GET",e.i=t,e.g="",e.I=n,e.A=!1,e.b=!0,e.a=e.w?e.w.a():vr.a(),e.v=e.w?xr(e.w):xr(vr),e.a.onreadystatechange=v(e.Ab,e);try{An(e.J,$r(e,"Opening Xhr")),e.G=!0,e.a.open(n,String(t),!0),e.G=!1}catch(u){return An(e.J,$r(e,"Error opening Xhr: "+u.message)),void zr(e,u)}t=r||"";var s=new Pn(e.headers);a&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||o(e))j(e,t,void 0);else for(var n=or(e),r=ir(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(a,(function(e,t){s.set(t,e)})),a=function(e){e:{for(var t=Wr,n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:o(e)?e.charAt(t):e[t]}(s.S()),r=i.FormData&&t instanceof i.FormData,!q(Vr,n)||a||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.l&&(e.a.responseType=e.l),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{Gr(e),0<e.f&&(e.o=function(e){return se&&ve(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),An(e.J,$r(e,"Will abort after "+e.f+"ms if incomplete, xhr2 "+e.o)),e.o?(e.a.timeout=e.f,e.a.ontimeout=v(e.Ea,e)):e.m=vn(e.Ea,e.f,e)),An(e.J,$r(e,"Sending request")),e.h=!0,e.a.send(t),e.h=!1}catch(u){An(e.J,$r(e,"Send error: "+u.message)),zr(e,u)}}function Wr(e){return"content-type"==e.toLowerCase()}function zr(e,t){e.b=!1,e.a&&(e.c=!0,e.a.abort(),e.c=!1),e.g=t,Kr(e),Qr(e)}function Kr(e){e.A||(e.A=!0,pn(e,"complete"),pn(e,"error"))}function Hr(e){if(e.b&&"undefined"!=typeof r)if(e.v[1]&&4==Xr(e)&&2==Yr(e))An(e.J,$r(e,"Local request error detected and ignored"));else if(e.h&&4==Xr(e))vn(e.Ab,0,e);else if(pn(e,"readystatechange"),4==Xr(e)){An(e.J,$r(e,"Request complete")),e.b=!1;try{var t,n=Yr(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(t=o)){var a;if(a=0===n){var s=String(e.i).match(ar)[1]||null;if(!s&&i.self&&i.self.location){var u=i.self.location.protocol;s=u.substr(0,u.length-1)}a=!Br.test(s?s.toLowerCase():"")}t=a}if(t)pn(e,"complete"),pn(e,"success");else{try{var c=2<Xr(e)?e.a.statusText:""}catch(l){An(e.J,"Can not get status: "+l.message),c=""}e.g=c+" ["+Yr(e)+"]",Kr(e)}}finally{Qr(e)}}}function Qr(e,t){if(e.a){Gr(e);var n=e.a,r=e.v[0]?s:null;e.a=null,e.v=null,t||pn(e,"ready");try{n.onreadystatechange=r}catch(i){(e=e.J)&&e.log(En,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Gr(e){e.a&&e.o&&(e.a.ontimeout=null),"number"==typeof e.m&&(i.clearTimeout(e.m),e.m=null)}function Xr(e){return e.a?e.a.readyState:0}function Yr(e){try{return 2<Xr(e)?e.a.status:-1}catch(t){return-1}}function $r(e,t){return t+" ["+e.I+" "+e.i+" "+Yr(e)+"]"}(e=Lr.prototype).Ea=function(){"undefined"!=typeof r&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",An(this.J,$r(this,this.g)),pn(this,"timeout"),this.abort(8))},e.abort=function(){this.a&&this.b&&(An(this.J,$r(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,pn(this,"complete"),pn(this,"abort"),Qr(this))},e.ta=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),Qr(this,!0)),Lr.ib.ta.call(this)},e.Ab=function(){this.oa||(this.G||this.h||this.c?Hr(this):this.jc())},e.jc=function(){Hr(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case Fr:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.J;return e&&e.log(En,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(t){return An(this.J,"Can not get response: "+t.message),null}};var Jr=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Zr(e){var t={},n=t.document||document,r=ut(e),i=document.createElement("SCRIPT"),o={Cb:i,Ea:void 0},a=new Ln(ei,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){ti(i,!0);var e=new ii(ri,"Timeout reached for loading script "+r);jn(a),Fn(a,!1,e)}),u),o.Ea=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ti(i,t.Sc||!1,s),a.A(null))},i.onerror=function(){ti(i,!0,s);var e=new ii(ni,"Error while loading script "+r);jn(a),Fn(a,!1,e)},re(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Et(i,o),i.src=ut(e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ei(){if(this&&this.Cb){var e=this.Cb;e&&"SCRIPT"==e.tagName&&ti(e,!0,this.Ea)}}function ti(e,t,n){null!=n&&i.clearTimeout(n),e.onload=s,e.onerror=s,e.onreadystatechange=s,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var ni=0,ri=1;function ii(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),S.call(this,n),this.code=e}function oi(){}function ai(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.a.onload=v(this.Wb,this),this.a.onerror=v(this.xb,this),this.a.onprogress=v(this.Xb,this),this.a.ontimeout=v(this.Yb,this)}function si(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ui(){var e=ki();return se&&!!ye&&11==ye||/Edge\/\d+/.test(e)}function ci(){return i.window&&i.window.location.href||""}function li(e,t){t=t||i.window;var n="about:blank";e&&(n=pt(yt(e))),t.location.href=n}function hi(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):l(e[n])?ee(e[n],t[n])||r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<hi(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function fi(e){return!!((e=(e||ki()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function di(e){e=e||i.window;try{e.close()}catch(t){}}function pi(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ki().toLowerCase(),r&&(t.target=r,x(n,"crios/")&&(t.target="_blank")),Ei(ki())==wi&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(r=t)||(r={}),e=window,t=n instanceof dt?n:yt("undefined"!=typeof n.href?n.href:String(n)),n=r.target||n.target,i=[],r)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:i.push(a+"="+(r[a]?1:0))}var a=i.join(",");if((X("iPhone")&&!X("iPod")&&!X("iPad")||X("iPad")||X("iPod"))&&e.navigator&&e.navigator.standalone&&n&&"_self"!=n?(a=e.document.createElement("A"),t instanceof dt||t instanceof dt||(t=t.la?t.ja():String(t),mt.test(t)||(t="about:invalid#zClosurez"),t=vt(t)),a.href=pt(t),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=e.open("",n,a),e=pt(t),a&&(ce&&x(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,at("b/12014412, meta tag with sanitized URL"),e=wt(e='<META HTTP-EQUIV="refresh" content="0; url='+T(e)+'">'),a.document.write(function(e){return e instanceof bt&&e.constructor===bt&&e.b===_t?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+u(e)),"type_error:SafeHtml")}(e)),a.document.close())):a=e.open(pt(t),n,a),a)try{a.focus()}catch(s){}return a}w(ii,S),w(oi,Ar),oi.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ai;throw Error("Unsupported browser")},oi.prototype.b=function(){return{}},(e=ai.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.Wb=function(){this.status=200,this.responseText=this.a.responseText,si(this,4)},e.xb=function(){this.status=500,this.responseText="",si(this,4)},e.Yb=function(){this.xb()},e.Xb=function(){this.status=200,si(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};var mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function yi(){var e=null;return new De((function(t){"complete"==i.document.readyState?t():(e=function(){t()},nn(window,"load",e))})).s((function(t){throw rn(window,"load",e),t}))}function gi(e){return e=e||ki(),!("file:"!==Ri()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vi(){var e=i.window;try{return!(!e||e==e.top)}catch(t){return!1}}function bi(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function _i(){var e=bi();return"ReactNative"===e||"Node"===e}var wi="Firefox",Si="Chrome";function Ei(e){var t=e.toLowerCase();return x(t,"opera/")||x(t,"opr/")||x(t,"opios/")?"Opera":x(t,"iemobile")?"IEMobile":x(t,"msie")||x(t,"trident/")?"IE":x(t,"edge/")?"Edge":x(t,"firefox/")?wi:x(t,"silk/")?"Silk":x(t,"blackberry")?"Blackberry":x(t,"webos")?"Webos":!x(t,"safari/")||x(t,"chrome/")||x(t,"crios/")||x(t,"android")?!x(t,"chrome/")&&!x(t,"crios/")||x(t,"edge/")?x(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Si:"Safari"}var Ci={Gc:"FirebaseCore-web",Ic:"FirebaseUI-web"};function Ti(e,t){t=t||[];var n,r=[],i={};for(n in Ci)i[Ci[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),i="",(i="Browser"===(r=bi())?Ei(ki()):r)+"/JsCore/"+e+"/"+t.join(",")}function ki(){return i.navigator&&i.navigator.userAgent||""}function Ii(e,t){e=e.split("."),t=t||i;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ni(){try{var e=i.localStorage,t=Li();if(e)return e.setItem(t,"1"),e.removeItem(t),!ui()||!!i.indexedDB}catch(n){}return!1}function Pi(){return(Oi()||"chrome-extension:"===Ri()||gi())&&!_i()&&Ni()}function Oi(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return i.location&&i.location.protocol||null}function Ai(e){return!fi(e=e||ki())&&Ei(e)!=wi}function xi(e){return"undefined"===typeof e?null:It(e)}function Di(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Mi(e){if(null!==e)return JSON.parse(e)}function Li(e){return e||""+Math.floor(1e9*Math.random()).toString()}function Fi(e){return"Safari"!=Ei(e=e||ki())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function ji(){var e=i.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ui(){var e=i.navigator;return!e||"boolean"!==typeof e.onLine||!Oi()&&"chrome-extension:"!==Ri()&&"undefined"===typeof e.connection||e.onLine}function Bi(e,t,n,r){if(e>t)throw Error("Short delay should be less than long delay!");this.c=e,this.b=t,e=n||ki(),r=r||bi(),this.a=fi(e)||"ReactNative"===r}function Vi(){var e=i.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function qi(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}Bi.prototype.get=function(){return this.a?this.b:this.c};var Wi,zi={};try{var Ki={};Object.defineProperty(Ki,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ki,"abcd",{configurable:!0,enumerable:!0,value:2}),Wi=2==Ki.abcd}catch(tl){Wi=!1}function Hi(e,t,n){Wi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Qi(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Hi(e,n,t[n])}function Gi(e){var t={};return Qi(t,e),t}function Xi(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Hi(t,n,Xi(e[n]));return t}function Yi(e){var t={},n=e[$i],r=e[Ji];if(e=e[Zi],!n||!e)throw Error("Invalid provider user info!");t[to]=r||null,t[eo]=n,Hi(this,ro,e),Hi(this,no,Xi(t))}var $i="email",Ji="newEmail",Zi="requestType",eo="email",to="fromEmail",no="data",ro="operation";function io(e,t){this.code=ao+e,this.message=t||so[e]||""}function oo(e){var t=e&&e.code;return t?new io(t.substring(ao.length),e.message):null}w(io,Error),io.prototype.B=function(){return{code:this.code,message:this.message}},io.prototype.toJSON=function(){return this.B()};var ao="auth/",so={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function uo(e){var t=e[fo];if("undefined"===typeof t)throw new io("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new io("invalid-continue-uri");this.h=t,this.c=this.a=null,this.g=!1;var n=e[co];if(n&&"object"===typeof n){t=n[yo];var r=n[po];if(n=n[mo],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new io("argument-error",po+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new io("argument-error",mo+" property must be a non empty string when specified.");this.c=n||null}else{if("undefined"!==typeof t)throw new io("argument-error",yo+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new io("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new io("argument-error",co+" property must be a non null object when specified.");if(this.b=null,(t=e[ho])&&"object"===typeof t){if("string"===typeof(t=t[go])&&t.length)this.b=t;else if("undefined"!==typeof t)throw new io("argument-error",go+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new io("argument-error",ho+" property must be a non null object when specified.");if("undefined"!==typeof(e=e[lo])&&"boolean"!==typeof e)throw new io("argument-error",lo+" property must be a boolean when specified.");if((this.f=!!e)&&!this.b&&!this.a)throw new io("argument-error",lo+" property can't be true when no mobile application is provided.")}var co="android",lo="handleCodeInApp",ho="iOS",fo="url",po="installApp",mo="minimumVersion",yo="packageName",go="bundleId";function vo(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.f,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.c,t.androidInstallApp=e.g),t.iOSBundleId=e.b,t)null===t[n]&&delete t[n];return t}function bo(e){this.b=e.sub,_(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null}function _o(e){if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=JSON.parse(Mn(e));if(r.sub&&r.iss&&r.aud&&r.exp)return new bo(r)}catch(i){}return null}var wo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),So=["client_id","response_type","scope","redirect_uri","state"],Eo={Hc:{Ma:"locale",za:500,ya:600,Na:"facebook.com",$a:So},Jc:{Ma:null,za:500,ya:620,Na:"github.com",$a:So},Kc:{Ma:"hl",za:515,ya:680,Na:"google.com",$a:So},Qc:{Ma:"lang",za:485,ya:705,Na:"twitter.com",$a:wo}};function Co(e){for(var t in Eo)if(Eo[t].Na==e)return Eo[t];return null}function To(e){var t={};t["facebook.com"]=Oo,t["google.com"]=Ao,t["github.com"]=Ro,t["twitter.com"]=xo;var n=e&&e[Io];try{if(n)return t[n]?new t[n](e):new Po(e);if("undefined"!==typeof e[ko])return new No(e)}catch(r){}return null}var ko="idToken",Io="providerId";function No(e){var t=e[Io];if(!t&&e[ko]){var n=_o(e[ko]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Hi(this,"providerId",t),Hi(this,"isNewUser",n)}function Po(e){No.call(this,e),Hi(this,"profile",Xi((e=Mi(e.rawUserInfo||"{}"))||{}))}function Oo(e){if(Po.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ro(e){if(Po.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",this.profile&&this.profile.login||null)}function Ao(e){if(Po.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function xo(e){if(Po.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hi(this,"username",e.screenName||null)}function Do(e,t){return e.then((function(e){if(e[ca]){var n=_o(e[ca]);if(!n||t!=n.b)throw new io("user-mismatch");return e}throw new io("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==ao+"user-not-found"?new io("user-mismatch"):e}))}function Mo(e,t){if(t.idToken||t.accessToken)t.idToken&&Hi(this,"idToken",t.idToken),t.accessToken&&Hi(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new io("internal-error","failed to construct a credential");Hi(this,"accessToken",t.oauthToken),Hi(this,"secret",t.oauthTokenSecret)}Hi(this,"providerId",e)}function Lo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:kr(t).toString(),requestUri:"http://localhost"}}function Fo(e,t){this.rc=t||[],Qi(this,{providerId:e,isOAuthProvider:!0}),this.rb={},this.Wa=(Co(e)||{}).Ma||null,this.Ua=null}function jo(e){Fo.call(this,e,So),this.a=[]}function Uo(){jo.call(this,"facebook.com")}function Bo(e){if(!e)throw new io("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Uo).credential(null,t)}function Vo(){jo.call(this,"github.com")}function qo(e){if(!e)throw new io("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new Vo).credential(null,t)}function Wo(){jo.call(this,"google.com"),this.sa("profile")}function zo(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new Wo).credential(n,t)}function Ko(){Fo.call(this,"twitter.com",wo)}function Ho(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new io("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mo("twitter.com",n)}function Qo(e,t){this.a=e,this.f=t,Hi(this,"providerId","password")}function Go(){Qi(this,{providerId:"password",isOAuthProvider:!1})}function Xo(e){if(!(e.Pa&&e.Oa||e.Da&&e.Y))throw new io("internal-error");this.a=e,Hi(this,"providerId","phone")}function Yo(e){return e.a.Da&&e.a.Y?{temporaryProof:e.a.Da,phoneNumber:e.a.Y}:{sessionInfo:e.a.Pa,code:e.a.Oa}}function $o(e){try{this.a=e||t.auth()}catch(n){throw new io("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qi(this,{providerId:"phone",isOAuthProvider:!1})}function Jo(e,t){if(!e)throw new io("missing-verification-id");if(!t)throw new io("missing-verification-code");return new Xo({Pa:e,Oa:t})}function Zo(e){if(e.temporaryProof&&e.phoneNumber)return new Xo({Da:e.temporaryProof,Y:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return zo(e,n);case"facebook.com":return Bo(n);case"github.com":return qo(n);case"twitter.com":return Ho(n,r);default:return new jo(t).credential(e,n)}}catch(i){return null}}function ea(e){if(!e.isOAuthProvider)throw new io("invalid-oauth-provider")}function ta(e,t,n,r,i){if(this.b=e,this.c=t||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new io("invalid-auth-event");if(this.f&&this.a)throw new io("invalid-auth-event");if(this.f&&!this.g)throw new io("invalid-auth-event")}function na(e){return(e=e||{}).type?new ta(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&oo(e.error)):null}function ra(e){var t="unauthorized-domain",n=void 0,r=dr(e);e=r.b,"chrome-extension"==(r=r.c)?n=E("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=E("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",io.call(this,t,n)}function ia(e,t,n){io.call(this,e,n),(e=t||{}).sb&&Hi(this,"email",e.sb),e.Y&&Hi(this,"phoneNumber",e.Y),e.credential&&Hi(this,"credential",e.credential)}function oa(e){if(e.code){var t=e.code||"";0==t.indexOf(ao)&&(t=t.substring(ao.length));var n={credential:Zo(e)};if(e.email)n.sb=e.email;else{if(!e.phoneNumber)return new io(t,e.message||void 0);n.Y=e.phoneNumber}return new ia(t,n,e.message)}return null}function aa(e){this.f=e}function sa(e,n,r){var o="Node"==bi();if(!(o=i.XMLHttpRequest||o&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest))throw new io("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=e,e=n||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||la,this.c=te(e.secureTokenHeaders||ha),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||fa,this.a=te(e.firebaseHeaders||da),r&&(this.a["X-Client-Version"]=r,this.c["X-Client-Version"]=r),this.f=new oi,this.o=new aa(o)}w(Po,No),w(Oo,Po),w(Ro,Po),w(Ao,Po),w(xo,Po),Mo.prototype.wa=function(e){return ka(e,Lo(this))},Mo.prototype.b=function(e,t){var n=Lo(this);return n.idToken=t,Ia(e,n)},Mo.prototype.c=function(e,t){return Do(Na(e,Lo(this)),t)},Mo.prototype.B=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},Fo.prototype.Ba=function(e){return this.rb=te(e),this},w(jo,Fo),jo.prototype.sa=function(e){return q(this.a,e)||this.a.push(e),this},jo.prototype.wb=function(){return H(this.a)},jo.prototype.credential=function(e,t){if(!e&&!t)throw new io("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mo(this.providerId,{idToken:e||null,accessToken:t||null})},w(Uo,jo),Hi(Uo,"PROVIDER_ID","facebook.com"),w(Vo,jo),Hi(Vo,"PROVIDER_ID","github.com"),w(Wo,jo),Hi(Wo,"PROVIDER_ID","google.com"),w(Ko,Fo),Hi(Ko,"PROVIDER_ID","twitter.com"),Qo.prototype.wa=function(e){return es(e,Ya,{email:this.a,password:this.f})},Qo.prototype.b=function(e,t){return es(e,za,{idToken:t,email:this.a,password:this.f})},Qo.prototype.c=function(e,t){return Do(this.wa(e),t)},Qo.prototype.B=function(){return{email:this.a,password:this.f}},Qi(Go,{PROVIDER_ID:"password"}),Xo.prototype.wa=function(e){return e.Qa(Yo(this))},Xo.prototype.b=function(e,t){var n=Yo(this);return n.idToken=t,es(e,Ja,n)},Xo.prototype.c=function(e,t){var n=Yo(this);return n.operation="REAUTH",Do(e=es(e,Za,n),t)},Xo.prototype.B=function(){var e={providerId:"phone"};return this.a.Pa&&(e.verificationId=this.a.Pa),this.a.Oa&&(e.verificationCode=this.a.Oa),this.a.Da&&(e.temporaryProof=this.a.Da),this.a.Y&&(e.phoneNumber=this.a.Y),e},$o.prototype.Qa=function(e,t){var n=this.a.c;return Ve(t.verify()).then((function(r){if(!o(r))throw new io("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type)return function(e,t){return es(e,qa,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));throw new io("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Qi($o,{PROVIDER_ID:"phone"}),ta.prototype.B=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.B()}},w(ra,io),w(ia,io),ia.prototype.B=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.B();return t&&re(e,t),e},ia.prototype.toJSON=function(){return this.B()},w(aa,Ar),aa.prototype.a=function(){return new this.f},aa.prototype.b=function(){return{}};var ua,ca="idToken",la=new Bi(3e4,6e4),ha={"Content-Type":"application/x-www-form-urlencoded"},fa=new Bi(3e4,6e4),da={"Content-Type":"application/json"};function pa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ma(e,t){t?(e.a["X-Client-Version"]=t,e.c["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.c["X-Client-Version"])}function ya(e,t,n,r,o,a,s){Ui()?(function(){var e=ki();return!((e=Ei(e)!=Si?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!se||!ye||9<ye)}()?e=v(e.m,e):(ua||(ua=new De((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{i[va]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Un(e,null,t,void 0)}(Zr(ct(ga,{onload:va})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=v(e.u,e)),e(t,n,r,o,a,s)):n&&n(null)}sa.prototype.m=function(e,t,n,r,i,o){var a="Node"==bi(),s=_i()?a?new Lr(this.o):new Lr:new Lr(this.f);if(o){s.f=Math.max(0,o);var u=setTimeout((function(){pn(s,"timeout")}),o)}mn(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return An(e.J,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),yn(s,"ready",(function(){u&&clearTimeout(u),Lt(this)})),yn(s,"timeout",(function(){u&&clearTimeout(u),Lt(this),t&&t(null)})),qr(s,e,n,r,i)};var ga=at("https://apis.google.com/js/client.js?onload=%{onload}"),va="__fcb"+Math.floor(1e6*Math.random()).toString();function ba(e){if(!Jr.test(e.email))throw new io("invalid-email")}function _a(e){"email"in e&&ba(e)}function wa(e){if(!e[ca])throw new io("internal-error")}function Sa(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new io("internal-error")}else{if(!e.sessionInfo)throw new io("missing-verification-id");if(!e.code)throw new io("missing-verification-code")}}sa.prototype.u=function(e,t,n,r,i){var o=this;ua.then((function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},sa.prototype.gb=function(){return es(this,Ka,{})},sa.prototype.kb=function(e,t){return es(this,Wa,{idToken:e,email:t})},sa.prototype.lb=function(e,t){return es(this,za,{idToken:e,password:t})};var Ea={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ca(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new io("internal-error")}function Ta(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=oa(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=oa(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=oa(e)):e.errorMessage&&(t=ts(e.errorMessage)),t)throw t;if(!e[ca])throw new io("internal-error")}function ka(e,t){return t.returnIdpCredential=!0,es(e,Ha,t)}function Ia(e,t){return t.returnIdpCredential=!0,es(e,Ga,t)}function Na(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,es(e,Qa,t)}function Pa(e){if(!e.oobCode)throw new io("invalid-action-code")}(e=sa.prototype).mb=function(e,t){var n={idToken:e},r=[];return Y(Ea,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),es(this,Wa,n)},e.cb=function(e,t){return re(e={requestType:"PASSWORD_RESET",email:e},t),es(this,ja,e)},e.bb=function(e,t){return re(e={requestType:"VERIFY_EMAIL",idToken:e},t),es(this,Fa,e)},e.Qa=function(e){return es(this,$a,e)},e.Ta=function(e,t){return es(this,Va,{oobCode:e,newPassword:t})},e.Ia=function(e){return es(this,Ra,{oobCode:e})},e.Sa=function(e){return es(this,Oa,{oobCode:e})};var Oa={endpoint:"setAccountInfo",D:Pa,ga:"email"},Ra={endpoint:"resetPassword",D:Pa,O:function(e){if(!e.email||!e.requestType)throw new io("internal-error")}},Aa={endpoint:"signupNewUser",D:function(e){if(ba(e),!e.password)throw new io("weak-password")},O:wa,T:!0},xa={endpoint:"createAuthUri"},Da={endpoint:"deleteAccount",ea:["idToken"]},Ma={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(e){if(!l(e.deleteProvider))throw new io("internal-error")}},La={endpoint:"getAccountInfo"},Fa={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new io("internal-error")},ga:"email"},ja={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new io("internal-error");ba(e)},ga:"email"},Ua={nb:!0,endpoint:"getProjectConfig",zb:"GET"},Ba={nb:!0,endpoint:"getRecaptchaParam",zb:"GET",O:function(e){if(!e.recaptchaSiteKey)throw new io("internal-error")}},Va={endpoint:"resetPassword",D:Pa,ga:"email"},qa={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},Wa={endpoint:"setAccountInfo",ea:["idToken"],D:_a,T:!0},za={endpoint:"setAccountInfo",ea:["idToken"],D:function(e){if(_a(e),!e.password)throw new io("weak-password")},O:wa,T:!0},Ka={endpoint:"signupNewUser",O:wa,T:!0},Ha={endpoint:"verifyAssertion",D:Ca,O:Ta,T:!0},Qa={endpoint:"verifyAssertion",D:Ca,O:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new io("user-not-found");if(e.errorMessage)throw ts(e.errorMessage);if(!e[ca])throw new io("internal-error")},T:!0},Ga={endpoint:"verifyAssertion",D:function(e){if(Ca(e),!e.idToken)throw new io("internal-error")},O:Ta,T:!0},Xa={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new io("invalid-custom-token")},O:wa,T:!0},Ya={endpoint:"verifyPassword",D:function(e){if(ba(e),!e.password)throw new io("wrong-password")},O:wa,T:!0},$a={endpoint:"verifyPhoneNumber",D:Sa,O:wa},Ja={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new io("internal-error");Sa(e)},O:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",oa(e);wa(e)}},Za={Pb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Sa,O:wa};function es(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.ea))return qe(new io("internal-error"));var r,i=t.zb||"POST";return Ve(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),function(e,t,n,r,i,o){var a=dr(e.g+t);hr(a,"key",e.b),o&&hr(a,"cb",_().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&hr(a,u,r[u]);return new De((function(t,o){ya(e,a.toString(),(function(e){e?e.error?o(ns(e,i||{})):t(e):o(new io("network-request-failed"))}),n,s?void 0:It(Di(r)),e.a,e.h.get())}))}(e,t.endpoint,i,n,t.Pb,t.nb||!1)})).then((function(e){return r=e})).then(t.O).then((function(){if(!t.ga)return r;if(!(t.ga in r))throw new io("internal-error");return r[t.ga]}))}function ts(e){return ns({error:{errors:[{message:e}],code:400,message:e}})}function ns(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new io(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",re(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new io(r[i],t);return!t&&e&&(t=xi(e)),new io("internal-error",t)}var rs,is={Mc:{Va:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://securetoken.googleapis.com/v1/token",id:"p"},Oc:{Va:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ab:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Pc:{Va:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ab:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function os(e){for(var t in is)if(is[t].id===e)return{firebaseEndpoint:(e=is[t]).Va,secureTokenEndpoint:e.ab};return null}function as(e){this.b=e,this.a=null,this.Ya=function(e){return(hs||(hs=new De((function(e,t){if(Ui()){var n=function(){ji(),Ii("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){ji(),t(Error("Network Error"))},timeout:cs.get()})};if(Ii("gapi.iframes.Iframe"))e();else if(Ii("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();i[r]=function(){Ii("gapi.load")?n():t(Error("Network Error"))},Ve(Zr(r=ct(us,{onload:r}))).s((function(){t(Error("Network Error"))}))}}else t(Error("Network Error"))})).s((function(e){throw hs=null,e})))).then((function(){return new De((function(t,n){Ii("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ls.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}rs=os("__EID__")?"__EID__":void 0;var ss,us=at("https://apis.google.com/js/api.js?onload=%{onload}"),cs=new Bi(3e4,6e4),ls=new Bi(5e3,15e3),hs=null;function fs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=pr(this.i,"/__/auth/iframe"),hr(this.a,"apiKey",this.g),hr(this.a,"appName",this.h),this.b=null,this.c=[]}function ds(e,t,n,r,i){this.m=e,this.u=t,this.c=n,this.l=r,this.i=this.g=this.h=null,this.a=i,this.f=null}function ps(e){try{return t.app(e).auth().Ka()}catch(n){return[]}}function ms(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function ys(e){var t=ci();return function(e){return es(e,Ua,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=dr(t),r=n.c;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=dr(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new ra(ci())}))}function gs(e){return e.l||(e.l=yi().then((function(){if(!e.o){var t=e.c,n=e.h,r=ps(e.b),i=new fs(e.u,e.f,e.b);i.f=t,i.b=n,i.c=H(r||[]),e.o=i.toString()}e.i=new as(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.Ya.then((function(){e.a.register("authEvent",t,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=na(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ve(n)}return n.status="ERROR",Ve(n)}))}(e)}))),e.l}function vs(e){return e.m||(e.v=e.c?Ti(e.c,ps(e.b)):null,e.m=new sa(e.f,os(e.h),e.v)),e.m}function bs(e,t,n,r,i,o,a,s,u,c){return(e=new ds(e,t,n,r,i)).h=o,e.g=a,e.i=s,e.b=te(u||null),e.f=c,e.toString()}function _s(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new io("internal-error","The React Native compatibility library was not found.")}function ws(){this.a={}}function Ss(e,t,n,r,o,a){try{var s=!!i.indexedDB}catch(u){s=!1}if(!s)throw new io("web-storage-unsupported");this.u=e,this.h=t,this.g=n,this.l=r,this.m=o,this.f={},this.c=[],this.a=0,this.o=a||i.indexedDB}function Es(e){return e.i||(e.i=function(e){return new De((function(t,n){var r=e.o.open(e.u,e.m);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(e.h,{keyPath:e.g})}catch(r){n(r)}},r.onsuccess=function(e){t(e.target.result)}}))}(e)),e.i}function Cs(e,t){return t.objectStore(e.h)}function Ts(e,t,n){return t.transaction([e.h],n?"readwrite":"readonly")}function ks(e){return new De((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}}))}function Is(){if(!function(){var e="Node"==bi();if(!(e=Ns()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==bi())throw new io("internal-error","The LocalStorage compatibility library was not found.");throw new io("web-storage-unsupported")}this.a=Ns()||t.INTERNAL.node.localStorage}function Ns(){try{var e=i.localStorage,t=Li();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ps(){}function Os(){if(!function(){var e="Node"==bi();if(!(e=Rs()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==bi())throw new io("internal-error","The SessionStorage compatibility library was not found.");throw new io("web-storage-unsupported")}this.a=Rs()||t.INTERNAL.node.sessionStorage}function Rs(){try{var e=i.sessionStorage,t=Li();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function As(){var e={};e.Browser=Ms,e.Node=Ls,e.ReactNative=Fs,this.a=e[bi()]}fs.prototype.toString=function(){return this.f?hr(this.a,"v",this.f):Nr(this.a.a,"v"),this.b?hr(this.a,"eid",this.b):Nr(this.a.a,"eid"),this.c.length?hr(this.a,"fw",this.c.join(",")):Nr(this.a.a,"fw"),this.a.toString()},ds.prototype.toString=function(){var e=pr(this.m,"/__/auth/handler");if(hr(e,"apiKey",this.u),hr(e,"appName",this.c),hr(e,"authType",this.l),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().$()}catch(u){r=null}for(var i in n.Ua=r,hr(e,"providerId",this.a.providerId),r=Di((n=this.a).rb))r[i]=r[i].toString();i=n.rc,r=te(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.Wa&&n.Ua&&!r[n.Wa]&&(r[n.Wa]=n.Ua),Z(r)||hr(e,"customParameters",xi(r))}if("function"===typeof this.a.wb&&((n=this.a.wb()).length&&hr(e,"scopes",n.join(","))),this.h?hr(e,"redirectUrl",this.h):Nr(e.a,"redirectUrl"),this.g?hr(e,"eventId",this.g):Nr(e.a,"eventId"),this.i?hr(e,"v",this.i):Nr(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!fr(e,s)&&hr(e,s,this.b[s]);return this.f?hr(e,"eid",this.f):Nr(e.a,"eid"),(s=ps(this.c)).length&&hr(e,"fw",s.join(",")),e.toString()},(e=ms.prototype).Ca=function(e,t,n){var r=new io("popup-closed-by-user"),i=new io("web-storage-unsupported"),o=this,a=!1;return this.ba().then((function(){(function(e){var t={type:"webStorageSupport"};return gs(e).then((function(){return function(e,t){return e.Ya.then((function(){return new De((function(n){e.a.send(t.type,t,n,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&di(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new De((function(t){return function n(){bn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return bn(n).then((function(){t(r)}))}))},e.Db=function(){var e=ki();return!Ai(e)&&!Fi(e)},e.yb=function(){return!1},e.vb=function(e,t,n,r,i,o,a){if(!e)return qe(new io("popup-blocked"));if(a&&!Ai())return this.ba().s((function(t){di(e),i(t)})),r(),Ve();this.a||(this.a=ys(vs(this)));var s=this;return this.a.then((function(){var t=s.ba().s((function(t){throw di(e),i(t),t}));return r(),t})).then((function(){(ea(n),a)||li(bs(s.u,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e}))},e.Aa=function(e,t,n){this.a||(this.a=ys(vs(this)));var r=this;return this.a.then((function(){ea(t),li(bs(r.u,r.f,r.b,e,t,ci(),n,r.c,void 0,r.h))})).s((function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e}))},e.ba=function(){var e=this;return gs(this).then((function(){return e.i.Ya})).s((function(){throw e.a=null,new io("network-request-failed")}))},e.Hb=function(){return!0},e.ua=function(e){this.g.push(e)},e.Ja=function(e){z(this.g,(function(t){return t==e}))},(e=_s.prototype).get=function(e){return Ve(this.a.getItem(e)).then((function(e){return e&&Mi(e)}))},e.set=function(e,t){return Ve(this.a.setItem(e,xi(t)))},e.X=function(e){return Ve(this.a.removeItem(e))},e.ia=function(){},e.da=function(){},(e=ws.prototype).get=function(e){return Ve(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ve()},e.X=function(e){return delete this.a[e],Ve()},e.ia=function(){},e.da=function(){},(e=Ss.prototype).set=function(e,t){var n,r=!1,i=this;return ze(Es(this).then((function(t){return ks((t=Cs(i,Ts(i,n=t,!0))).get(e))})).then((function(o){var a=Cs(i,Ts(i,n,!0));return o?(o.value=t,ks(a.put(o))):(i.a++,r=!0,(o={})[i.g]=e,o[i.l]=t,ks(a.add(o)))})).then((function(){i.f[e]=t})),(function(){r&&i.a--}))},e.get=function(e){var t=this;return Es(this).then((function(n){return ks(Cs(t,Ts(t,n,!1)).get(e))})).then((function(e){return e&&e.value}))},e.X=function(e){var t=!1,n=this;return ze(Es(this).then((function(r){return t=!0,n.a++,ks(Cs(n,Ts(n,r,!0)).delete(e))})).then((function(){delete n.f[e]})),(function(){t&&n.a--}))},e.zc=function(){var e=this;return Es(this).then((function(t){var n=Cs(e,Ts(e,t,!1));return n.getAll?ks(n.getAll()):new De((function(e,t){var r=[],i=n.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){t(Error(e.target.errorCode))}}))})).then((function(t){var n={},r=[];if(0==e.a){for(r=0;r<t.length;r++)n[t[r][e.g]]=t[r][e.l];r=hi(e.f,n),e.f=n}return r}))},e.ia=function(e){0==this.c.length&&function(e){function t(){return e.b=bn(800).then(v(e.zc,e)).then((function(t){0<t.length&&j(e.c,(function(e){e(t)}))})).then(t).s((function(e){"STOP_EVENT"!=e.message&&t()})),e.b}e.b&&e.b.cancel("STOP_EVENT"),t()}(this),this.c.push(e)},e.da=function(e){z(this.c,(function(t){return t==e})),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},(e=Is.prototype).get=function(e){var t=this;return Ve().then((function(){return Mi(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ve().then((function(){var r=xi(t);null===r?n.X(e):n.a.setItem(e,r)}))},e.X=function(e){var t=this;return Ve().then((function(){t.a.removeItem(e)}))},e.ia=function(e){i.window&&en(i.window,"storage",e)},e.da=function(e){i.window&&rn(i.window,"storage",e)},(e=Ps.prototype).get=function(){return Ve(null)},e.set=function(){return Ve()},e.X=function(){return Ve()},e.ia=function(){},e.da=function(){},(e=Os.prototype).get=function(e){var t=this;return Ve().then((function(){return Mi(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Ve().then((function(){var r=xi(t);null===r?n.X(e):n.a.setItem(e,r)}))},e.X=function(e){var t=this;return Ve().then((function(){t.a.removeItem(e)}))},e.ia=function(){},e.da=function(){};var xs,Ds,Ms={C:Is,jb:Os},Ls={C:Is,jb:Os},Fs={C:_s,jb:Ps},js={Lc:"local",NONE:"none",Nc:"session"};function Us(e,t,n,r,i){this.i=e,this.g=t,this.A=n,this.u=r,this.v=i,this.a={},xs||(xs=new As),e=xs;try{if(ui()){ss||(ss=new Ss("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1));var o=ss}else o=new e.a.C;this.l=o}catch(a){this.l=new ws,this.u=!0}try{this.o=new e.a.jb}catch(a){this.o=new ws}this.w=new ws,this.h=v(this.m,this),this.b={}}function Bs(){return Ds||(Ds=new Us("firebase",":",!(Fi(ki())||!vi()),Ai(),Ni())),Ds}function Vs(e,t){switch(t){case"session":return e.o;case"none":return e.w;default:return e.l}}function qs(e,t,n){return e.i+e.g+t.name+(n?e.g+n:"")}function Ws(e,t,n){return n=qs(e,t,n),"local"==t.C&&(e.b[n]=null),Vs(e,t.C).X(n)}function zs(e,t,n,r){t=qs(e,t,n),e.v&&(e.b[t]=i.localStorage.getItem(t)),Z(e.a)&&(Vs(e,"local").ia(e.h),e.u||ui()||!e.v||function(e){Hs(e),e.f=setInterval((function(){for(var t in e.a){var n=i.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new qt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.m(n))}}),1e3)}(e)),e.a[t]||(e.a[t]=[]),e.a[t].push(r)}function Ks(e,t,n){t=qs(e,fc("local"),t),e.a[t]&&(z(e.a[t],(function(e){return e==n})),0==e.a[t].length&&delete e.a[t]),Z(e.a)&&function(e){Vs(e,"local").da(e.h),Hs(e)}(e)}function Hs(e){e.f&&(clearInterval(e.f),e.f=null)}function Qs(e){this.a=e,this.b=Bs()}Us.prototype.get=function(e,t){return Vs(this,e.C).get(qs(this,e,t))},Us.prototype.set=function(e,t,n){var r=qs(this,e,n),i=this,o=Vs(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},Us.prototype.m=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=i.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.c(n))}else if(0==t.indexOf(this.i+this.g)&&this.a[t]){if("undefined"!==typeof e.a.a?Vs(this,"local").da(this.h):Hs(this),this.A)if(n=i.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?i.localStorage.setItem(t,r):i.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var a=this;n=function(){"undefined"===typeof e.a.a&&a.b[t]===i.localStorage.getItem(t)||(a.b[t]=i.localStorage.getItem(t),a.c(t))},se&&ye&&10==ye&&i.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else j(e,v(this.c,this))},Us.prototype.c=function(e){this.a[e]&&j(this.a[e],(function(e){e()}))};var Gs={name:"authEvent",C:"local"};function Xs(){this.a=Bs()}function Ys(e,t,n,r,i,o,a){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=a||null,this.h=t+":"+n,this.A=new Xs,this.g=new Qs(this.h),this.f=null,this.b=[],this.v=i||500,this.w=o||2e3,this.a=this.c=null}function $s(e){return new io("invalid-cordova-configuration",e)}function Js(e){var t=new nr;er(t,e),e=[];var n=8*t.g;56>t.c?er(t,Jn,56-t.c):er(t,Jn,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Zn(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Zs(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function eu(e){return e.f||(e.f=e.ba().then((function(){return new De((function(t){e.ua((function n(r){return t(r),e.Ja(n),!1})),function(e){function t(t){o=!0,a&&a.cancel(),tu(e).then((function(n){var i=r;if(n&&t&&t.url){i=null;var o=t.url,a=dr(o),s=fr(a,"link"),u=fr(dr(s),"link");a=fr(a,"deep_link_id"),-1!=(o=fr(dr(a),"link")||a||u||s||o).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=Mi(fr(i=dr(o),"firebaseError")||null))?oo(i):null)?new ta(n.b,n.c,null,null,i):new ta(n.b,n.c,o,n.g)),i=i||r}Zs(e,i)}))}var n=Ii("universalLinks.subscribe",i);if("function"!==typeof n)throw new io("invalid-cordova-configuration");var r=new ta("unknown",null,null,null,new io("no-auth-event")),o=!1,a=bn(e.v).then((function(){return tu(e).then((function(){o||Zs(e,r)}))})),s=i.handleOpenURL;i.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ii("BuildInfo.packageName",i).toLowerCase()+"://")&&t({url:e}),"function"===typeof s)try{s(e)}catch(n){console.error(n)}},n(null,t)}(e)}))}))),e.f}function tu(e){var t=null;return function(e){return e.b.get(Gs,e.a).then((function(e){return na(e)}))}(e.g).then((function(n){return t=n,Ws((n=e.g).b,Gs,n.a)})).then((function(){return t}))}function nu(e){this.a=e,this.b=Bs()}(e=Ys.prototype).ba=function(){return this.xa?this.xa:this.xa=(gi(void 0)?yi().then((function(){return new De((function(e,t){var n=i.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):qe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ii("universalLinks.subscribe",i))throw $s("cordova-universal-links-plugin is not installed");if("undefined"===typeof Ii("BuildInfo.packageName",i))throw $s("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ii("cordova.plugins.browsertab.openUrl",i))throw $s("cordova-plugin-browsertab is not installed");if("function"!==typeof Ii("cordova.InAppBrowser.open",i))throw $s("cordova-plugin-inappbrowser is not installed")}),(function(){throw new io("cordova-not-ready")}))},e.Ca=function(e,t){return t(new io("operation-not-supported-in-this-environment")),Ve()},e.vb=function(){return qe(new io("operation-not-supported-in-this-environment"))},e.Hb=function(){return!1},e.Db=function(){return!0},e.yb=function(){return!0},e.Aa=function(e,t,n){if(this.c)return qe(new io("redirect-operation-pending"));var r=this,o=i.document,a=null,s=null,u=null,c=null;return this.c=ze(Ve().then((function(){return ea(t),eu(r)})).then((function(){return function(e,t,n,r){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new ta(t,r,null,o,new io("no-auth-event")),s=Ii("BuildInfo.packageName",i);if("string"!==typeof s)throw new io("invalid-cordova-configuration");var u=Ii("BuildInfo.displayName",i),c={};if(ki().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ki().toLowerCase().match(/android/))return qe(new io("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Js(o),c.sessionId=o;var l=bs(e.u,e.i,e.l,t,n,null,r,e.m,c,e.o);return e.ba().then((function(){var t=e.h;return e.A.a.set(Gs,a.B(),t)})).then((function(){var t=Ii("cordova.plugins.browsertab.isAvailable",i);if("function"!==typeof t)throw new io("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Ii("cordova.plugins.browsertab.openUrl",i)))throw new io("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=Ii("cordova.InAppBrowser.open",i)))throw new io("invalid-cordova-configuration");t=!(!(t=ki()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=n(l,t?"_blank":"_system","location=yes")}}))}))}(r,e,t,n)})).then((function(){return new De((function(e,t){s=function(){var t=Ii("cordova.plugins.browsertab.close",i);return e(),"function"===typeof t&&t(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ua(s),u=function(){a||(a=bn(r.w).then((function(){t(new io("redirect-cancelled-by-user"))})))},c=function(){Vi()&&u()},o.addEventListener("resume",u,!1),ki().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(e){return tu(r).then((function(){throw e}))}))})),(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Ja(s),r.c=null}))},e.ua=function(e){this.b.push(e),eu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new ta("unknown",null,null,null,new io("no-auth-event")),e(t))}))},e.Ja=function(e){z(this.b,(function(t){return t==e}))};var ru={name:"pendingRedirect",C:"session"};function iu(e){return Ws(e.b,ru,e.a)}function ou(e,t,n){this.v=e,this.l=t,this.u=n,this.h=[],this.f=!1,this.i=v(this.m,this),this.c=new mu,this.o=new bu,this.g=new nu(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.o,this.b.linkViaPopup=this.o,this.b.reauthViaPopup=this.o,this.a=au(this.v,this.l,this.u,rs)}function au(e,n,r,i){var o=t.SDK_VERSION||null;return gi()?new Ys(e,n,r,o,void 0,void 0,i):new ms(e,n,r,o,i)}function su(e){e.f||(e.f=!0,e.a.ua(e.i));var t=e.a;return e.a.ba().s((function(n){throw e.a==t&&e.reset(),n}))}function uu(e){e.a.Db()&&su(e).s((function(t){var n=new ta("unknown",null,null,null,new io("operation-not-supported-in-this-environment"));fu(t)&&e.m(n)})),e.a.yb()||yu(e.c)}ou.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=au(this.v,this.l,this.u)},ou.prototype.subscribe=function(e){if(q(this.h,e)||this.h.push(e),!this.f){var t=this;(function(e){return e.b.get(ru,e.a).then((function(e){return"pending"==e}))})(this.g).then((function(e){e?iu(t.g).then((function(){su(t).s((function(e){var n=new ta("unknown",null,null,null,new io("operation-not-supported-in-this-environment"));fu(e)&&t.m(n)}))})):uu(t)})).s((function(){uu(t)}))}},ou.prototype.unsubscribe=function(e){z(this.h,(function(t){return t==e}))},ou.prototype.m=function(e){if(!e)throw new io("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ob(e.b,e.c)){(t=this.b[e.b])&&t.h(e,r),t=!0;break}}return yu(this.c),t};var cu=new Bi(2e3,1e4),lu=new Bi(3e4,6e4);function hu(e,t,n,r,i,o){return e.a.vb(t,n,r,(function(){e.f||(e.f=!0,e.a.ua(e.i))}),(function(){e.reset()}),i,o)}function fu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}ou.prototype.aa=function(){return this.c.aa()},ou.prototype.Aa=function(e,t,n){var r,i=this;return function(e){return e.b.set(ru,"pending",e.a)}(this.g).then((function(){return i.a.Aa(e,t,n).s((function(e){if(fu(e))throw new io("operation-not-supported-in-this-environment");return r=e,iu(i.g).then((function(){throw r}))})).then((function(){return i.a.Hb()?new De((function(){})):iu(i.g).then((function(){return i.aa()})).then((function(){})).s((function(){}))}))}))},ou.prototype.Ca=function(e,t,n,r){return this.a.Ca(n,(function(n){e.fa(t,null,n,r)}),cu.get())};var du={};function pu(e,t,n){var r=t+":"+n;return du[r]||(du[r]=new ou(e,t,n)),du[r]}function mu(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function yu(e){e.g||(e.g=!0,vu(e,!1,null,null))}function gu(e,t){if(e.b=function(){return Ve(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function vu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return qe(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):gu(e,n):gu(e,{user:null}),e.f=[],e.c=[]}function bu(){}function _u(e,t){this.a=t,Hi(this,"verificationId",e)}function wu(e,t,n,r){return new $o(e).Qa(t,n).then((function(e){return new _u(e,r)}))}function Su(e,t,n,r,i,o){if(this.h=e,this.i=t,this.g=n,this.c=r,this.f=i,this.l=!!o,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Eu(e,t){Cu(e),e.b=bn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return e.l?Ve():function(){var e=i.document,t=null;return Vi()||!e?Ve():new De((function(n){t=function(){Vi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){Eu(e,!0)})).s((function(t){e.i(t)&&Eu(e,!1)}))}function Cu(e){e.b&&(e.b.cancel(),e.b=null)}function Tu(e){this.f=e,this.b=this.a=null,this.c=0}function ku(e,t){var n=t[ca],r=t.refreshToken;t=Iu(t.expiresIn),e.b=n,e.c=t,e.a=r}function Iu(e){return _()+1e3*parseInt(e,10)}function Nu(e,t){return function(e,t){return new De((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ya(e,e.i+"?key="+encodeURIComponent(e.b),(function(e){e?e.error?r(ns(e)):e.access_token&&e.refresh_token?n(e):r(new io("internal-error")):r(new io("network-request-failed"))}),"POST",kr(t).toString(),e.c,e.l.get()):r(new io("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Iu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Pu(e,t){this.a=e||null,this.b=t||null,Qi(this,{lastSignInTime:qi(t||null),creationTime:qi(e||null)})}function Ou(e,t,n,r,i,o){Qi(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ru(e,t){for(var n in Vt.call(this,e),t)this[n]=t[n]}function Au(e,n,r){this.A=[],this.G=e.apiKey,this.o=e.appName,this.w=e.authDomain||null,e=t.SDK_VERSION?Ti(t.SDK_VERSION):null,this.c=new sa(this.G,os(rs),e),this.h=new Tu(this.c),Uu(this,n[ca]),ku(this.h,n),Hi(this,"refreshToken",this.h.a),qu(this,r||{}),dn.call(this),this.I=!1,this.w&&Pi()&&(this.a=pu(this.w,this.G,this.o)),this.N=[],this.i=null,this.l=function(e){return new Su((function(){return e.F(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-_()-3e5;return 0<t?t:0}),3e4,96e4,!1)}(this),this.U=v(this.Ga,this);var i=this;this.ha=null,this.ra=function(e){i.na(e.h)},this.W=null,this.R=[],this.qa=function(e){Du(i,e.f)},this.V=null}function xu(e,t){e.W&&rn(e.W,"languageCodeChanged",e.ra),(e.W=t)&&en(t,"languageCodeChanged",e.ra)}function Du(e,n){e.R=n,ma(e.c,t.SDK_VERSION?Ti(t.SDK_VERSION,e.R):null)}function Mu(e,t){e.V&&rn(e.V,"frameworkChanged",e.qa),(e.V=t)&&en(t,"frameworkChanged",e.qa)}function Lu(e){try{return t.app(e.o).auth()}catch(n){throw new io("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function Fu(e){e.m||e.l.b||(e.l.start(),rn(e,"tokenChanged",e.U),en(e,"tokenChanged",e.U))}function ju(e){rn(e,"tokenChanged",e.U),Cu(e.l)}function Uu(e,t){e.pa=t,Hi(e,"_lat",t)}function Bu(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return function(e){return new De((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Ub:!0,value:o}:{Ub:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)We(e[o],b(i,o,!0),b(i,o,!1));else t(r)}))}(t).then((function(){return e}))}function Vu(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function qu(e,t){Qi(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new Pu(t.createdAt,t.lastLoginAt),providerData:[]})}function Wu(){}function zu(e){return Ve().then((function(){if(e.m)throw new io("app-deleted")}))}function Ku(e){return B(e.providerData,(function(e){return e.providerId}))}function Hu(e,t){t&&(Qu(e,t.providerId),e.providerData.push(t))}function Qu(e,t){z(e.providerData,(function(e){return e.providerId==t}))}function Gu(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Hi(e,t,n)}function Xu(e,t){e!=t&&(Qi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Hi(e,"metadata",function(e){return new Pu(e.a,e.b)}(t.metadata)):Hi(e,"metadata",new Pu),j(t.providerData,(function(t){Hu(e,t)})),e.h=t.h,Hi(e,"refreshToken",e.h.a))}function Yu(e){return e.F().then((function(t){var n=e.isAnonymous;return function(e,t){return es(e.c,La,{idToken:t}).then(v(e.kc,e))}(e,t).then((function(){return n||Gu(e,"isAnonymous",!1),t}))}))}function $u(e,t){t[ca]&&e.pa!=t[ca]&&(ku(e.h,t),pn(e,new Ru("tokenChanged")),Uu(e,t[ca]),Gu(e,"refreshToken",e.h.a))}function Ju(e,t){return Yu(e).then((function(){if(q(Ku(e),t))return Bu(e).then((function(){throw new io("provider-already-linked")}))}))}function Zu(e,t,n){return Gi({user:e,credential:Zo(t),additionalUserInfo:t=To(t),operationType:n})}function ec(e,t){return $u(e,t),e.reload().then((function(){return e}))}function tc(e,n,r,i,o){if(!Pi())return qe(new io("operation-not-supported-in-this-environment"));if(e.i&&!o)return qe(e.i);var a=Co(r.providerId),s=Li(e.uid+":::"),u=null;(!Ai()||vi())&&e.w&&r.isOAuthProvider&&(u=bs(e.w,e.G,e.o,n,r,null,s,t.SDK_VERSION||null));var c=pi(u,a&&a.za,a&&a.ya);return i=i().then((function(){if(rc(e),!o)return e.F().then((function(){}))})).then((function(){return hu(e.a,c,n,r,s,!!u)})).then((function(){return new De((function(t,r){e.fa(n,null,new io("cancelled-popup-request"),e.g||null),e.f=t,e.v=r,e.g=s,e.b=e.a.Ca(e,n,c,s)}))})).then((function(e){return c&&di(c),e?Gi(e):null})).s((function(e){throw c&&di(c),e})),ic(e,i,o)}function nc(e,t,n,r,i){if(!Pi())return qe(new io("operation-not-supported-in-this-environment"));if(e.i&&!i)return qe(e.i);var o=null,a=Li(e.uid+":::");return r=r().then((function(){if(rc(e),!i)return e.F().then((function(){}))})).then((function(){return e.Z=a,Bu(e)})).then((function(t){return e.ca&&(t=(t=e.ca).b.set(sc,e.B(),t.a)),t})).then((function(){return e.a.Aa(t,n,a)})).s((function(t){if(o=t,e.ca)return uc(e.ca);throw o})).then((function(){if(o)throw o})),ic(e,r,i)}function rc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new io("internal-error");throw new io("auth-domain-config-required")}}function ic(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),qe(e.i)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||pn(e,new Ru("userInvalidated")),e.i=t),t}))}(e,t,n);return e.A.push(r),ze(r,(function(){W(e.A,r)})),r}function oc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[ca]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-_())/1e3;var r=new Au(t,n,e);return e.providerData&&j(e.providerData,(function(e){e&&Hu(r,Gi(e))})),e.redirectEventId&&(r.Z=e.redirectEventId),r}function ac(e){this.a=e,this.b=Bs()}mu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},mu.prototype.h=function(e,t){if(!e)return qe(new io("invalid-auth-event"));this.reset(),this.g=!0;var n=e.b,r=e.c,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;return"unknown"!=n||i||o?e.a?(vu(this,!0,null,e.a),e=Ve()):e=t.va(n,r)?function(e,t,n){n=n.va(t.b,t.c);var r=t.f,i=t.g,o=!!t.b.match(/Redirect$/);return n(r,i).then((function(t){vu(e,o,t,null)})).s((function(t){vu(e,o,null,t)}))}(this,e,t):qe(new io("invalid-auth-event")):(vu(this,!1,null,null),e=Ve()),e},mu.prototype.aa=function(){var e=this;return new De((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new io("timeout");e.a&&e.a.cancel(),e.a=bn(lu.get()).then((function(){e.b||vu(e,!0,null,t)}))}(e))}))},bu.prototype.h=function(e,t){if(!e)return qe(new io("invalid-auth-event"));var n=e.b,r=e.c;return e.a?(t.fa(e.b,null,e.a,e.c),e=Ve()):e=t.va(n,r)?function(e,t){var n=e.c,r=e.b;return t.va(r,n)(e.f,e.g).then((function(e){t.fa(r,e,null,n)})).s((function(e){t.fa(r,null,e,n)}))}(e,t):qe(new io("invalid-auth-event")),e},_u.prototype.confirm=function(e){return e=Jo(this.verificationId,e),this.a(e)},Su.prototype.start=function(){this.a=this.c,Eu(this,!0)},Tu.prototype.B=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Tu.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?qe(new io("user-token-expired")):e||!this.b||_()>this.c-3e4?this.a?Nu(this,{grant_type:"refresh_token",refresh_token:this.a}):Ve(null):Ve({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Pu.prototype.B=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(Ru,Vt),w(Au,dn),Au.prototype.na=function(e){this.ha=e,pa(this.c,e)},Au.prototype.$=function(){return this.ha},Au.prototype.Ka=function(){return H(this.R)},Au.prototype.Ga=function(){this.l.b&&(Cu(this.l),this.l.start())},Hi(Au.prototype,"providerId","firebase"),(e=Au.prototype).reload=function(){var e=this;return ic(this,zu(this).then((function(){return Yu(e).then((function(){return Bu(e)})).then(Wu)})))},e.F=function(e){var t=this;return ic(this,zu(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new io("internal-error");return e.accessToken!=t.pa&&(Uu(t,e.accessToken),pn(t,new Ru("tokenChanged"))),Gu(t,"refreshToken",e.refreshToken),e.accessToken})))},e.getToken=function(e){return zi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(zi["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(e)},e.kc=function(e){if(!(e=e.users)||!e.length)throw new io("internal-error");qu(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?B(e,(function(e){return new Ou(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Hu(this,t[n]);Gu(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},e.Za=function(e){var t=this,n=null;return ic(this,e.c(this.c,this.uid).then((function(e){return $u(t,e),n=Zu(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.mc=function(e){return this.Za(e).then((function(){}))},e.Xa=function(e){var t=this,n=null;return ic(this,Ju(this,e.providerId).then((function(){return t.F()})).then((function(n){return e.b(t.c,n)})).then((function(e){return n=Zu(t,e,"link"),ec(t,e)})).then((function(){return n})))},e.cc=function(e){return this.Xa(e).then((function(e){return e.user}))},e.dc=function(e,t){var n=this;return ic(this,Ju(this,"phone").then((function(){return wu(Lu(n),e,t,v(n.Xa,n))})))},e.nc=function(e,t){var n=this;return ic(this,Ve().then((function(){return wu(Lu(n),e,t,v(n.Za,n))})),!0)},e.kb=function(e){var t=this;return ic(this,this.F().then((function(n){return t.c.kb(n,e)})).then((function(e){return $u(t,e),t.reload()})))},e.Dc=function(e){var t=this;return ic(this,this.F().then((function(n){return e.b(t.c,n)})).then((function(e){return $u(t,e),t.reload()})))},e.lb=function(e){var t=this;return ic(this,this.F().then((function(n){return t.c.lb(n,e)})).then((function(e){return $u(t,e),t.reload()})))},e.mb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return zu(this);var t=this;return ic(this,this.F().then((function(n){return t.c.mb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return $u(t,e),Gu(t,"displayName",e.displayName||null),Gu(t,"photoURL",e.photoUrl||null),j(t.providerData,(function(e){"password"===e.providerId&&(Hi(e,"displayName",t.displayName),Hi(e,"photoURL",t.photoURL))})),Bu(t)})).then(Wu))},e.Cc=function(e){var t=this;return ic(this,Yu(this).then((function(n){return q(Ku(t),e)?function(e,t,n){return es(e,Ma,{idToken:t,deleteProvider:n})}(t.c,n,[e]).then((function(e){var n={};return j(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),j(Ku(t),(function(e){n[e]||Qu(t,e)})),n[$o.PROVIDER_ID]||Hi(t,"phoneNumber",null),Bu(t)})):Bu(t).then((function(){throw new io("no-such-provider")}))})))},e.delete=function(){var e=this;return ic(this,this.F().then((function(t){return es(e.c,Da,{idToken:t})})).then((function(){pn(e,new Ru("userDeleted"))}))).then((function(){for(var t=0;t<e.A.length;t++)e.A[t].cancel("app-deleted");xu(e,null),Mu(e,null),e.A=[],e.m=!0,ju(e),Hi(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)}))},e.ob=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.Z||null)==t||"reauthViaRedirect"==e&&(this.Z||null)==t)},e.fa=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.va=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?v(this.tb,this):"reauthViaPopup"==e&&t==(this.g||null)?v(this.ub,this):"linkViaRedirect"==e&&(this.Z||null)==t?v(this.tb,this):"reauthViaRedirect"==e&&(this.Z||null)==t?v(this.ub,this):null},e.ec=function(e){var t=this;return tc(this,"linkViaPopup",e,(function(){return Ju(t,e.providerId).then((function(){return Bu(t)}))}),!1)},e.oc=function(e){return tc(this,"reauthViaPopup",e,(function(){return Ve()}),!0)},e.fc=function(e){var t=this;return nc(this,"linkViaRedirect",e,(function(){return Ju(t,e.providerId)}),!1)},e.pc=function(e){return nc(this,"reauthViaRedirect",e,(function(){return Ve()}),!0)},e.tb=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return ic(this,this.F().then((function(r){return Ia(n.c,{requestUri:e,sessionId:t,idToken:r})})).then((function(e){return r=Zu(n,e,"link"),ec(n,e)})).then((function(){return r})))},e.ub=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return ic(this,Ve().then((function(){return Do(Na(n.c,{requestUri:e,sessionId:t}),n.uid)})).then((function(e){return r=Zu(n,e,"reauthenticate"),$u(n,e),n.i=null,n.reload()})).then((function(){return r})),!0)},e.bb=function(e){var t=this,n=null;return ic(this,this.F().then((function(t){return n=t,"undefined"===typeof e||Z(e)?{}:vo(new uo(e))})).then((function(e){return t.c.bb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.B()},e.B=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.o,authDomain:this.w,stsTokenManager:this.h.B(),redirectEventId:this.Z||null};return this.metadata&&re(e,this.metadata.B()),j(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var sc={name:"redirectUser",C:"session"};function uc(e){return Ws(e.b,sc,e.a)}function cc(e,t){this.a=e,this.b=t||Bs(),this.c=null,this.f=function(e){var t=fc("local"),n=fc("session"),r=fc("none");return e.b.get(n,e.a).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(hc,e.a).then((function(e){return e?fc(e):t}))}))}))})).then((function(t){return e.c=t,lc(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),zs(this.b,fc("local"),this.a,v(this.g,this))}function lc(e,t){var n,r=[];for(n in js)js[n]!==t&&r.push(Ws(e.b,fc(js[n]),e.a));return r.push(Ws(e.b,hc,e.a)),function(e){return new De((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)We(e[s],b(o,s),a);else t(i)}))}(r)}cc.prototype.g=function(){var e=this,t=fc("local");yc(this,(function(){return Ve().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return lc(e,"local").then((function(){e.c=t}))}))}))};var hc={name:"persistence",C:"session"};function fc(e){return{name:"authUser",C:e}}function dc(e,t){return yc(e,(function(){return e.b.set(e.c,t.B(),e.a)}))}function pc(e){return yc(e,(function(){return Ws(e.b,e.c,e.a)}))}function mc(e,t){return yc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),oc(e||{})}))}))}function yc(e,t){return e.f=e.f.then(t,t),e.f}function gc(e){if(this.l=!1,Hi(this,"app",e),!Cc(this).options||!Cc(this).options.apiKey)throw new io("invalid-api-key");e=t.SDK_VERSION?Ti(t.SDK_VERSION):null,this.c=new sa(Cc(this).options&&Cc(this).options.apiKey,os(rs),e),this.N=[],this.m=[],this.I=[],this.Kb=t.INTERNAL.createSubscribe(v(this.ac,this)),this.R=void 0,this.Lb=t.INTERNAL.createSubscribe(v(this.bc,this)),Sc(this,null),this.h=new cc(Cc(this).options.apiKey+":"+Cc(this).name),this.G=new ac(Cc(this).options.apiKey+":"+Cc(this).name),this.U=Nc(this,function(e){var t=Cc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(sc,e.a).then((function(e){return e&&t&&(e.authDomain=t),oc(e||{})}))}(e.G,Cc(e).options.authDomain).then((function(t){return(e.w=t)&&(t.ca=e.G),uc(e.G)}));return Nc(e,t)}(e).then((function(){return mc(e.h,t)})).then((function(t){return t?(t.ca=e.G,e.w&&(e.w.Z||null)==(t.Z||null)?t:t.reload().then((function(){return dc(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:pc(e.h)}))):null})).then((function(t){Sc(e,t||null)}));return Nc(e,n)}(this)),this.i=Nc(this,function(e){return e.U.then((function(){return e.aa()})).s((function(){})).then((function(){if(!e.l)return e.ha()})).s((function(){})).then((function(){if(!e.l){e.W=!0;var t=e.h;zs(t.b,fc("local"),t.a,e.ha)}}))}(this)),this.W=!1,this.ha=v(this.yc,this),this.Ga=v(this.ka,this),this.pa=v(this.Tb,this),this.qa=v(this.Zb,this),this.ra=v(this.$b,this),function(e){var t=Cc(e).options.authDomain,n=Cc(e).options.apiKey;t&&Pi()&&(e.Jb=e.U.then((function(){if(!e.l){if(e.a=pu(t,n,Cc(e).name),e.a.subscribe(e),Tc(e)&&Vu(Tc(e)),e.w){Vu(e.w);var r=e.w;r.na(e.$()),xu(r,e),Du(r=e.w,e.A),Mu(r,e),e.w=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.INTERNAL.logFramework=v(this.gc,this),this.o=0,dn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.$()},set:function(e){this.na(e)},enumerable:!1}),e.V=null}(this),this.A=[]}function vc(e){Vt.call(this,"languageCodeChanged"),this.h=e}function bc(e){Vt.call(this,"frameworkChanged"),this.f=e}function _c(e){return e.Jb||qe(new io("auth-domain-config-required"))}function wc(e,t){var n={};return n.apiKey=Cc(e).options.apiKey,n.authDomain=Cc(e).options.authDomain,n.appName=Cc(e).name,e.U.then((function(){return function(e,t,n,r){var i=new Au(e,t);return n&&(i.ca=n),r&&Du(i,r),i.reload().then((function(){return i}))}(n,t,e.G,e.Ka())})).then((function(t){return Tc(e)&&t.uid==Tc(e).uid?(Xu(Tc(e),t),e.ka(t)):(Sc(e,t),Vu(t),e.ka(t))})).then((function(){Ic(e)}))}function Sc(e,t){Tc(e)&&(function(e,t){z(e.N,(function(e){return e==t}))}(Tc(e),e.Ga),rn(Tc(e),"tokenChanged",e.pa),rn(Tc(e),"userDeleted",e.qa),rn(Tc(e),"userInvalidated",e.ra),ju(Tc(e))),t&&(t.N.push(e.Ga),en(t,"tokenChanged",e.pa),en(t,"userDeleted",e.qa),en(t,"userInvalidated",e.ra),0<e.o&&Fu(t)),Hi(e,"currentUser",t),t&&(t.na(e.$()),xu(t,e),Du(t,e.A),Mu(t,e))}function Ec(e,t){var n=null,r=null;return Nc(e,t.then((function(t){return n=Zo(t),r=To(t),wc(e,t)})).then((function(){return Gi({user:Tc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Cc(e){return e.app}function Tc(e){return e.currentUser}function kc(e){return Tc(e)&&Tc(e)._lat||null}function Ic(e){if(e.W){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](kc(e));if(e.R!==e.getUid()&&e.I.length)for(e.R=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](kc(e))}}function Nc(e,t){return e.N.push(t),ze(t,(function(){W(e.N,t)})),t}function Pc(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new io("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Oc.length)throw new io("internal-error","Argument validator received an unsupported number of arguments.");n=Oc[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new io("argument-error",e+" failed: "+r)}cc.prototype.eb=function(e){var t=null,n=this;return function(e){var t=new io("invalid-persistence-type"),n=new io("unsupported-persistence-type");e:{for(r in js)if(js[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(bi()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Ni()&&"none"!==e)throw n}}(e),yc(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,lc(n,e)})).then((function(){if(n.c=fc(e),t)return n.b.set(n.c,t,n.a)})):Ve()}))},w(gc,dn),w(vc,Vt),w(bc,Vt),(e=gc.prototype).eb=function(e){return Nc(this,e=this.h.eb(e))},e.na=function(e){this.V===e||this.l||(this.V=e,pa(this.c,this.V),pn(this,new vc(this.$())))},e.$=function(){return this.V},e.Ec=function(){var e=i.navigator;this.na(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gc=function(e){this.A.push(e),ma(this.c,t.SDK_VERSION?Ti(t.SDK_VERSION,this.A):null),pn(this,new bc(this.A))},e.Ka=function(){return H(this.A)},e.toJSON=function(){return{apiKey:Cc(this).options.apiKey,authDomain:Cc(this).options.authDomain,appName:Cc(this).name,currentUser:Tc(this)&&Tc(this).B()}},e.ob=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.fa=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.va=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?v(this.Sb,this):null},e.Sb=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var r=null,i=null,o=ka(n.c,e).then((function(e){return r=Zo(e),i=To(e),e}));return Nc(this,e=n.U.then((function(){return o})).then((function(e){return wc(n,e)})).then((function(){return Gi({user:Tc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})})))},e.wc=function(e){if(!Pi())return qe(new io("operation-not-supported-in-this-environment"));var n=this,r=Co(e.providerId),i=Li(),o=null;(!Ai()||vi())&&Cc(this).options.authDomain&&e.isOAuthProvider&&(o=bs(Cc(this).options.authDomain,Cc(this).options.apiKey,Cc(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null));var a=pi(o,r&&r.za,r&&r.ya);return Nc(this,r=_c(this).then((function(t){return hu(t,a,"signInViaPopup",e,i,!!o)})).then((function(){return new De((function(e,t){n.fa("signInViaPopup",null,new io("cancelled-popup-request"),n.g),n.f=e,n.v=t,n.g=i,n.b=n.a.Ca(n,"signInViaPopup",a,i)}))})).then((function(e){return a&&di(a),e?Gi(e):null})).s((function(e){throw a&&di(a),e})))},e.xc=function(e){if(!Pi())return qe(new io("operation-not-supported-in-this-environment"));var t=this,n=_c(this).then((function(){return function(e){return yc(e,(function(){return e.b.set(hc,e.c.C,e.a)}))}(t.h)})).then((function(){return t.a.Aa("signInViaRedirect",e)}));return Nc(this,n)},e.aa=function(){if(!Pi())return qe(new io("operation-not-supported-in-this-environment"));var e=this;return Nc(this,_c(this).then((function(){return e.a.aa()})).then((function(e){return e?Gi(e):null})))},e.hb=function(){var e=this;return Nc(this,this.i.then((function(){return Tc(e)?(Sc(e,null),pc(e.h).then((function(){Ic(e)}))):Ve()})))},e.yc=function(){var e=this;return mc(this.h,Cc(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Tc(e)&&t){n=Tc(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Xu(Tc(e),t),Tc(e).F();(Tc(e)||t)&&(Sc(e,t),t&&(Vu(t),t.ca=e.G),e.a&&e.a.subscribe(e),Ic(e))}}))},e.ka=function(e){return dc(this.h,e)},e.Tb=function(){Ic(this),this.ka(Tc(this))},e.Zb=function(){this.hb()},e.$b=function(){this.hb()},e.ac=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Tc(t))}))},e.bc=function(e){var t=this;!function(e,t){e.I.push(t),Nc(e,e.i.then((function(){!e.l&&q(e.I,t)&&e.R!==e.getUid()&&(e.R=e.getUid(),t(kc(e)))})))}(this,(function(){e.next(Tc(t))}))},e.ic=function(e,n,r){var i=this;return this.W&&t.Promise.resolve().then((function(){f(e)?e(Tc(i)):f(e.next)&&e.next(Tc(i))})),this.Kb(e,n,r)},e.hc=function(e,n,r){var i=this;return this.W&&t.Promise.resolve().then((function(){i.R=i.getUid(),f(e)?e(Tc(i)):f(e.next)&&e.next(Tc(i))})),this.Lb(e,n,r)},e.Vb=function(e){var t=this;return Nc(this,this.i.then((function(){return Tc(t)?Tc(t).F(e).then((function(e){return{accessToken:e}})):null})))},e.tc=function(e){return this.Eb(e).then((function(e){return e.user}))},e.Eb=function(e){var t=this;return this.i.then((function(){return Ec(t,es(t.c,Xa,{token:e}))})).then((function(e){var n=e.user;return Gu(n,"isAnonymous",!1),t.ka(n),e}))},e.Fb=function(e,t){var n=this;return this.i.then((function(){return Ec(n,es(n.c,Ya,{email:e,password:t}))}))},e.uc=function(e,t){return this.Fb(e,t).then((function(e){return e.user}))},e.Ob=function(e,t){return this.qb(e,t).then((function(e){return e.user}))},e.qb=function(e,t){var n=this;return this.i.then((function(){return Ec(n,es(n.c,Aa,{email:e,password:t}))}))},e.sc=function(e){return this.fb(e).then((function(e){return e.user}))},e.fb=function(e){var t=this;return this.i.then((function(){return Ec(t,e.wa(t.c))}))},e.gb=function(){return this.Gb().then((function(e){return e.user}))},e.Gb=function(){var e=this;return this.i.then((function(){var t=Tc(e);if(t&&t.isAnonymous){var n=Gi({providerId:null,isNewUser:!1});return Gi({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ec(e,e.c.gb()).then((function(t){var n=t.user;return Gu(n,"isAnonymous",!0),e.ka(n),t}))}))},e.getUid=function(){return Tc(this)&&Tc(this).uid||null},e.Mb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Tc(this)&&Fu(Tc(this))},e.qc=function(e){var t=this;j(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Tc(this)&&ju(Tc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Nc(this,this.i.then((function(){t.l||q(t.m,e)&&e(kc(t))})))},e.removeAuthTokenListener=function(e){z(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&Ks((e=this.h).b,e.a,this.ha),this.a&&this.a.unsubscribe(this),t.Promise.resolve()},e.Rb=function(e){return Nc(this,function(e,t){return es(e,xa,{identifier:t,continueUri:Oi()?ci():"http://localhost"}).then((function(e){return e.allProviders||[]}))}(this.c,e))},e.Fc=function(e){return this.Ia(e).then((function(e){return e.data.email}))},e.Ta=function(e,t){return Nc(this,this.c.Ta(e,t).then((function(){})))},e.Ia=function(e){return Nc(this,this.c.Ia(e).then((function(e){return new Yi(e)})))},e.Sa=function(e){return Nc(this,this.c.Sa(e).then((function(){})))},e.cb=function(e,t){var n=this;return Nc(this,Ve().then((function(){return"undefined"===typeof t||Z(t)?{}:vo(new uo(t))})).then((function(t){return n.c.cb(e,t)})).then((function(){})))},e.vc=function(e,t){return Nc(this,wu(this,e,t,v(this.fb,this)))};var Oc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rc(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:o}}function Ac(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:a}}function xc(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function Dc(e,t){return{name:e||"",K:"a function",optional:!!t,M:f}}function Mc(e,t){return{name:e||"",K:"null",optional:!!t,M:c}}function Lc(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.wa||!n)}}}function Fc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&o(e.type)&&f(e.verify))}}}function jc(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Uc(e,t,n,r,o,a){if(Hi(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=t,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[qc])throw new io("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Wc],!St(t)||!this.h&&St(t).hasChildNodes())throw new io("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new sa(e,a||null,o||null),this.o=r||function(){return null};var s=this;this.i=[];var u=this.a[Bc];this.a[Bc]=function(e){if(zc(s,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=Ii(u,i);"function"===typeof t&&t(e)}};var c=this.a[Vc];this.a[Vc]=function(){if(zc(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=Ii(c,i);"function"===typeof e&&e()}}}var Bc="callback",Vc="expired-callback",qc="sitekey",Wc="size";function zc(e,t){for(var n=0;n<e.i.length;n++)try{e.i[n](t)}catch(r){}}function Kc(e,t){return e.g.push(t),ze(t,(function(){W(e.g,t)})),t}function Hc(e){if(e.m)throw new io("internal-error","RecaptchaVerifier instance has been destroyed.")}(e=Uc.prototype).xa=function(){var e=this;return this.c?this.c:this.c=Kc(this,Ve().then((function(){if(Oi())return yi();throw new io("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return function(e,t){return new De((function(n,r){Ui()?!i.grecaptcha||t!==e.c&&!e.b?(i[e.a]=function(){if(i.grecaptcha){e.c=t;var o=i.grecaptcha.render;i.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},n()}else r(new io("internal-error"));delete i[e.a]},Ve(Zr(ct(Qc,{onload:e.a,hl:t||""}))).s((function(){r(new io("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):n():r(new io("network-request-failed"))}))}(Yc(),e.o())})).then((function(){return es(e.u,Ba,{})})).then((function(t){e.a[qc]=t.recaptchaSiteKey})).s((function(t){throw e.c=null,t})))},e.render=function(){Hc(this);var e=this;return Kc(this,this.xa().then((function(){if(null===e.b){var t=e.l;if(!e.h){var n=St(t);t=function(e,t,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!nt&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',T(s.name),'"'),s.type){a.push(' type="',T(s.type),'"');var u={};re(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):Et(a,s)),2<r.length&&Tt(i,a,r),a}("DIV"),n.appendChild(t)}e.b=grecaptcha.render(t,e.a)}return e.b})))},e.verify=function(){Hc(this);var e=this;return Kc(this,this.render().then((function(t){return new De((function(n){var r=grecaptcha.getResponse(t);if(r)n(r);else{e.i.push((function t(r){r&&(function(e,t){z(e.i,(function(e){return e==t}))}(e,t),n(r))})),e.h&&grecaptcha.execute(e.b)}}))})))},e.reset=function(){Hc(this),null!==this.b&&grecaptcha.reset(this.b)},e.clear=function(){Hc(this),this.m=!0,Yc().b--;for(var e=0;e<this.g.length;e++)this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=St(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}};var Qc=at("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}");function Gc(){this.b=i.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Xc=null;function Yc(){return Xc||(Xc=new Gc),Xc}function $c(e,n,r){try{this.f=r||t.app()}catch(a){throw new io("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new io("invalid-api-key");r=this.f.options.apiKey;var i=this,o=null;try{o=this.f.auth().Ka()}catch(a){}o=t.SDK_VERSION?Ti(t.SDK_VERSION,o):null,Uc.call(this,r,e,n,(function(){try{var e=i.f.auth().$()}catch(t){e=null}return e}),o,os(rs))}function Jc(e,t){for(var n in t){var r=t[n].name;e[r]=el(r,e[n],t[n].j)}}function Zc(e,t,n,r){e[t]=el(t,n,r)}function el(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Pc(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}w($c,Uc),Jc(gc.prototype,{Sa:{name:"applyActionCode",j:[Rc("code")]},Ia:{name:"checkActionCode",j:[Rc("code")]},Ta:{name:"confirmPasswordReset",j:[Rc("code"),Rc("newPassword")]},Ob:{name:"createUserWithEmailAndPassword",j:[Rc("email"),Rc("password")]},qb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Rc("email"),Rc("password")]},Rb:{name:"fetchProvidersForEmail",j:[Rc("email")]},aa:{name:"getRedirectResult",j:[]},hc:{name:"onAuthStateChanged",j:[jc(xc(),Dc(),"nextOrObserver"),Dc("opt_error",!0),Dc("opt_completed",!0)]},ic:{name:"onIdTokenChanged",j:[jc(xc(),Dc(),"nextOrObserver"),Dc("opt_error",!0),Dc("opt_completed",!0)]},cb:{name:"sendPasswordResetEmail",j:[Rc("email"),jc(xc("opt_actionCodeSettings",!0),Mc(null,!0),"opt_actionCodeSettings",!0)]},eb:{name:"setPersistence",j:[Rc("persistence")]},fb:{name:"signInAndRetrieveDataWithCredential",j:[Lc()]},gb:{name:"signInAnonymously",j:[]},Gb:{name:"signInAnonymouslyAndRetrieveData",j:[]},sc:{name:"signInWithCredential",j:[Lc()]},tc:{name:"signInWithCustomToken",j:[Rc("token")]},Eb:{name:"signInAndRetrieveDataWithCustomToken",j:[Rc("token")]},uc:{name:"signInWithEmailAndPassword",j:[Rc("email"),Rc("password")]},Fb:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Rc("email"),Rc("password")]},vc:{name:"signInWithPhoneNumber",j:[Rc("phoneNumber"),Fc()]},wc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},xc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rc(null,!0)]},Ec:{name:"useDeviceLanguage",j:[]},Fc:{name:"verifyPasswordResetCode",j:[Rc("code")]}}),function(e,t){for(var n in t){var r=t[n].name;if(r!==n){var i=t[n].Nb;Object.defineProperty(e,r,{get:function(){return this[n]},set:function(e){Pc(r,[i],[e],!0),this[n]=e},enumerable:!0})}}}(gc.prototype,{lc:{name:"languageCode",Nb:jc(Rc(),Mc(),"languageCode")}}),gc.Persistence=js,gc.Persistence.LOCAL="local",gc.Persistence.SESSION="session",gc.Persistence.NONE="none",Jc(Au.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[Ac()]},getToken:{name:"getToken",j:[Ac()]},Xa:{name:"linkAndRetrieveDataWithCredential",j:[Lc()]},cc:{name:"linkWithCredential",j:[Lc()]},dc:{name:"linkWithPhoneNumber",j:[Rc("phoneNumber"),Fc()]},ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Za:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lc()]},mc:{name:"reauthenticateWithCredential",j:[Lc()]},nc:{name:"reauthenticateWithPhoneNumber",j:[Rc("phoneNumber"),Fc()]},oc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},pc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},bb:{name:"sendEmailVerification",j:[jc(xc("opt_actionCodeSettings",!0),Mc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rc(null,!0)]},Cc:{name:"unlink",j:[Rc("provider")]},kb:{name:"updateEmail",j:[Rc("email")]},lb:{name:"updatePassword",j:[Rc("password")]},Dc:{name:"updatePhoneNumber",j:[Lc("phone")]},mb:{name:"updateProfile",j:[xc("profile")]}}),Jc(De.prototype,{s:{name:"catch"},then:{name:"then"}}),Jc(_u.prototype,{confirm:{name:"confirm",j:[Rc("verificationCode")]}}),Zc(Go,"credential",(function(e,t){return new Qo(e,t)}),[Rc("email"),Rc("password")]),Jc(Uo.prototype,{sa:{name:"addScope",j:[Rc("scope")]},Ba:{name:"setCustomParameters",j:[xc("customOAuthParameters")]}}),Zc(Uo,"credential",Bo,[jc(Rc(),xc(),"token")]),Jc(Vo.prototype,{sa:{name:"addScope",j:[Rc("scope")]},Ba:{name:"setCustomParameters",j:[xc("customOAuthParameters")]}}),Zc(Vo,"credential",qo,[jc(Rc(),xc(),"token")]),Jc(Wo.prototype,{sa:{name:"addScope",j:[Rc("scope")]},Ba:{name:"setCustomParameters",j:[xc("customOAuthParameters")]}}),Zc(Wo,"credential",zo,[jc(Rc(),jc(xc(),Mc()),"idToken"),jc(Rc(),Mc(),"accessToken",!0)]),Jc(Ko.prototype,{Ba:{name:"setCustomParameters",j:[xc("customOAuthParameters")]}}),Zc(Ko,"credential",Ho,[jc(Rc(),xc(),"token"),Rc("secret",!0)]),Jc(jo.prototype,{sa:{name:"addScope",j:[Rc("scope")]},credential:{name:"credential",j:[jc(Rc(),Mc(),"idToken",!0),jc(Rc(),Mc(),"accessToken",!0)]},Ba:{name:"setCustomParameters",j:[xc("customOAuthParameters")]}}),Zc($o,"credential",Jo,[Rc("verificationId"),Rc("verificationCode")]),Jc($o.prototype,{Qa:{name:"verifyPhoneNumber",j:[Rc("phoneNumber"),Fc()]}}),Jc(io.prototype,{toJSON:{name:"toJSON",j:[Rc(null,!0)]}}),Jc(ia.prototype,{toJSON:{name:"toJSON",j:[Rc(null,!0)]}}),Jc(ra.prototype,{toJSON:{name:"toJSON",j:[Rc(null,!0)]}}),Jc($c.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:gc,Error:io};Zc(e,"EmailAuthProvider",Go,[]),Zc(e,"FacebookAuthProvider",Uo,[]),Zc(e,"GithubAuthProvider",Vo,[]),Zc(e,"GoogleAuthProvider",Wo,[]),Zc(e,"TwitterAuthProvider",Ko,[]),Zc(e,"OAuthProvider",jo,[Rc("providerId")]),Zc(e,"PhoneAuthProvider",$o,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof gc)}}]),Zc(e,"RecaptchaVerifier",$c,[jc(Rc(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),xc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.app.App)}}]),t.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:v((e=new gc(e)).getUid,e),getToken:v(e.Vb,e),addAuthTokenListener:v(e.Mb,e),removeAuthTokenListener:v(e.qc,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),t.INTERNAL.extendNamespace({User:Au})}()}).call("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},4128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2787),i=n(9465);t.Database=i.Database;var o=n(9053);t.Query=o.Query;var a=n(3320);t.Reference=a.Reference;var s=n(4621);t.enableLogging=s.enableLogging;var u=n(6447),c=n(9392),l=n(5623),h=n(3584),f=i.Database.ServerValue;function d(t){var n=t.INTERNAL.registerService("database",(function(e,t,n){return u.RepoManager.getInstance().databaseFromApp(e,n)}),{Reference:a.Reference,Query:o.Query,Database:i.Database,enableLogging:s.enableLogging,INTERNAL:c,ServerValue:f,TEST_ACCESS:l},null,!0);h.isNodeSdk()&&(e.exports=n)}t.ServerValue=f,t.registerDatabase=d,d(r.default);var p=n(985);t.DataSnapshot=p.DataSnapshot;var m=n(1295);t.OnDisconnect=m.OnDisconnect},985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(8851),o=n(6978),a=n(7083),s=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),i.validatePathString("DataSnapshot.child",1,t,!1);var n=new o.Path(t),s=this.ref_.child(n);return new e(this.node_.getChild(n),s,a.PRIORITY_INDEX)},e.prototype.hasChild=function(e){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),i.validatePathString("DataSnapshot.hasChild",1,e,!1);var t=new o.Path(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),a.PRIORITY_INDEX))}))},e.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.DataSnapshot=s},9465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=n(8986),o=n(6978),a=n(3320),s=n(4036),u=n(6447),c=n(3584),l=n(8851),h=function(){function e(e){this.repo_=e,e instanceof s.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new a.Reference(e,o.Path.Empty),this.INTERNAL=new f(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),c.validateArgCount(t,1,1,arguments.length);var n=i.parseRepoInfo(e);l.validateUrl(t,1,n);var o=n.repoInfo;return o.host!==this.repo_.repoInfo_.host&&r.fatal(t+": Host name does not match the current database: (found "+o.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&r.fatal("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}();t.Database=h;var f=function(){function e(e){this.database=e}return e.prototype.delete=function(){return this.database.checkDeleted_("delete"),u.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,Promise.resolve()},e}();t.DatabaseInternals=f},9053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3584),o=n(9410),a=n(7083),s=n(8562),u=n(150),c=n(4621),l=n(6978),h=n(8851),f=n(3584),d=n(7793),p=n(3584),m=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return i.assert(r,"Reference.ts has not been loaded"),r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===o.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=c.MIN_NAME)throw new Error(r);if("string"!==typeof t)throw new Error(l)}if(e.hasEnd()){if(e.getIndexEndName()!=c.MAX_NAME)throw new Error(r);if("string"!==typeof n)throw new Error(l)}}else if(e.getIndex()===a.PRIORITY_INDEX){if(null!=t&&!h.isValidPriority(t)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(e.getIndex()instanceof u.PathIndex||e.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return f.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){f.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,t,!1),f.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new d.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new d.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){f.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,e,!0),f.validateCallback("Query.off",2,t,!0),f.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new d.ValueEventRegistration(o,null,n||null)}else e&&(t&&((i={})[e]=t),r=new d.ChildEventRegistration(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;f.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,t,!1),f.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new p.Deferred;u.promise.catch((function(){}));var c=function e(r){s&&(s=!1,o.off(t,e),n&&n.bind(a.context)(r),u.resolve(r))};return this.on(t,c,(function(e){o.off(t,c),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(f.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(f.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(f.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new l.Path(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){f.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(o.KEY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){f.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(a.PRIORITY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){f.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(s.VALUE_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,t,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,t,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(f.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,e,this.path,!1),h.validateKey("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return f.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return f.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=c.ObjectToUniqueKey(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(f.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return r&&i&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,f.validateCallback(e,3,r.cancel,!0),r.context=n,f.validateContextObject(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(f.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.Query=m},3320:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1295),o=n(9872),a=n(4621),s=n(3378),u=n(9053),c=n(4036),l=n(6978),h=n(4438),f=n(8851),d=n(3584),p=n(3584),m=n(6162),y=function(e){function t(t,n){if(!(t instanceof c.Repo))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,h.QueryParams.DEFAULT,!1)||this}return r(t,e),t.prototype.getKey=function(){return d.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return d.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof l.Path||(null===this.path.getFront()?f.validateRootPathString("Reference.child",1,e,!1):f.validatePathString("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){d.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){d.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){d.validateArgCount("Reference.set",1,2,arguments.length),f.validateWritablePath("Reference.set",this.path),f.validateFirebaseDataArg("Reference.set",1,e,this.path,!1),d.validateCallback("Reference.set",2,t,!0);var n=new p.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(d.validateArgCount("Reference.update",1,2,arguments.length),f.validateWritablePath("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}f.validateFirebaseMergeDataArg("Reference.update",1,e,this.path,!1),d.validateCallback("Reference.update",2,t,!0);var i=new p.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(d.validateArgCount("Reference.setWithPriority",2,3,arguments.length),f.validateWritablePath("Reference.setWithPriority",this.path),f.validateFirebaseDataArg("Reference.setWithPriority",1,e,this.path,!1),f.validatePriority("Reference.setWithPriority",2,t,!1),d.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new p.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return d.validateArgCount("Reference.remove",0,1,arguments.length),f.validateWritablePath("Reference.remove",this.path),d.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(d.validateArgCount("Reference.transaction",1,3,arguments.length),f.validateWritablePath("Reference.transaction",this.path),d.validateCallback("Reference.transaction",1,e,!1),d.validateCallback("Reference.transaction",2,t,!0),f.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new p.Deferred;"function"===typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new o.TransactionResult(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){d.validateArgCount("Reference.setPriority",1,2,arguments.length),f.validateWritablePath("Reference.setPriority",this.path),f.validatePriority("Reference.setPriority",1,e,!1),d.validateCallback("Reference.setPriority",2,t,!0);var n=new p.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){d.validateArgCount("Reference.push",0,2,arguments.length),f.validateWritablePath("Reference.push",this.path),f.validateFirebaseDataArg("Reference.push",1,e,this.path,!0),d.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=s.nextPushId(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return f.validateWritablePath("Reference.onDisconnect",this.path),new i.OnDisconnect(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(u.Query);t.Reference=y,u.Query.__referenceConstructor=y,m.SyncPoint.__referenceConstructor=y},9872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();t.TransactionResult=i},9392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8227),i=n(9790);t.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},t.forceWebSockets=function(){i.BrowserPollConnection.forceDisallow()},t.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},t.setSecurityDebugCallback=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},t.stats=function(e,t){e.repo.stats(t)},t.statsIncrementCounter=function(e,t){e.repo.statsIncrementCounter(t)},t.dataUpdateCount=function(e){return e.repo.dataUpdateCount},t.interceptServerData=function(e,t){return e.repo.interceptServerData_(t)}},1295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(8851),o=n(4621),a=n(3584),s=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),i.validateWritablePath("OnDisconnect.remove",this.path_),r.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),i.validateWritablePath("OnDisconnect.set",this.path_),i.validateFirebaseDataArg("OnDisconnect.set",1,e,this.path_,!1),r.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),i.validateWritablePath("OnDisconnect.setWithPriority",this.path_),i.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,e,this.path_,!1),i.validatePriority("OnDisconnect.setWithPriority",2,t,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,o.wrapCallback(n)),o.promise},e.prototype.update=function(e,t){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),i.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},s=0;s<e.length;++s)n[""+s]=e[s];e=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}i.validateFirebaseMergeDataArg("OnDisconnect.update",1,e,this.path_,!1),r.validateCallback("OnDisconnect.update",2,t,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,u.wrapCallback(t)),u.promise},e}();t.OnDisconnect=s},5623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3511),i=n(2749),o=n(6447),a=n(9115);t.DataConnection=i.PersistentConnection,i.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},i.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},t.RealTimeConnection=a.Connection,t.hijackHash=function(e){var t=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=t}},t.ConnectionTarget=r.RepoInfo,t.queryIdentifier=function(e){return e.queryIdentifier()},t.listens=function(e){return e.repo.persistentConnection_.listens_},t.forceRestClient=function(e){o.RepoManager.getInstance().forceRestClient(e)}},4653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,(function(e){return e&&"auth/token-not-initialized"===e.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}))},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',r.warn(e)},e}();t.AuthTokenProvider=i},7994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9903),i=n(6978),o=n(3584),a=n(7532),s=n(7083),u=n(3584),c=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new r.ImmutableTree(n));var o=this.writeTree_.findRootMostValueAndPath(t);if(null!=o){var a=o.path,s=o.value,u=i.Path.relativePath(a,t);return s=s.updateChild(u,n),new e(this.writeTree_.set(a,s))}var c=new r.ImmutableTree(n);return new e(this.writeTree_.setTree(t,c))},e.prototype.addWrites=function(e,t){var n=this;return o.forEach(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,r.ImmutableTree.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(i.Path.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,(function(t,n){e.push(new a.NamedNode(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new a.NamedNode(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(i.Path.Empty,this.writeTree_,t)},e.Empty=new e(new r.ImmutableTree(null)),e.applySubtreeWrite_=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e.applySubtreeWrite_(t.child(n),o,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r},e}();t.CompoundWrite=c},2749:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2787),o=n(3584),a=n(3584),s=n(3584),u=n(4621),c=n(6978),l=n(8081),h=n(3331),f=n(3584),d=n(9115),p=n(3584),m=n(3584),y=n(4595),g=1e3,v=function(e){function t(n,r,i,o,a,s){var c=e.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=a,c.authOverride_=s,c.id=t.nextPersistentConnectionId_++,c.log_=u.logWrapper("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=g,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,s&&!m.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),l.VisibilityMonitor.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&h.OnlineMonitor.getInstance().on("online",c.onOnline_,c),c}return r(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(a.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||f.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=f.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):u.error("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=g),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,r())};this.realtime_={close:h,sendRequest:function(e){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,l=new d.Connection(i,o.repoInfo_,e,n,r,(function(e){u.warn(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(e){o.log_("Failed to get token: "+e),c||(p.CONSTANTS.NODE_ADMIN&&u.warn(e),h())}))}},t.prototype.interrupt=function(e){u.log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){u.log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return u.ObjectToUniqueKey(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new c.Path(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===o.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){u.log("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&"undefined"!==typeof console&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),o.forEach(this.listens_,(function(t,n){o.forEach(n,(function(t,n){e.sendListen_(n)}))}));for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";p.CONSTANTS.NODE_ADMIN?t="admin_node":p.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,m.isMobileCordova()?e["framework.cordova"]=1:m.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=h.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(y.ServerActions);t.PersistentConnection=v},4665:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(3584),o=n(4621),a=n(3584),s=n(3584),u=n(3584),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=o.logWrapper("p:rest:"),i.listens_={},i}return r(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(i.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c)&&i(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(t.auth=s);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?"+u.querystring(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=a.jsonEval(l.responseText)}catch(t){o.warn("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&o.warn("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()}))},t}(n(4595).ServerActions);t.ReadonlyRestClient=c},4036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7492),i=n(3002),o=n(6978),a=n(2073),s=n(7220),u=n(8546),c=n(3584),l=n(4621),h=n(3584),f=n(4653),d=n(9937),p=n(7969),m=n(6846),y=n(2766),g=n(2749),v=n(4665),b=n(9465),_="repo_interrupt",w=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new a.SparseSnapshotTree,this.persistentConnection_=null;var i=new f.AuthTokenProvider(n);if(this.stats_=d.StatsManager.getCollection(e),t||l.beingCrawled())this.server_=new v.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!==typeof o&&null!==o){if("object"!==typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{c.stringify(o)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}this.persistentConnection_=new g.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(e){r.server_.refreshAuthToken(e)})),this.statsReporter_=d.StatsManager.getOrCreateReporter(e,(function(){return new p.StatsReporter(r.stats_,r.server_)})),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new s.SyncTree({startListening:function(e,t,n,i){var o=[],a=r.infoData_.getNode(e.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new s.SyncTree({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,(function(t,n){var o=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new o.Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var a=new o.Path(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var u=h.map(t,(function(e){return i.nodeFromJSON(e)}));s=this.serverSyncTree_.applyTaggedQueryMerge(a,u,r)}else{var c=i.nodeFromJSON(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(a,c,r)}else if(n){var l=h.map(t,(function(e){return i.nodeFromJSON(e)}));s=this.serverSyncTree_.applyServerMerge(a,l)}else{var f=i.nodeFromJSON(t);s=this.serverSyncTree_.applyServerOverwrite(a,f)}var d=a;s.length>0&&(d=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(d,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;l.each(e,(function(e,n){t.updateInfo_(n,e)}))},e.prototype.updateInfo_=function(e,t){var n=new o.Path("/.info/"+e),r=i.nodeFromJSON(t);this.infoData_.updateSnapshot(n,r);var a=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,a)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,o){var a=this;this.log_("set",{path:e.toString(),value:t,priority:n});var s=this.generateServerValues(),u=i.nodeFromJSON(t,n),c=r.resolveDeferredValueSnapshot(u,s),h=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserOverwrite(e,c,h,!0);this.eventQueue_.queueEvents(f),this.server_.put(e.toString(),u.val(!0),(function(t,n){var r="ok"===t;r||l.warn("set at "+e+" failed: "+t);var i=a.serverSyncTree_.ackUserWrite(h,!r);a.eventQueue_.raiseEventsForChangedPath(e,i),a.callOnCompleteCallback(o,t,n)}));var d=this.abortTransactions_(e);this.rerunTransactions_(d),this.eventQueue_.raiseEventsForChangedPath(d,[])},e.prototype.update=function(e,t,n){var o=this;this.log_("update",{path:e.toString(),value:t});var a=!0,s=this.generateServerValues(),u={};if(h.forEach(t,(function(e,t){a=!1;var n=i.nodeFromJSON(t);u[e]=r.resolveDeferredValueSnapshot(n,s)})),a)l.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var c=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserMerge(e,u,c);this.eventQueue_.queueEvents(f),this.server_.merge(e.toString(),t,(function(t,r){var i="ok"===t;i||l.warn("update at "+e+" failed: "+t);var a=o.serverSyncTree_.ackUserWrite(c,!i),s=a.length>0?o.rerunTransactions_(e):e;o.eventQueue_.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,t,r)})),h.forEach(t,(function(t){var n=o.abortTransactions_(e.child(t));o.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=r.resolveDeferredValueTree(this.onDisconnect_,t),i=[];n.forEachTree(o.Path.Empty,(function(t,n){i=i.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)})),this.onDisconnect_=new a.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(o.Path.Empty,i)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,o=i.nodeFromJSON(t);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,i){"ok"===t&&r.onDisconnect_.remember(e,o),r.callOnCompleteCallback(n,t,i)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var o=this,a=i.nodeFromJSON(t,n);this.server_.onDisconnectPut(e.toString(),a.val(!0),(function(t,n){"ok"===t&&o.onDisconnect_.remember(e,a),o.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(h.isEmpty(t))return l.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(o,a){"ok"===o&&h.forEach(t,(function(t,n){var o=i.nodeFromJSON(n);r.onDisconnect_.remember(e.child(t),o)})),r.callOnCompleteCallback(n,o,a)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(_)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(_)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new m.StatsListener(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);h.forEach(t,(function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),l.log.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&l.exceptionGuard((function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new b.Database(this))},enumerable:!0,configurable:!0}),e}();t.Repo=w},3511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(3584),o=n(1686),a=n(8535),s=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(r.assert("string"===typeof e,"typeof type must == string"),r.assert("object"===typeof t,"typeof params must == object"),e===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==a.LONG_POLLING)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var o=[];return i.forEach(t,(function(e,t){o.push(e+"="+t)})),n+o.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();t.RepoInfo=s},6447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(4036),o=n(4621),a=n(8986),s=n(8851);n(6329);var u,c=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return u||(u=new e),u},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var r=a.parseRepoInfo(n),i=r.repoInfo;return s.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=r.safeGet(this.repos_,e.app.name);t&&r.safeGet(t,e.repoInfo_.toURLString())===e||o.fatal("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=r.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var a=r.safeGet(n,e.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new i.Repo(e,this.useRestClient_,t),n[e.toURLString()]=a,a},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}();t.RepoManager=c},6329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3584),o=n(3320),a=n(985),s=n(6978),u=n(1811),c=n(7083),l=n(4621),h=n(7492),f=n(8851),d=n(3584),p=n(3002),m=n(3512),y=n(4036);!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=t.TransactionStatus||(t.TransactionStatus={})),y.Repo.MAX_TRANSACTION_RETRIES_=25,y.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},y.Repo.prototype.startTransaction=function(e,t,n,s){this.log_("transaction on "+e);var u=function(){},y=new o.Reference(this,e);y.on("value",u);var g={path:e,update:t,onComplete:n,status:null,order:l.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:function(){y.off("value",u)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=this.getLatestState_(e);g.currentInputSnapshot=v;var b=g.update(v.val());if(void 0===b){if(g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete){var _=new a.DataSnapshot(g.currentInputSnapshot,new o.Reference(this,g.path),c.PRIORITY_INDEX);g.onComplete(null,!1,_)}}else{f.validateFirebaseData("transaction failed: Data returned ",b,g.path),g.status=r.RUN;var w=this.transactionQueueTree_.subTree(e),S=w.getValue()||[];S.push(g),w.setValue(S);var E=void 0;if("object"===typeof b&&null!==b&&d.contains(b,".priority"))E=d.safeGet(b,".priority"),i.assert(f.isValidPriority(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else E=(this.serverSyncTree_.calcCompleteEventCache(e)||m.ChildrenNode.EMPTY_NODE).getPriority().val();var C=this.generateServerValues(),T=p.nodeFromJSON(b,E),k=h.resolveDeferredValueSnapshot(T,C);g.currentOutputSnapshotRaw=T,g.currentOutputSnapshotResolved=k,g.currentWriteId=this.getNextWriteId_();var I=this.serverSyncTree_.applyUserOverwrite(e,k,g.currentWriteId,g.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,I),this.sendReadyTransactions_()}},y.Repo.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||m.ChildrenNode.EMPTY_NODE},y.Repo.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);i.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===r.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},y.Repo.prototype.sendTransactionQueue_=function(e,t){for(var n=this,u=t.map((function(e){return e.currentWriteId})),h=this.getLatestState_(e,u),f=h,d=h.hash(),p=0;p<t.length;p++){var m=t[p];i.assert(m.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=r.SENT,m.retryCount++;var y=s.Path.relativePath(e,m.path);f=f.updateChild(y,m.currentOutputSnapshotRaw)}var g=f.val(!0),v=e;this.server_.put(v.toString(),g,(function(i){n.log_("transaction put response",{path:v.toString(),status:i});var s=[];if("ok"===i){for(var u=[],h=0;h<t.length;h++){if(t[h].status=r.COMPLETED,s=s.concat(n.serverSyncTree_.ackUserWrite(t[h].currentWriteId)),t[h].onComplete){var f=t[h].currentOutputSnapshotResolved,d=new o.Reference(n,t[h].path),p=new a.DataSnapshot(f,d,c.PRIORITY_INDEX);u.push(t[h].onComplete.bind(null,null,!0,p))}t[h].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,s);for(h=0;h<u.length;h++)l.exceptionGuard(u[h])}else{if("datastale"===i)for(h=0;h<t.length;h++)t[h].status===r.SENT_NEEDS_ABORT?t[h].status=r.NEEDS_ABORT:t[h].status=r.RUN;else{l.warn("transaction at "+v.toString()+" failed: "+i);for(h=0;h<t.length;h++)t[h].status=r.NEEDS_ABORT,t[h].abortReason=i}n.rerunTransactions_(e)}}),d)},y.Repo.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},y.Repo.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,u=[],m=[],g=e.filter((function(e){return e.status===r.RUN})).map((function(e){return e.currentWriteId})),v=0;v<e.length;v++){var b=e[v],_=s.Path.relativePath(t,b.path),w=!1,S=void 0;if(i.assert(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),b.status===r.NEEDS_ABORT)w=!0,S=b.abortReason,m=m.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else if(b.status===r.RUN)if(b.retryCount>=y.Repo.MAX_TRANSACTION_RETRIES_)w=!0,S="maxretry",m=m.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0));else{var E=this.getLatestState_(b.path,g);b.currentInputSnapshot=E;var C=e[v].update(E.val());if(void 0!==C){f.validateFirebaseData("transaction failed: Data returned ",C,b.path);var T=p.nodeFromJSON(C);"object"===typeof C&&null!=C&&d.contains(C,".priority")||(T=T.updatePriority(E.getPriority()));var k=b.currentWriteId,I=this.generateServerValues(),N=h.resolveDeferredValueSnapshot(T,I);b.currentOutputSnapshotRaw=T,b.currentOutputSnapshotResolved=N,b.currentWriteId=this.getNextWriteId_(),g.splice(g.indexOf(k),1),m=(m=m.concat(this.serverSyncTree_.applyUserOverwrite(b.path,N,b.currentWriteId,b.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(k,!0))}else w=!0,S="nodata",m=m.concat(this.serverSyncTree_.ackUserWrite(b.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,m),m=[],w&&(e[v].status=r.COMPLETED,n=e[v].unwatcher,setTimeout(n,Math.floor(0)),e[v].onComplete))if("nodata"===S){var P=new o.Reference(this,e[v].path),O=e[v].currentInputSnapshot,R=new a.DataSnapshot(O,P,c.PRIORITY_INDEX);u.push(e[v].onComplete.bind(null,null,!1,R))}else u.push(e[v].onComplete.bind(null,new Error(S),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(v=0;v<u.length;v++)l.exceptionGuard(u[v]);this.sendReadyTransactions_()}},y.Repo.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},y.Repo.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},y.Repo.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},y.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var i=0,o=0;o<n.length;o++)n[o].status!==r.COMPLETED&&(n[i]=n[o],i++);n.length=i,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},y.Repo.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},y.Repo.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],o=[],a=-1,s=0;s<t.length;s++)if(t[s].status===r.SENT_NEEDS_ABORT);else if(t[s].status===r.SENT)i.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,t[s].status=r.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(i.assert(t[s].status===r.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){n.push(t[s].onComplete.bind(null,new Error("set"),!1,null))}-1===a?e.setValue(null):t.length=a+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),o);for(s=0;s<n.length;s++)l.exceptionGuard(n[s])}}},4595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}();t.ServerActions=n},8546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3512),i=function(){function e(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();t.SnapshotHolder=i},2073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6978),i=n(7083),o=n(8985),a=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new o.CountedSet);var r=t.getFront();this.children_.contains(r)||this.children_.add(r,new e);var i=this.children_.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(i.PRIORITY_INDEX,(function(e,t){n.remember(new r.Path(e),t)})),this.forget(e)}if(null!==this.children_){var o=e.getFront();if(e=e.popFront(),this.children_.contains(o))this.children_.get(o).forget(e)&&this.children_.remove(o);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild((function(n,i){var o=new r.Path(e.toString()+"/"+n);i.forEachTree(o,t)}))},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each((function(t,n){e(t,n)}))},e}();t.SparseSnapshotTree=a},6162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9556),o=n(3512),a=n(3584),s=n(3584),u=n(3510),c=n(6566),l=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(r,"Reference.ts has not been loaded"),r},set:function(e){a.assert(!r,"__referenceConstructor has already been defined"),r=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return s.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=s.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var o=[];return s.forEach(this.views_,(function(r,i){o=o.concat(i.applyOperation(e,t,n))})),o},e.prototype.addEventRegistration=function(e,t,n,r,a){var l=e.queryIdentifier(),h=s.safeGet(this.views_,l);if(!h){var f=n.calcCompleteEventCache(a?r:null),d=!1;f?d=!0:r instanceof o.ChildrenNode?(f=n.calcCompleteEventChildren(r),d=!1):(f=o.ChildrenNode.EMPTY_NODE,d=!1);var p=new u.ViewCache(new i.CacheNode(f,d,!1),new i.CacheNode(r,a,!1));h=new c.View(e,p),this.views_[l]=h}return h.addEventRegistration(t),h.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i=t.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var c=this;s.forEach(this.views_,(function(e,t){a=a.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete c.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))}))}else{var l=s.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:a}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map((function(t){return e.views_[t]})).filter((function(e){return!e.getQuery().getQueryParams().loadsAllData()}))},e.prototype.getCompleteServerCache=function(e){var t=null;return s.forEach(this.views_,(function(n,r){t=t||r.getCompleteServerCache(e)})),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return s.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return s.findValue(this.views_,(function(e){return e.getQuery().getQueryParams().loadsAllData()}))||null},e}();t.SyncPoint=l},7220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(4621),o=n(2519),a=n(3512),s=n(3584),u=n(9903),c=n(5325),l=n(3179),h=n(3902),f=n(2410),d=n(6978),p=n(6162),m=n(7666),y=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new m.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(d.Path.Empty,!0):s.forEach(n.children,(function(e,t){r=r.set(new d.Path(e),t)})),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new l.Merge(h.OperationSource.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new c.ListenComplete(h.OperationSource.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=d.Path.relativePath(a,t),c=new f.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,c=d.Path.relativePath(a,t),f=u.ImmutableTree.fromObject(n),p=new l.Merge(h.OperationSource.forServerTaggedQuery(s),c,f);return this.applyTaggedOperation_(a,p)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=d.Path.relativePath(o,t),u=new c.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var i=t.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(i,(function(e,t){var n=d.Path.relativePath(e,i);o=o||t.getCompleteServerCache(n),s=s||t.hasCompleteView()}));var u,c=this.syncPointTree_.get(i);(c?(s=s||c.hasCompleteView(),o=o||c.getCompleteServerCache(d.Path.Empty)):(c=new p.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(i,c)),null!=o)?u=!0:(u=!1,o=a.ChildrenNode.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=t.getCompleteServerCache(d.Path.Empty);n&&(o=o.updateImmediateChild(e,n))})));var l=c.viewExistsForQuery(t);if(!l&&!t.getQueryParams().loadsAllData()){var h=e.makeQueryKey_(t);r.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var f=e.getNextQueryTag_();this.queryToTagMap_[h]=f,this.tagToQueryMap_["_"+f]=h}var m=this.pendingWriteTree_.childWrites(i),y=c.addEventRegistration(t,n,m,o,u);if(!l&&!s){var g=c.viewForQuery(t);y=y.concat(this.setupListener_(t,g))}return y},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var m=d[p],y=m.getQuery(),g=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach((function(t){var n=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=d.Path.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),s.forEach(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var i=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),c=this.syncPointTree_.subtree(i);if(o)r.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),s.forEach(n,(function(e,t){r=r.concat(t)})),r})),h=0;h<l.length;++h){var f=l[h];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return u},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var o=i.errorForServerCode(e,n);return t.removeEventRegistration(n,null,o)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return r.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new d.Path(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return s.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);r.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,i,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(d.Path.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(d.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(d.Path.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(d.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(d.Path.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}();t.SyncTree=y},7666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(3584),o=n(6978),a=n(7994),s=n(7083),u=n(3512),c=function(){function e(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new l(e,this)},e.prototype.addOverwrite=function(e,t,n,r){i.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){i.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));i.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var c=this.allWrites_[u];c.visible&&(u>=n&&this.recordContainsPath_(c,o.path)?a=!1:o.path.contains(c.path)&&(s=!0)),u--}if(a){if(s)return this.resetTree_(),!0;if(o.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(o.path);else{var l=o.children;r.forEach(l,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(o.path.child(e))}))}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var a=this.visibleWrites_.childCompoundWrite(t);if(!i&&a.isEmpty())return n;if(i||null!=n||a.hasCompleteWrite(o.Path.Empty)){var s=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);h=n||u.ChildrenNode.EMPTY_NODE;return s.apply(h)}return null}var c=this.visibleWrites_.getCompleteNode(t);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(t);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(o.Path.Empty)){var h=n||u.ChildrenNode.EMPTY_NODE;return l.apply(h)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(s.PRIORITY_INDEX,(function(e,t){var r=i.childCompoundWrite(new o.Path(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var s,u=this.visibleWrites_.childCompoundWrite(e),c=u.getCompleteNode(o.Path.Empty);if(null!=c)s=c;else{if(null==t)return[];s=u.apply(t)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),d=f.getNext();d&&l.length<r;)0!==h(d,n)&&l.push(d),d=f.getNext();return l},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!r.findKey(e.children,(function(n,r){return e.path.child(r).contains(t)}))},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,o.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var s=a.CompoundWrite.Empty,u=0;u<e.length;++u){var c=e[u];if(t(c)){var l=c.path,h=void 0;if(c.snap)n.contains(l)?(h=o.Path.relativePath(n,l),s=s.addWrite(h,c.snap)):l.contains(n)&&(h=o.Path.relativePath(l,n),s=s.addWrite(o.Path.Empty,c.snap.getChild(h)));else{if(!c.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))h=o.Path.relativePath(n,l),s=s.addWrites(h,c.children);else if(l.contains(n))if((h=o.Path.relativePath(l,n)).isEmpty())s=s.addWrites(o.Path.Empty,c.children);else{var f=r.safeGet(c.children,h.getFront());if(f){var d=f.getChild(h.popFront());s=s.addWrite(o.Path.Empty,d)}}}}}return s},e}();t.WriteTree=c;var l=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}();t.WriteTreeRef=l},2519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(6978),o=n(3902),a=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new i.Path(t));return new e(i.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();t.AckUserWrite=a},5325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6978),i=n(3902),o=function(){function e(e,t){this.source=e,this.path=t,this.type=i.OperationType.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,r.Path.Empty):new e(this.source,this.path.popFront())},e}();t.ListenComplete=o},3179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3902),i=n(2410),o=n(6978),a=n(3584),s=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=r.OperationType.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(t));return n.isEmpty()?null:n.value?new i.Overwrite(this.source,o.Path.Empty,n.value):new e(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();t.Merge=s},3902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584);!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(t.OperationType||(t.OperationType={}));var i=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,r.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();t.OperationSource=i},2410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3902),i=n(6978),o=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=r.OperationType.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,i.Path.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();t.Overwrite=o},3512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3584),a=n(4621),s=n(4604),u=n(7532),c=n(999),l=n(7083),h=n(9410),f=n(1361),d=n(4549),p=n(1929),m=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&c.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return i||(i=new e(new s.SortedMap(p.NAME_COMPARATOR),null,f.IndexMap.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||i},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?i:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,a=new u.NamedNode(t,n),s=void 0,c=void 0;return n.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(a,this.children_)):(s=this.children_.insert(t,n),c=this.indexMap_.addToIndexes(a,this.children_)),r=s.isEmpty()?i:this.priorityNode_,new e(s,r,c)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(l.PRIORITY_INDEX,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+c.priorityHashText(this.getPriority().val())+":"),this.forEachChild(l.PRIORITY_INDEX,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":a.sha1(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new u.NamedNode(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===t.MAX_NODE?-1:0},e.prototype.withIndex=function(t){if(t===h.KEY_INDEX||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===h.KEY_INDEX||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(l.PRIORITY_INDEX),r=t.getIterator(l.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===h.KEY_INDEX?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}();t.ChildrenNode=m;var y=function(e){function t(){return e.call(this,new s.SortedMap(p.NAME_COMPARATOR),m.EMPTY_NODE,f.IndexMap.Default)||this}return r(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return m.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(m);t.MaxNode=y,t.MAX_NODE=new y,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,m.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,t.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=m.EMPTY_NODE,d.LeafNode.__childrenNodeConstructor=m,c.setMaxNode(t.MAX_NODE),l.setMaxNode(t.MAX_NODE)},1361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3584),o=n(1715),a=n(3584),s=n(7532),u=n(7083),c=n(9410),l={},h=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return i.assert(l&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new e({".priority":l},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===l?null:t},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){i.assert(t!==c.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,u=[],h=!1,f=n.getIterator(s.NamedNode.Wrap),d=f.getNext();d;)h=h||t.isDefinedOn(d.node),u.push(d),d=f.getNext();r=h?o.buildChildSet(u,t.getCompare()):l;var p=t.toString(),m=a.clone(this.indexSet_);m[p]=t;var y=a.clone(this.indexes_);return y[p]=r,new e(y,m)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,u){var c=a.safeGet(r.indexSet_,u);if(i.assert(c,"Missing index implementation for "+u),e===l){if(c.isDefinedOn(t.node)){for(var h=[],f=n.getIterator(s.NamedNode.Wrap),d=f.getNext();d;)d.name!=t.name&&h.push(d),d=f.getNext();return h.push(t),o.buildChildSet(h,c.getCompare())}return l}var p=n.get(t.name),m=e;return p&&(m=m.remove(new s.NamedNode(t.name,p))),m.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===l)return e;var r=n.get(t.name);return r?e.remove(new s.NamedNode(t.name,r)):e})),this.indexSet_)},e}();t.IndexMap=h},4549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3584),o=n(4621),a=n(999),s=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+a.priorityHashText(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?o.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=o.sha1(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(i.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();t.LeafNode=s},7532:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}();t.NamedNode=n},1715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4604),i=n(4604),o=Math.log(2),a=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/o,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}();t.buildChildSet=function(e,t,n,o){e.sort(t);var s=function t(i,o){var a,s,u=o-i;if(0==u)return null;if(1==u)return a=e[i],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,null,null);var c=parseInt(u/2,10)+i,l=t(i,c),h=t(c+1,o);return a=e[c],s=n?n(a):a,new r.LLRBNode(s,a.node,r.LLRBNode.BLACK,l,h)},u=function(t){for(var i=null,o=null,a=e.length,u=function(t,i){var o=a-t,u=a;a-=t;var l=s(o+1,u),h=e[o],f=n?n(h):h;c(new r.LLRBNode(f,h.node,i,null,l))},c=function(e){i?(i.left=e,i=e):(o=e,i=e)},l=0;l<t.count;++l){var h=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));h?u(f,r.LLRBNode.BLACK):(u(f,r.LLRBNode.BLACK),u(f,r.LLRBNode.RED))}return o}(new a(e.length));return new i.SortedMap(o||t,u)}},1929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621);t.NAME_ONLY_COMPARATOR=function(e,t){return r.nameCompare(e.name,t.name)},t.NAME_COMPARATOR=function(e,t){return r.nameCompare(e,t)}},6188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7532),i=n(4621),o=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new r.NamedNode(i.MIN_NAME,e),o=new r.NamedNode(i.MIN_NAME,t);return 0!==this.compare(n,o)},e.prototype.minPost=function(){return r.NamedNode.MIN},e}();t.Index=o},9410:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(6188),a=n(7532),s=n(4621),u=n(3584),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return s.nameCompare(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return a.NamedNode.MIN},t.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,i)},t.prototype.makePost=function(e,t){return u.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new a.NamedNode(e,i)},t.prototype.toString=function(){return".key"},t}(o.Index);t.KeyIndex=c,t.KEY_INDEX=new c},150:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(3584),o=n(4621),a=n(6188),s=n(3512),u=n(7532),c=n(3002),l=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,i.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?o.nameCompare(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=c.nodeFromJSON(e),r=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(t,r)},t.prototype.maxPost=function(){var e=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(a.Index);t.PathIndex=l},7083:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(6188),s=n(4621),u=n(7532),c=n(4549);t.setNodeFromJSON=function(e){i=e},t.setMaxNode=function(e){o=e};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?s.nameCompare(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return u.NamedNode.MIN},t.prototype.maxPost=function(){return new u.NamedNode(s.MAX_NAME,new c.LeafNode("[PRIORITY-POST]",o))},t.prototype.makePost=function(e,t){var n=i(e);return new u.NamedNode(t,new c.LeafNode("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(a.Index);t.PriorityIndex=l,t.PRIORITY_INDEX=new l},8562:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6188),o=n(7532),a=n(4621),s=n(3002),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?a.nameCompare(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return o.NamedNode.MIN},t.prototype.maxPost=function(){return o.NamedNode.MAX},t.prototype.makePost=function(e,t){var n=s.nodeFromJSON(e);return new o.NamedNode(t,n)},t.prototype.toString=function(){return".value"},t}(i.Index);t.ValueIndex=u,t.VALUE_INDEX=new u},3002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3512),i=n(4549),o=n(7532),a=n(3584),s=n(3584),u=n(1715),c=n(1929),l=n(1361),h=n(7083);function f(e,t){if(void 0===t&&(t=null),null===e)return r.ChildrenNode.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),s.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new i.LeafNode(n,f(t))}if(e instanceof Array){var d=r.ChildrenNode.EMPTY_NODE,p=e;return a.forEach(p,(function(e,t){if(a.contains(p,e)&&"."!==e.substring(0,1)){var n=f(t);!n.isLeafNode()&&n.isEmpty()||(d=d.updateImmediateChild(e,n))}})),d.updatePriority(f(t))}var m=[],y=!1,g=e;if(a.forEach(g,(function(e,t){if("string"!==typeof e||"."!==e.substring(0,1)){var n=f(g[e]);n.isEmpty()||(y=y||!n.getPriority().isEmpty(),m.push(new o.NamedNode(e,n)))}})),0==m.length)return r.ChildrenNode.EMPTY_NODE;var v=u.buildChildSet(m,c.NAME_ONLY_COMPARATOR,(function(e){return e.name}),c.NAME_COMPARATOR);if(y){var b=u.buildChildSet(m,h.PRIORITY_INDEX.getCompare());return new r.ChildrenNode(v,f(t),new l.IndexMap({".priority":b},{".priority":h.PRIORITY_INDEX}))}return new r.ChildrenNode(v,f(t),l.IndexMap.Default)}t.nodeFromJSON=f,h.setNodeFromJSON(f)},999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3584),o=n(4621),a=n(3584);t.setMaxNode=function(e){r=e},t.priorityHashText=function(e){return"number"===typeof e?"number:"+o.doubleToIEEE754String(e):"string:"+e},t.validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();i.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else i.assert(e===r||e.isEmpty(),"priority of unexpected type.");i.assert(e===r||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},9505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(3584),o=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),i.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return r.deepCopy(this.counters_)},e}();t.StatsCollection=o},6846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=r.clone(e);return this.last_&&r.forEach(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}();t.StatsListener=i},9937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9505),i=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new r.StatsCollection),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}();t.StatsManager=i},7969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(4621),o=n(6846),a=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new o.StatsListener(e);var n=1e4+2e4*Math.random();i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},o=!1;r.forEach(t,(function(t,i){i>0&&r.contains(e.statsToReport_,t)&&(n[t]=i,o=!0)})),o&&this.server_.reportStats(n),i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();t.StatsReporter=a},1148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),r.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:r.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}();t.DOMStorageWrapper=i},3425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return r.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}();t.MemoryStorage=i},1686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1148),i=n(3425),o=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(t)}}catch(n){}return new i.MemoryStorage};t.PersistentStorage=o("localStorage"),t.SessionStorage=o("sessionStorage")},8985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return r.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return r.isEmpty(this.set)},e.prototype.count=function(){return r.getCount(this.set)},e.prototype.each=function(e){r.forEach(this.set,(function(t,n){return e(t,n)}))},e.prototype.keys=function(){var e=[];return r.forEach(this.set,(function(t){e.push(t)})),e},e}();t.CountedSet=i},4793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(e){this.allowedEvents_=e,this.listeners_={},r.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){r.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}();t.EventEmitter=i},9903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4604),o=n(6978),a=n(4621),s=n(3584),u=function(){function e(e,t){void 0===t&&(r||(r=new i.SortedMap(a.stringCompare)),t=r),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return s.forEach(t,(function(e,t){n=n.set(new o.Path(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:o.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new o.Path(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(o.Path.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,o.Path.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,o.Path.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(o.Path.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}();t.ImmutableTree=u},3378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584);t.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(i){var o,a=i===t;t=i;var s=new Array(8);for(o=7;o>=0;o--)s[o]=e.charAt(i%64),i=Math.floor(i/64);r.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(a){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)u+=e.charAt(n[o]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},3331:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(3584),o=n(4793),a=n(3584),s=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return r(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return i.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(o.EventEmitter);t.OnlineMonitor=s},6978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=n(3584),o=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),o=0;o<n.length&&o<i.length;o++){var a=r.nameCompare(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}();t.Path=o;var a=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=i.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=i.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=i.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}();t.ValidationPath=a},7492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(6978),o=n(2073),a=n(4549),s=n(3002),u=n(7083);t.generateWithValues=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},t.resolveDeferredValue=function(e,t){return e&&"object"===typeof e?(r.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},t.resolveDeferredValueTree=function(e,n){var r=new o.SparseSnapshotTree;return e.forEachTree(new i.Path(""),(function(e,i){r.remember(e,t.resolveDeferredValueSnapshot(i,n))})),r},t.resolveDeferredValueSnapshot=function(e,n){var r,i=e.getPriority().val(),o=t.resolveDeferredValue(i,n);if(e.isLeafNode()){var c=e,l=t.resolveDeferredValue(c.getValue(),n);return l!==c.getValue()||o!==c.getPriority().val()?new a.LeafNode(l,s.nodeFromJSON(o)):e}var h=e;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new a.LeafNode(o))),h.forEachChild(u.PRIORITY_INDEX,(function(e,i){var o=t.resolveDeferredValueSnapshot(i,n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}},4604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}();t.SortedMapIterator=n;var r=function(){function e(t,n,r,i,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:o.EMPTY_NODE,this.right=null!=a?a:o.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return o.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return o.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}();t.LLRBNode=r;var i=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new r(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}();t.LLRBEmptyNode=i;var o=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,r.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,r.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new n(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new n(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new n(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new n(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new i,e}();t.SortedMap=o},1811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(6978),o=n(3584),a=function(){this.children={},this.childCount=0,this.value=null};t.TreeNode=a;var s=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new a),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof i.Path?t:new i.Path(t),s=this;null!==(n=r.getFront());){s=new e(n,s,o.safeGet(s.node_.children,n)||new a),r=r.popFront()}return s},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){r.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;o.forEach(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new i.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=o.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();t.Tree=s},8081:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4793),o=n(3584),a=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return r(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(i.EventEmitter);t.VisibilityMonitor=a},8986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6978),i=n(3511),o=n(4621);t.parseRepoInfo=function(e){var n=t.parseURL(e),a=n.subdomain;"firebase"===n.domain&&o.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),a&&"undefined"!=a||o.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o.warnIfPageIsSecure();var s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new i.RepoInfo(n.host,n.secure,a,s),path:new r.Path(n.pathString)}},t.parseURL=function(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length),t=e.substring(0,c),i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(c));var l=t.split(".");3===l.length?(n=l[1],r=l[0].toLowerCase()):2===l.length&&(n=l[0]),(u=t.indexOf(":"))>=0&&(o="https"===a||"wss"===a,s=parseInt(t.substring(u+1),10))}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}}},4621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(3584),o=n(3584),a=n(3584),s=n(3584),u=n(3584),c=n(1686),l=n(3584);t.LUIDGenerator=function(){var e=1;return function(){return e++}}(),t.sha1=function(e){var t=s.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)};var h=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"===typeof t[i]&&"number"===typeof t[i].length?r+=e.apply(null,t[i]):"object"===typeof t[i]?r+=u.stringify(t[i]):r+=t[i],r+=" ";return r};t.logger=null;var f=!0;t.enableLogging=function(e,n){r.assert(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!==typeof console&&("function"===typeof console.log?t.logger=console.log.bind(console):"object"===typeof console.log&&(t.logger=function(e){console.log(e)})),n&&c.SessionStorage.set("logging_enabled",!0)):"function"===typeof e?t.logger=e:(t.logger=null,c.SessionStorage.remove("logging_enabled"))},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!0===f&&(f=!1,null===t.logger&&!0===c.SessionStorage.get("logging_enabled")&&t.enableLogging(!0)),t.logger){var r=h.apply(null,e);t.logger(r)}},t.logWrapper=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.log.apply(void 0,[e].concat(n))}},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!==typeof console){var n="FIREBASE INTERNAL ERROR: "+h.apply(void 0,e);"undefined"!==typeof console.error?console.error(n):console.log(n)}},t.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=h.apply(void 0,e);throw new Error("FIREBASE FATAL ERROR: "+n)},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!==typeof console){var n="FIREBASE WARNING: "+h.apply(void 0,e);"undefined"!==typeof console.warn?console.warn(n):console.log(n)}},t.warnIfPageIsSecure=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&t.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},t.warnAboutUnsupportedMethod=function(e){t.warn(e+" is unsupported and will likely change soon.  Please do not use.")},t.isInvalidJSONNumber=function(e){return"number"===typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},t.executeWhenDOMReady=function(e){if(l.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},t.MIN_NAME="[MIN_NAME]",t.MAX_NAME="[MAX_NAME]",t.nameCompare=function(e,n){if(e===n)return 0;if(e===t.MIN_NAME||n===t.MAX_NAME)return-1;if(n===t.MIN_NAME||e===t.MAX_NAME)return 1;var r=t.tryParseInt(e),i=t.tryParseInt(n);return null!==r?null!==i?r-i==0?e.length-n.length:r-i:-1:null!==i?1:e<n?-1:1},t.stringCompare=function(e,t){return e===t?0:e<t?-1:1},t.requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+u.stringify(t))},t.ObjectToUniqueKey=function(e){if("object"!==typeof e||null===e)return u.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=u.stringify(n[o]),i+=":",i+=t.ObjectToUniqueKey(e[n[o]]);return i+="}"},t.splitStringBySize=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},t.each=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else i.forEach(e,(function(e,n){return t(n,e)}))},t.bindCallback=function(e,t){return t?e.bind(t):e},t.doubleToIEEE754String=function(e){r.assert(!t.isInvalidJSONNumber(e),"Invalid JSON number");var n,i,o,a,s,u,c,l=1023;for(0===e?(i=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=(a=Math.min(Math.floor(Math.log(e)/Math.LN2),l))+l,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,o=Math.round(e/Math.pow(2,-1074)))),u=[],s=52;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(n?1:0),u.reverse(),c=u.join("");var h="";for(s=0;s<64;s+=8){var f=parseInt(c.substr(s,8),2).toString(16);1===f.length&&(f="0"+f),h+=f}return h.toLowerCase()},t.isChromeExtensionContentScript=function(){return!("object"!==typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},t.isWindowsStoreApp=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},t.errorForServerCode=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},t.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),t.tryParseInt=function(e){if(t.INTEGER_REGEXP_.test(e)){var n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},t.exceptionGuard=function(e){try{e()}catch(n){setTimeout((function(){var e=n.stack||"";throw t.warn("Exception was thrown by user callback.",e),n}),Math.floor(0))}},t.callUserCallback=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"===typeof e&&t.exceptionGuard((function(){e.apply(void 0,n)}))},t.beingCrawled=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},t.exportPropGetter=function(e,t,n){Object.defineProperty(e,t,{get:n})},t.setTimeoutNonBlocking=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n}},8851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6978),i=n(3584),o=n(4621),a=n(3584),s=n(3584);t.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,t.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,t.MAX_LEAF_SIZE_=10485760,t.isValidKey=function(e){return"string"===typeof e&&0!==e.length&&!t.INVALID_KEY_REGEX_.test(e)},t.isValidPathString=function(e){return"string"===typeof e&&0!==e.length&&!t.INVALID_PATH_REGEX_.test(e)},t.isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),t.isValidPathString(e)},t.isValidPriority=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!o.isInvalidJSONNumber(e)||e&&"object"===typeof e&&i.contains(e,".sv")},t.validateFirebaseDataArg=function(e,n,r,i,o){o&&void 0===r||t.validateFirebaseData(a.errorPrefix(e,n,o),r,i)},t.validateFirebaseData=function(e,n,a){var u=a instanceof r.Path?new r.ValidationPath(a,e):a;if(void 0===n)throw new Error(e+"contains undefined "+u.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+u.toErrorString()+" with contents = "+n.toString());if(o.isInvalidJSONNumber(n))throw new Error(e+"contains "+n.toString()+" "+u.toErrorString());if("string"===typeof n&&n.length>t.MAX_LEAF_SIZE_/3&&s.stringLength(n)>t.MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+t.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var c=!1,l=!1;if(i.forEach(n,(function(n,r){if(".value"===n)c=!0;else if(".priority"!==n&&".sv"!==n&&(l=!0,!t.isValidKey(n)))throw new Error(e+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),t.validateFirebaseData(e,r,u),u.pop()})),c&&l)throw new Error(e+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},t.validateFirebaseMergePaths=function(e,n){var i,o;for(i=0;i<n.length;i++)for(var a=(o=n[i]).slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!t.isValidKey(a[s]))throw new Error(e+"contains an invalid key ("+a[s]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.sort(r.Path.comparePaths);var u=null;for(i=0;i<n.length;i++){if(o=n[i],null!==u&&u.contains(o))throw new Error(e+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},t.validateFirebaseMergeDataArg=function(e,n,o,s,u){if(!u||void 0!==o){var c=a.errorPrefix(e,n,u);if(!o||"object"!==typeof o||Array.isArray(o))throw new Error(c+" must be an object containing the children to replace.");var l=[];i.forEach(o,(function(e,n){var i=new r.Path(e);if(t.validateFirebaseData(c,n,s.child(i)),".priority"===i.getBack()&&!t.isValidPriority(n))throw new Error(c+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(i)})),t.validateFirebaseMergePaths(c,l)}},t.validatePriority=function(e,n,r,i){if(!i||void 0!==r){if(o.isInvalidJSONNumber(r))throw new Error(a.errorPrefix(e,n,i)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!t.isValidPriority(r))throw new Error(a.errorPrefix(e,n,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},t.validateEventType=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.validateKey=function(e,n,r,i){if((!i||void 0!==r)&&!t.isValidKey(r))throw new Error(a.errorPrefix(e,n,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},t.validatePathString=function(e,n,r,i){if((!i||void 0!==r)&&!t.isValidPathString(r))throw new Error(a.errorPrefix(e,n,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},t.validateRootPathString=function(e,n,r,i){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),t.validatePathString(e,n,r,i)},t.validateWritablePath=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},t.validateUrl=function(e,n,r){var i=r.path.toString();if("string"!==typeof r.repoInfo.host||0===r.repoInfo.host.length||!t.isValidKey(r.repoInfo.namespace)||0!==i.length&&!t.isValidRootPathString(i))throw new Error(a.errorPrefix(e,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},t.validateCredential=function(e,t,n,r){if((!r||void 0!==n)&&"string"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a valid credential (a string).")},t.validateBoolean=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},t.validateString=function(e,t,n,r){if((!r||void 0!==n)&&"string"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a valid string.")},t.validateObject=function(e,t,n,r){if((!r||void 0!==n)&&(!n||"object"!==typeof n||null===n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid object.")},t.validateObjectContainsKey=function(e,t,n,r,o,s){if(!(n&&"object"===typeof n&&i.contains(n,r))){if(o)return;throw new Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'"')}if(s){var u=i.safeGet(n,r);if("number"===s&&"number"!==typeof u||"string"===s&&"string"!==typeof u||"boolean"===s&&"boolean"!==typeof u||"function"===s&&"function"!==typeof u||"object"===s&&"object"!==typeof u&&u)throw o?new Error(a.errorPrefix(e,t,o)+'contains invalid value for key "'+r+'" (must be of type "'+s+'")'):new Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'" with type "'+s+'"')}}},9556:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();t.CacheNode=n},7941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}();t.Change=n},3464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(7941),o=n(3584),a=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t==i.Change.CHILD_ADDED||t==i.Change.CHILD_CHANGED||t==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=r.safeGet(this.changeMap_,n);if(a){var s=a.type;if(t==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.snapshotNode);else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.changeMap_[n];else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.changeMap_[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(t==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.changeMap_[n]=i.Change.childAddedChange(n,e.snapshotNode);else{if(t!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return r.getValues(this.changeMap_)},e}();t.ChildChangeAccumulator=a},5818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9556),i=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}();t.NoCompleteChildSource_=i,t.NO_COMPLETE_CHILD_SOURCE=new i;var o=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}();t.WriteTreeCompleteChildSource=o},8133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},e}();t.DataEvent=i;var o=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();t.CancelEvent=o},8767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7532),i=n(7941),o=n(3584),a=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,o=[],a=[];return e.forEach((function(e){e.type===i.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(i.Change.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(o,i.Change.CHILD_REMOVED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_ADDED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_MOVED,a,n,t),this.generateEventsForType_(o,i.Change.CHILD_CHANGED,e,n,t),this.generateEventsForType_(o,i.Change.VALUE,e,n,t),o},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new r.NamedNode(e.childName,e.snapshotNode),i=new r.NamedNode(t.childName,t.snapshotNode);return this.index_.compare(n,i)},e}();t.EventGenerator=a},2766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new o(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}();t.EventQueue=i;var o=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();r.logger&&r.log("event: "+t.toString()),r.exceptionGuard(n)}}},e.prototype.getPath=function(){return this.path_},e}();t.EventList=o},7793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(985),i=n(8133),o=n(3584),a=n(3584),s=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}();t.ValueEventRegistration=s;var u=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new i.DataEvent(e.type,this,new r.DataSnapshot(e.snapshotNode,n,o),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=o.getCount(t.callbacks_);if(n===o.getCount(this.callbacks_)){if(1===n){var r=o.getAnyKey(t.callbacks_),i=o.getAnyKey(this.callbacks_);return i===r&&(!t.callbacks_[r]||!this.callbacks_[i]||t.callbacks_[r]===this.callbacks_[i])}return o.every(this.callbacks_,(function(e,n){return t.callbacks_[e]===n}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}();t.ChildEventRegistration=u},4438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(4621),o=n(9410),a=n(7083),s=n(8562),u=n(150),c=n(9439),l=n(7850),h=n(2849),f=n(3584),d=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i.MIN_NAME},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:i.MAX_NAME},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return r.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==a.PRIORITY_INDEX&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new c.IndexedFilter(this.getIndex()):this.hasLimit()?new l.LimitedFilter(this):new h.RangedFilter(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,i={};return this.isDefault()||(this.index_===a.PRIORITY_INDEX?t=n.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?t=n.VALUE_INDEX:this.index_===o.KEY_INDEX?t=n.KEY_INDEX:(r.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),t=this.index_.toString()),i[n.ORDER_BY]=f.stringify(t),this.startSet_&&(i[n.START_AT]=f.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+f.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=f.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+f.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_)),i},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}();t.QueryParams=d},6566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9439),i=n(6995),o=n(3512),a=n(9556),s=n(3510),u=n(8767),c=n(3584),l=n(3902),h=n(7941),f=n(7083),d=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),c=new r.IndexedFilter(n.getIndex()),l=n.getNodeFilter();this.processor_=new i.ViewProcessor(l);var h=t.getServerCache(),f=t.getEventCache(),d=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),p=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,f.getNode(),null),m=new a.CacheNode(d,h.isFullyInitialized(),c.filtersNodes()),y=new a.CacheNode(p,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=new s.ViewCache(y,m),this.eventGenerator_=new u.EventGenerator(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){c.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===l.OperationType.MERGE&&null!==e.source.queryId&&(c.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),c.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),c.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(f.PRIORITY_INDEX,(function(e,t){n.push(h.Change.childAddedChange(e,t))}));return t.isFullyInitialized()&&n.push(h.Change.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}();t.View=d},3510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3512),i=n(9556),o=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new i.CacheNode(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new i.CacheNode(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),e}();t.ViewCache=o},6995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3902),i=n(3584),o=n(3464),a=n(7941),s=n(3512),u=n(9410),c=n(9903),l=n(6978),h=n(5818),f=function(e,t){this.viewCache=e,this.changes=t};t.ProcessorResult=f;var d=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){i.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,a,s){var u,c,l=new o.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(t,h.path,h.snap,a,s,l):(i.assert(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(t,h.path,h.snap,a,s,c,l))}else if(n.type===r.OperationType.MERGE){var d=n;d.source.fromUser?u=this.applyUserMerge_(t,d.path,d.children,a,s,l):(i.assert(d.source.fromServer,"Unknown source."),c=d.source.tagged||t.getServerCache().isFiltered(),u=this.applyServerMerge_(t,d.path,d.children,a,s,c,l))}else if(n.type===r.OperationType.ACK_USER_WRITE){var p=n;u=p.revert?this.revertUserWrite_(t,p.path,a,s,l):this.ackUserWrite_(t,p.path,p.affectedTree,a,s,l)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(t,n.path,a,l)}var m=l.getChanges();return e.maybeAddValueEvent_(t,u,m),new f(u,m)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var u=void 0,c=void 0;if(t.isEmpty())if(i.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),h=l instanceof s.ChildrenNode?l:s.ChildrenNode.EMPTY_NODE,f=n.calcCompleteEventChildren(h);u=this.filter_.updateFullNode(e.getEventCache().getNode(),f,o)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());u=this.filter_.updateFullNode(e.getEventCache().getNode(),d,o)}else{var p=t.getFront();if(".priority"==p){i.assert(1==t.getLength(),"Can't have a priority with additional path components");var m=a.getNode();c=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,m,c);u=null!=y?this.filter_.updatePriority(m,y):a.getNode()}else{var g=t.popFront(),v=void 0;if(a.isCompleteForChild(p)){c=e.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),c);v=null!=b?a.getNode().getImmediateChild(p).updateChild(g,b):a.getNode().getImmediateChild(p)}else v=n.calcCompleteChild(p,e.getServerCache());u=null!=v?this.filter_.updateChild(a.getNode(),p,v,g,r,o):a.getNode()}}return e.updateEventSnap(u,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=u.getNode().getImmediateChild(f).updateChild(d,n);s=".priority"==f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,d,h.NO_COMPLETE_CHILD_SOURCE,null)}var m=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),y=new h.WriteTreeCompleteChildSource(r,m,i);return this.generateEventCacheAfterServerEvent_(m,t,r,y,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,u,c=e.getEventCache(),l=new h.WriteTreeCompleteChildSource(r,e,i);if(t.isEmpty())u=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var f=t.getFront();if(".priority"===f)u=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(u,c.isFullyInitialized(),c.isFiltered());else{var d=t.popFront(),p=c.getNode().getImmediateChild(f),m=void 0;if(d.isEmpty())m=n;else{var y=l.getCompleteChild(f);m=null!=y?".priority"===d.getBack()&&y.getChild(d.parent()).isEmpty()?y:y.updateChild(d,n):s.ChildrenNode.EMPTY_NODE}if(p.equals(m))a=e;else{var g=this.filter_.updateChild(c.getNode(),f,m,d,l,o);a=e.updateEventSnap(g,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,h=e;u=t.isEmpty()?n:c.ImmutableTree.Empty.setTree(t,n);var f=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(f.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),c=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new l.Path(t),c,r,i,o,a)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!f.hasChild(t)&&!u){var c=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(c,n);h=s.applyServerOverwrite_(h,new l.Path(t),d,r,i,o,a)}})),h},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var h=c.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,(function(e,t){h=h.set(new l.Path(e),t)})),this.applyServerMerge_(e,t,h,r,i,a,o)}return e}var f=c.ImmutableTree.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(f=f.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,f,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,h.NO_COMPLETE_CHILD_SOURCE,r)},e.prototype.revertUserWrite_=function(e,t,n,r,o){var a;if(null!=n.shadowingWrite(t))return e;var u=new h.WriteTreeCompleteChildSource(n,e,r),c=e.getEventCache().getNode(),f=void 0;if(t.isEmpty()||".priority"===t.getFront()){var d=void 0;if(e.getServerCache().isFullyInitialized())d=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var p=e.getServerCache().getNode();i.assert(p instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),d=n.calcCompleteEventChildren(p)}f=this.filter_.updateFullNode(c,d,o)}else{var m=t.getFront(),y=n.calcCompleteChild(m,e.getServerCache());null==y&&e.getServerCache().isCompleteForChild(m)&&(y=c.getImmediateChild(m)),(f=null!=y?this.filter_.updateChild(c,m,y,t.popFront(),u,o):e.getEventCache().getNode().hasChild(m)?this.filter_.updateChild(c,m,s.ChildrenNode.EMPTY_NODE,t.popFront(),u,o):c).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(f=this.filter_.updateFullNode(f,a,o))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(l.Path.Empty),e.updateEventSnap(f,a,this.filter_.filtersNodes())},e}();t.ViewProcessor=d},9439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3584),i=n(7941),o=n(3512),a=n(7083),s=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,o,a,s){r.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(t);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(i.Change.childRemovedChange(t,u)):r.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(i.Change.childAddedChange(t,n)):s.trackChildChange(i.Change.childChangedChange(t,n,u))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,(function(e,r){t.hasChild(e)||n.trackChildChange(i.Change.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,(function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(t,r,o))}else n.trackChildChange(i.Change.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?o.ChildrenNode.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();t.IndexedFilter=s},7850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2849),i=n(3512),o=n(7532),a=n(3584),s=n(7941),u=function(){function e(e){this.rangedFilter_=new r.RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,a,s){return this.rangedFilter_.matches(new o.NamedNode(t,n))||(n=i.ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,s):this.fullLimitUpdateChild_(e,t,n,a,s)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{r=(r=t.withIndex(this.index_)).updatePriority(i.ChildrenNode.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else o=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();a=0;for(var f=!1;o.hasNext();){s=o.getNext();!f&&l(u,s)<=0&&(f=!0),f&&a<this.limit_&&l(s,c)<=0?a++:r=r.updateImmediateChild(s.name,i.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,u){var c;if(this.reverse_){var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else c=this.index_.getCompare();var h=e;a.assert(h.numChildren()==this.limit_,"");var f=new o.NamedNode(t,n),d=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(h.hasChild(t)){for(var m=h.getImmediateChild(t),y=r.getChildAfterChild(this.index_,d,this.reverse_);null!=y&&(y.name==t||h.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);var g=null==y?1:c(y,f);if(p&&!n.isEmpty()&&g>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(t,n,m)),h.updateImmediateChild(t,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(t,m));var v=h.updateImmediateChild(t,i.ChildrenNode.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(y.name,y.node)),v.updateImmediateChild(y.name,y.node)):v}return n.isEmpty()?e:p&&c(d,f)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(d.name,d.node)),u.trackChildChange(s.Change.childAddedChange(t,n))),h.updateImmediateChild(t,n).updateImmediateChild(d.name,i.ChildrenNode.EMPTY_NODE)):e},e}();t.LimitedFilter=u},2849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9439),i=n(7083),o=n(7532),a=n(3512),s=function(){function e(t){this.indexedFilter_=new r.IndexedFilter(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,s){return this.matches(new o.NamedNode(t,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=a.ChildrenNode.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return t.forEachChild(i.PRIORITY_INDEX,(function(e,t){s.matches(new o.NamedNode(e,t))||(r=r.updateImmediateChild(e,a.ChildrenNode.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}();t.RangedFilter=s},9790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=n(8985),o=n(9937),a=n(8917),s=n(8535),u=n(3584),c=n(3584);t.FIREBASE_LONGPOLL_START_PARAM="start",t.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",t.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",t.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",t.FIREBASE_LONGPOLL_ID_PARAM="id",t.FIREBASE_LONGPOLL_PW_PARAM="pw",t.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",t.FIREBASE_LONGPOLL_DATA_PARAM="d",t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe";var l=function(){function e(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r.logWrapper(e),this.stats_=o.StatsManager.getCollection(t),this.urlFn=function(e){return t.connectionURL(s.LONG_POLLING,e)}}return e.prototype.open=function(e,n){var i=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a.PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null}),Math.floor(3e4)),r.executeWhenDOMReady((function(){if(!i.isClosed_){i.scriptTagHolder=new h((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1],a=e[2];e[3],e[4];if(i.incrementIncomingBytes_(e),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,r==t.FIREBASE_LONGPOLL_START_PARAM)i.id=o,i.password=a;else{if(r!==t.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,(function(){i.onClosed_()}))):i.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];i.incrementIncomingBytes_(e),i.myPacketOrderer.handleResponse(n,r)}),(function(){i.onClosed_()}),i.urlFn);var e={};e[t.FIREBASE_LONGPOLL_START_PARAM]="t",e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(e[t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=i.scriptTagHolder.uniqueCallbackIdentifier),e[s.VERSION_PARAM]=s.PROTOCOL_VERSION,i.transportSessionId&&(e[s.TRANSPORT_SESSION_PARAM]=i.transportSessionId),i.lastSessionId&&(e[s.LAST_SESSION_PARAM]=i.lastSessionId),!c.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(e[s.REFERER_PARAM]=s.FORGE_REF);var n=i.urlFn(e);i.log_("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!c.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=u.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=u.base64Encode(t),i=r.splitStringBySize(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,n){if(!c.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=e,r[t.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=u.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}();t.BrowserPollConnection=l;var h=function(){function e(n,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,c.isNodeSdk())this.commandCB=n,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[t.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[t.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=e.createIFrame_();var u="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))u='<script>document.domain="'+document.domain+'";<\/script>';var l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){r.log("frame writing exception"),h.stack&&r.log(h.stack),r.log(h)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||r.log("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)}),Math.floor(0))),c.isNodeSdk()&&this.myID){var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var i=this.urlFn(r);e.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;var o=this.pendingSegs.shift();r=r+"&"+t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+i+"="+o.seg+"&"+t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+i+"="+o.ts+"&"+t.FIREBASE_LONGPOLL_DATA_PARAM+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;c.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){r.log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(o){}}),Math.floor(1))},e}();t.FirebaseIFrameScriptHolder=h},9115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=n(1686),o=n(8535),a=n(231),s=function(){function e(e,t,n,i,o,s,u){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r.logWrapper("c:"+this.id+":"),this.transportManager_=new a.TransportManager(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,i)}),Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=r.setTimeoutNonBlocking((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=r.requireKey("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?r.error("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r.error("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),o.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),r.setTimeoutNonBlocking((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r.setTimeoutNonBlocking((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();t.Connection=s},8535:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_VERSION="5",t.VERSION_PARAM="v",t.TRANSPORT_SESSION_PARAM="s",t.REFERER_PARAM="r",t.FORGE_REF="f",t.FORGE_DOMAIN="firebaseio.com",t.LAST_SESSION_PARAM="ls",t.WEBSOCKET="websocket",t.LONG_POLLING="long_polling"},231:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9790),i=n(8227),o=n(4621),a=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),r=n&&!i.WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[i.WebSocketConnection];else{var a=this.transports_=[];o.each(e.ALL_TRANSPORTS,(function(e,t){t&&t.isAvailable()&&a.push(t)}))}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();t.TransportManager=a},8227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2787),i=n(3584),o=n(4621),a=n(9937),s=n(8535),u=n(3584),c=n(1686),l=n(3584),h=n(3584),f=null;"undefined"!==typeof MozWebSocket?f=MozWebSocket:"undefined"!==typeof WebSocket&&(f=WebSocket),t.setWebSocketImpl=function(e){f=e};var d=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=o.logWrapper(this.connId),this.stats_=a.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={};return r[s.VERSION_PARAM]=s.PROTOCOL_VERSION,!h.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(r[s.REFERER_PARAM]=s.FORGE_REF),t&&(r[s.TRANSPORT_SESSION_PARAM]=t),n&&(r[s.LAST_SESSION_PARAM]=n),e.connectionURL(s.WEBSOCKET,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,c.PersistentStorage.set("previous_websocket_failure",!0);try{if(h.isNodeSdk()){var i=u.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+s.PROTOCOL_VERSION+"/"+r.default.SDK_VERSION+"/"+process.platform+"/"+i}},a={NODE_ENV:"production",PUBLIC_URL:"/eShop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},l=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;l&&(o.proxy={origin:l}),this.mySock=new f(this.connURL,[],o)}else this.mySock=new f(this.connURL)}catch(p){this.log_("Error instantiating WebSocket.");var d=p.message||p.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==f&&!e.forceDisallow_},e.previouslyFailed=function(){return c.PersistentStorage.isInMemoryStorage||!0===c.PersistentStorage.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){c.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=l.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(i.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=l.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=o.splitStringBySize(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();t.WebSocketConnection=d},8917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4621),i=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=function(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function(t){e[t]&&r.exceptionGuard((function(){n.onMessage_(e[t])}))},i=0;i<e.length;++i)t(i);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){if("break"===i())break}},e}();t.PacketReceiver=i},2208:function(e,t,n){"use strict";n.r(t),n.d(t,{registerFirestore:function(){return Vi}});var r,i=n(2787),o=i.default.SDK_VERSION;!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(r||(r={}));var a=r.ERROR;function s(){return a}function u(e){a=e}function c(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(a<=r.DEBUG){var s=(new Date).toISOString(),u=n.map(h);console.log.apply(console,["Firestore ("+o+") "+s+" ["+e+"]: "+t].concat(u))}}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(a<=r.ERROR){var i=(new Date).toISOString(),s=t.map(h);console.error.apply(console,["Firestore ("+o+") "+i+": "+e].concat(s))}}function h(e){if("string"===typeof e)return e;var t=p.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function f(e){var t="FIRESTORE ("+o+") INTERNAL ASSERTION FAILED: "+e;throw l(t),new Error(t)}function d(e,t){e||f(t)}var p=function(){function e(){}return e.setPlatform=function(t){e.platform&&f("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||f("Platform not set"),e.platform},e}();function m(){return p.getPlatform().emptyByteString}var y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g="ok",v="cancelled",b="unknown",_="invalid-argument",w="deadline-exceeded",S="not-found",E="already-exists",C="permission-denied",T="unauthenticated",k="resource-exhausted",I="failed-precondition",N="aborted",P="out-of-range",O="unimplemented",R="internal",A="unavailable",x="data-loss",D=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return y(t,e),t}(Error);function M(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new D(_,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=parseInt(n,10);isNaN(r)||t(r,e[n])}}function j(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function U(e){for(var t in d(null!=e&&"object"===typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e){d(e&&"object"===typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function V(e,t,n){if(t.length!==n)throw new D(_,"Function "+e+"() requires "+ne(n,"argument")+", but was called with "+ne(t.length,"argument")+".")}function q(e,t,n){if(t.length<n)throw new D(_,"Function "+e+"() requires at least "+ne(n,"argument")+", but was called with "+ne(t.length,"argument")+".")}function W(e,t,n,r){if(t.length<n||t.length>r)throw new D(_,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+ne(t.length,"argument")+".")}function z(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new D(_,"Function "+e+"() requires its "+n+" argument to be an array with at least "+ne(r,"element")+".")}function K(e,t,n,r){X(e,t,te(n)+" argument",r)}function H(e,t,n,r){void 0!==r&&K(e,t,n,r)}function Q(e,t,n,r){X(e,t,n+" option",r)}function G(e,t,n,r){void 0!==r&&Q(e,t,n,r)}function X(e,t,n,r){if(typeof r!==t||"object"===t&&!Y(r)){var i=$(r);throw new D(_,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function Y(e){return"object"===typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function $(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"===typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"===typeof e||"boolean"===typeof e)return""+e;if("object"===typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"===typeof e?"a function":f("Unknown wrong type: "+typeof e)}function J(e,t,n){if(void 0===n)throw new D(_,"Function "+e+"() requires a valid "+te(t)+" argument, but it was undefined.")}function Z(e,t,n){j(t,(function(t,r){if(n.indexOf(t)<0)throw new D(_,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function ee(e,t,n,r){var i=$(r);return new D(_,"Function "+e+"() requires its "+te(n)+" argument to be a "+t+", but it was: "+i)}function te(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function ne(e,t){return e+" "+t+(1===e?"":"s")}var re=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return d(20===t.length,"Invalid auto ID: "+t),t},e}();function ie(e,t){return e<t?-1:e>t?1:0}function oe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}function ae(){if("undefined"===typeof Uint8Array)throw new D(O,"Uint8Arrays are not available in this environment.")}function se(){if(!p.getPlatform().base64Available)throw new D(O,"Blobs are unavailable in Firestore in this environment.")}var ue=function(){function e(e){se(),this._binaryString=e}return e.fromBase64String=function(t){V("Blob.fromBase64String",arguments,1),K("Blob.fromBase64String","string",1,t),se();try{var n=p.getPlatform().atob(t);return new e(n)}catch(r){throw new D(_,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(V("Blob.fromUint8Array",arguments,1),ae(),!(t instanceof Uint8Array))throw ee("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return V("Blob.toBase64",arguments,0),se(),p.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){V("Blob.toUint8Array",arguments,0),ae();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype._equals=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return ie(this._binaryString,e._binaryString)},e}(),ce=M(ue,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),le=function(){function e(e,t){if(V("GeoPoint",arguments,2),K("GeoPoint","number",1,e),K("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new D(_,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(_,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype._equals=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return ie(this._lat,e._lat)||ie(this._long,e._long)},e}(),he=function(e,t,n,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r},fe="(default)",de=function(){function e(e,t){this.projectId=e,this.database=t||fe}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===fe},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return ie(this.projectId,e.projectId)||ie(this.database,e.database)},e}(),pe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me="__name__",ye=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&f("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&f("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):"string"===typeof t?n.push(t):f("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,d(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return d(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return d(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return d(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},e.prototype.get=function(e){return d(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new D(_,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(ye),ve=/^[_a-zA-Z][_a-zA-Z0-9]*$/,be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pe(t,e),t.isValidIdentifier=function(e){return ve.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===me},t.keyField=function(){return new t([me])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new D(_,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new D(_,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(_,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new D(_,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ye),_e=function(){function e(t){this.path=t,d(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.equals=function(e){return null!==e&&0===ge.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ge.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new ge(t.slice()))},e.fromPathString=function(t){return new e(ge.fromString(t))},e.EMPTY=new e(new ge([])),e}(),we=function(){function e(e,t,n,r){this.key=e,this.version=t,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return e.prototype.field=function(e){return this.data.field(e)},e.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.equals=function(t){return t instanceof e&&this.key.equals(t.key)&&this.version.equals(t.version)&&this.data.equals(t.data)&&this.hasLocalMutations===t.hasLocalMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},e.compareByKey=function(e,t){return _e.comparator(e.key,t.key)},e.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return void 0!==r&&void 0!==i?r.compareTo(i):f("Trying to compare documents on fields that don't exist")},e}(),Se=function(){function e(e,t){this.key=e,this.version=t}return e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},e.prototype.equals=function(e){return e&&e.version.equals(this.version)&&e.key.equals(this.key)},e.compareByKey=function(e,t){return _e.comparator(e.key,t.key)},e}(),Ee=function(){function e(e,t){this.comparator=e,this.root=t||Te.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t=this.root,n=null;!t.isEmpty();){var r=this.comparator(e,t.key);if(0===r){if(t.left.isEmpty())return n?n.key:null;for(t=t.left;!t.right.isEmpty();)t=t.right;return t.key}r<0?t=t.left:r>0&&(n=t,t=t.right)}throw f("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ce(this.root,null,this.comparator,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ce(this.root,e,this.comparator,!1,t)},e.prototype.getReverseIterator=function(e){return new Ce(this.root,null,this.comparator,!0,e)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ce(this.root,e,this.comparator,!0,t)},e}(),Ce=function(){function e(e,t,n,r,i){this.resultGenerator=i||null,this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){d(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e,t=this.nodeStack.pop();if(e=this.resultGenerator?this.resultGenerator(t.key,t.value):{key:t.key,value:t.value},this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return this.resultGenerator?this.resultGenerator(e.key,e.value):{key:e.key,value:e.value}},e}(),Te=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw f("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw f("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw f("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),ke=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Te(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Te.EMPTY=new ke;var Ie,Ne=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(Ie||(Ie={}));var Pe=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return d(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),ie(this.typeOrder,e.typeOrder)},e}(),Oe=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=Ie.NullValue,t.internalValue=null,t}return Ne(t,e),t.prototype.value=function(){return null},t.prototype.equals=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Pe),Re=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.BooleanValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?ie(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Pe),Ae=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.NumberValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(Pe);function xe(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var De=function(e){function t(t){return e.call(this,t)||this}return Ne(t,e),t.prototype.equals=function(e){return e instanceof t&&xe(this.internalValue,e.internalValue)},t}(Ae),Me=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return Ne(t,e),t.prototype.equals=function(e){return e instanceof t&&xe(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Ae),Le=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.StringValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?ie(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Pe),Fe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.TimestampValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue.toDate()},t.prototype.equals=function(e){return e instanceof t&&this.internalValue.equals(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue.compareTo(e.internalValue):e instanceof je?-1:this.defaultCompareTo(e)},t}(Pe),je=function(e){function t(t){var n=e.call(this)||this;return n.localWriteTime=t,n.typeOrder=Ie.TimestampValue,n}return Ne(t,e),t.prototype.value=function(){return null},t.prototype.equals=function(e){return e instanceof t&&this.localWriteTime.equals(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime.compareTo(e.localWriteTime):e instanceof Fe?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Pe),Ue=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.BlobValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue._equals(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Pe),Be=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=Ie.RefValue,r}return Ne(t,e),t.prototype.value=function(){return this.key},t.prototype.equals=function(e){return e instanceof t&&(this.key.equals(e.key)&&this.databaseId.equals(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:_e.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Pe),Ve=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.GeoPointValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.equals=function(e){return e instanceof t&&this.internalValue._equals(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Pe),qe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.ObjectValue,n}return Ne(t,e),t.prototype.value=function(){var e={};return this.internalValue.inorderTraversal((function(t,n){e[t]=n.value()})),e},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.equals=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.equals(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=ie(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return ie(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(d(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(d(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){d(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t&&n.internalValue.get(e)||void 0})),n},t.prototype.toString=function(){return JSON.stringify(this.value())},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Ee(ie)),t}(Pe),We=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ie.ArrayValue,n}return Ne(t,e),t.prototype.value=function(){return this.internalValue.map((function(e){return e.value()}))},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.equals=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].equals(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return ie(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return JSON.stringify(this.value())},t}(Pe),ze=Number,Ke=ze.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),He=ze.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Qe=ze.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function Ge(e){return null===e||void 0===e}var Xe=function(){function e(e,t,n,r,i,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=e,this.explicitOrderBy=t,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[ot]:this.memoizedOrderBy=[new it(e),ot];else{d(null===e||null!==t&&e.equals(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:nt.ASCENDING;this.memoizedOrderBy.push(a===nt.ASCENDING?ot:at)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){d(null==this.getInequalityFilterField()||!(t instanceof $e)||!t.isInequality()||t.field.equals(this.getInequalityFilterField()),"Query must only have one inequality field."),d(!_e.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){d(!_e.isDocumentKey(this.path),"No ordering allowed for document query"),d(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}Ge(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Ge(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.equals=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].equals(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].equals(e.filters[t]))return!1;return!!this.path.equals(e.path)&&(!!(null!==this.startAt?this.startAt.equals(e.startAt):null===e.startAt)&&(null!==this.endAt?this.endAt.equals(e.endAt):null===e.endAt))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return d(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesAncestor(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!Ge(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof $e&&n.isInequality())return n.field}return null},e.prototype.isDocumentQuery=function(){return _e.isDocumentKey(this.path)&&0===this.filters.length},e.prototype.matchesAncestor=function(e){var t=e.key.path;return _e.isDocumentKey(this.path)?this.path.equals(t):this.path.isPrefixOf(t)&&this.path.length===t.length-1},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){d(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Ye=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;default:return f("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.equals=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e}(),$e=function(){function e(e,t,n){this.field=e,this.op=t,this.value=n}return e.prototype.matches=function(e){if(this.field.isKeyField()){d(this.value instanceof Be,"Comparing on key, but filter value not a RefValue");var t=this.value,n=_e.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(e){return this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(e){switch(this.op){case Ye.LESS_THAN:return e<0;case Ye.LESS_THAN_OR_EQUAL:return e<=0;case Ye.EQUAL:return 0===e;case Ye.GREATER_THAN:return e>0;case Ye.GREATER_THAN_OR_EQUAL:return e>=0;default:return f("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Ye.EQUAL},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.equals=function(t){return t instanceof e&&(this.op.equals(t.op)&&this.field.equals(t.field)&&this.value.equals(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(),Je=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.equals=function(t){return t instanceof e&&this.field.equals(t.field)},e}(),Ze=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field).value();return"number"===typeof t&&isNaN(t)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.equals=function(t){return t instanceof e&&this.field.equals(t.field)},e}();function et(e,t,n){if(n.equals(Oe.INSTANCE)){if(t!==Ye.EQUAL)throw new D(_,"Invalid query. You can only perform equals comparisons on null.");return new Je(e)}if(n.equals(Me.NAN)){if(t!==Ye.EQUAL)throw new D(_,"Invalid query. You can only perform equals comparisons on NaN.");return new Ze(e)}return new $e(e,t,n)}var tt,nt=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),rt=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){d(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())d(o instanceof Be,"Bound has a non-key value where the key path is being used."),n=_e.comparator(o.key,t.key);else{var a=t.field(i.field);d(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===nt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.equals=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.equals(r)}return!0},e}(),it=function(){function e(e,t){this.field=e,void 0===t&&(t=nt.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?we.compareByKey(e,t):we.compareByField(this.field,e,t);switch(this.dir){case nt.ASCENDING:return n;case nt.DESCENDING:return-1*n;default:return f("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.equals=function(e){return this.dir===e.dir&&this.field.equals(e.field)},e}(),ot=new it(be.keyField(),nt.ASCENDING),at=new it(be.keyField(),nt.DESCENDING),st=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),ut=function(){function e(e,t){this.seconds=e,this.nanos=t,d(t>=0,"timestamp nanoseconds out of range: "+t),d(t<1e9,"timestamp nanoseconds out of range"+t),d(e>=-62135596800,"timestamp seconds out of range: "+e),d(e<253402300800,"timestamp seconds out of range"+e)}return e.now=function(){return e.fromEpochMilliseconds(Date.now())},e.fromDate=function(t){return e.fromEpochMilliseconds(t.getTime())},e.fromEpochMilliseconds=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.fromISOString=function(t){var n=0,r=st.exec(t);if(d(!!r,"invalid timestamp: "+t),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),n=parseInt(i,10)}var o=new Date(t);return new e(Math.floor(o.getTime()/1e3),n)},e.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},e.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},e.prototype.compareTo=function(e){return this.seconds===e.seconds?ie(this.nanos,e.nanos):ie(this.seconds,e.seconds)},e.prototype.equals=function(e){return e.seconds===this.seconds&&e.nanos===this.nanos},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},e}(),ct=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new ut(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp.compareTo(e.timestamp)},e.prototype.equals=function(e){return this.timestamp.equals(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new ut(0,0)),e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(tt||(tt={}));var lt,ht=function(){function e(e,t,n,r,i){void 0===r&&(r=ct.MIN),void 0===i&&(i=m()),this.query=e,this.targetId=t,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return e.prototype.update=function(t){return new e(this.query,this.targetId,this.purpose,t.snapshotVersion,t.resumeToken)},e.prototype.equals=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.snapshotVersion.equals(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.equals(e.query)},e}(),ft=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(){function e(e){this.fields=e}return e.prototype.equals=function(e){return oe(this.fields,e.fields)},e}(),pt=function(){function e(){}return e.prototype.equals=function(t){return t instanceof e},e.instance=new e,e}(),mt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.equals=function(e){return this.field.equals(e.field)&&this.transform.equals(e.transform)},e}(),yt=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(lt||(lt={}));var gt,vt=function(){function e(e,t){this.updateTime=e,this.exists=t,d(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof we&&e.version.equals(this.updateTime):void 0!==this.exists?this.exists?e instanceof we:null===e||e instanceof Se:(d(this.isNone,"Precondition should be empty"),!0)},e.prototype.equals=function(e){return t=this.updateTime,n=e.updateTime,(null!==t&&void 0!==t?!(!n||!t.equals(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),bt=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&d(e.key.equals(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof we?e.version:ct.MIN},e}(),_t=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=lt.Set,i}return ft(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),d(null==t.transformResults,"Transform results received by SetMutation.");var n=bt.getPostMutationVersion(e);return new we(this.key,n,this.value,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=bt.getPostMutationVersion(e);return new we(this.key,n,this.value,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.value.equals(e.value)&&this.precondition.equals(e.precondition)},t}(bt),wt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=lt.Patch,o}return ft(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),d(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return e;var n=bt.getPostMutationVersion(e),r=this.patchDocument(e);return new we(this.key,n,r,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=bt.getPostMutationVersion(e),r=this.patchDocument(e);return new we(this.key,n,r,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.fieldMask.equals(e.fieldMask)&&this.precondition.equals(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof we?e.data:qe.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){for(var t=0,n=this.fieldMask.fields;t<n.length;t++){var r=n[t],i=this.data.field(r);e=void 0!==i?e.set(r,i):e.delete(r)}return e},t}(bt),St=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=lt.Transform,r.precondition=vt.exists(!0),r}return ft(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),d(null!=t.transformResults,"Transform results missing for TransformMutation.");var n=t.transformResults;if(!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.transformObject(r.data,n);return new we(this.key,r.version,i,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var n=this.requireDocument(e),r=this.localTransformResults(t),i=this.transformObject(n.data,r);return new we(this.key,n.version,i,{hasLocalMutations:!0})},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&oe(this.fieldTransforms,e.fieldTransforms)&&this.precondition.equals(e.precondition)},t.prototype.requireDocument=function(e){d(e instanceof we,"Unknown MaybeDocument type "+e);var t=e;return d(t.key.equals(this.key),"Can only transform a document with the same key"),t},t.prototype.localTransformResults=function(e){for(var t=[],n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n].transform;if(!(i instanceof pt))return f("Encountered unknown transform: "+i);t.push(new je(e))}return t},t.prototype.transformObject=function(e,t){d(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.transform,o=r.field;if(!(i instanceof pt))return f("Encountered unknown transform: "+i);e=e.set(o,t[n])}return e},t}(bt),Et=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=lt.Delete,r}return ft(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),d(null==t.transformResults,"Transform results received by DeleteMutation."),new Se(this.key,ct.MIN)},t.prototype.applyToLocalView=function(e,t){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&d(e.key.equals(this.key),"Can only apply mutation to document with same key"),new Se(this.key,ct.forDeletedDoc())):e},t.prototype.equals=function(e){return e instanceof t&&this.key.equals(e.key)&&this.precondition.equals(e.precondition)},t}(bt),Ct=function(){function e(e){this.count=e}return e.prototype.equals=function(e){return e&&e.count===this.count},e}();function Tt(e){switch(e){case g:return f("Treated status OK as error");case v:case b:case w:case k:case R:case A:case T:return!1;case _:case S:case E:case C:case I:case N:case P:case O:case x:return!0;default:return f("Unknown status code: "+e)}}function kt(e){if(void 0===e)return l("GRPC error has no .code"),b;switch(e){case gt.OK:return g;case gt.CANCELLED:return v;case gt.UNKNOWN:return b;case gt.DEADLINE_EXCEEDED:return w;case gt.RESOURCE_EXHAUSTED:return k;case gt.INTERNAL:return R;case gt.UNAVAILABLE:return A;case gt.UNAUTHENTICATED:return T;case gt.INVALID_ARGUMENT:return _;case gt.NOT_FOUND:return S;case gt.ALREADY_EXISTS:return E;case gt.PERMISSION_DENIED:return C;case gt.FAILED_PRECONDITION:return I;case gt.ABORTED:return N;case gt.OUT_OF_RANGE:return P;case gt.UNIMPLEMENTED:return O;case gt.DATA_LOSS:return x;default:return f("Unknown status code: "+e)}}function It(e){if(void 0===e)return gt.OK;switch(e){case g:return gt.OK;case v:return gt.CANCELLED;case b:return gt.UNKNOWN;case w:return gt.DEADLINE_EXCEEDED;case k:return gt.RESOURCE_EXHAUSTED;case R:return gt.INTERNAL;case A:return gt.UNAVAILABLE;case T:return gt.UNAUTHENTICATED;case _:return gt.INVALID_ARGUMENT;case S:return gt.NOT_FOUND;case E:return gt.ALREADY_EXISTS;case C:return gt.PERMISSION_DENIED;case I:return gt.FAILED_PRECONDITION;case N:return gt.ABORTED;case P:return gt.OUT_OF_RANGE;case O:return gt.UNIMPLEMENTED;case x:return gt.DATA_LOSS;default:return f("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(gt||(gt={}));var Nt=function(){function e(e){this.comparator=e,this.data=new Ee(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Pt=new Ee(_e.comparator);function Ot(){return Pt}var Rt=new Ee(_e.comparator);function At(){return Rt}var xt=new Ee(_e.comparator);function Dt(){return xt}var Mt=new Nt(_e.comparator);function Lt(){return Mt}var Ft,jt=function(){function e(e,t,n){this.snapshotVersion=e,this.targetChanges=t,this.documentUpdates=n}return e.prototype.addDocumentUpdate=function(e){this.documentUpdates=this.documentUpdates.insert(e.key,e)},e.prototype.handleExistenceFilterMismatch=function(e){this.targetChanges[e]={mapping:new Vt,snapshotVersion:ct.MIN,currentStatusUpdate:Ft.MarkNotCurrent,resumeToken:m()}},e}();!function(e){e[e.None=0]="None",e[e.MarkNotCurrent=1]="MarkNotCurrent",e[e.MarkCurrent=2]="MarkCurrent"}(Ft||(Ft={}));var Ut,Bt=Lt(),Vt=function(){function e(){this.docs=Bt}return Object.defineProperty(e.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.docs=this.docs.add(e)},e.prototype.delete=function(e){this.docs=this.docs.delete(e)},e.prototype.equals=function(e){return null!==e&&this.docs.equals(e.docs)},e}(),qt=function(){function e(){this.addedDocuments=Bt,this.removedDocuments=Bt}return e.prototype.applyToKeySet=function(e){var t=e;return this.addedDocuments.forEach((function(e){return t=t.add(e)})),this.removedDocuments.forEach((function(e){return t=t.delete(e)})),t},e.prototype.add=function(e){this.addedDocuments=this.addedDocuments.add(e),this.removedDocuments=this.removedDocuments.delete(e)},e.prototype.delete=function(e){this.addedDocuments=this.addedDocuments.delete(e),this.removedDocuments=this.removedDocuments.add(e)},e.prototype.equals=function(e){return null!==e&&this.addedDocuments.equals(e.addedDocuments)&&this.removedDocuments.equals(e.removedDocuments)},e}(),Wt=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},zt=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Ut||(Ut={}));var Kt=function(e,t,n,r){void 0===n&&(n=m()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ht=function(){function e(e,t,n){this.snapshotVersion=e,this.listenTargets=t,this.existenceFilters={},this.targetChanges={},this.documentUpdates=Ot(),this.frozen=!1,this.pendingTargetResponses=B(n)}return e.prototype.add=function(e){d(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e instanceof Wt?this.addDocumentChange(e):e instanceof Kt?this.addTargetChange(e):e instanceof zt?this.addExistenceFilterChange(e):f("Unknown watch change: "+e)},e.prototype.addChanges=function(e){var t=this;d(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e.forEach((function(e){return t.add(e)}))},e.prototype.createRemoteEvent=function(){var e=this,t=this.targetChanges;return F(this.targetChanges,(function(n){e.isActiveTarget(n)||delete t[n]})),this.frozen=!0,new jt(this.snapshotVersion,t,this.documentUpdates)},e.prototype.ensureTargetChange=function(e){var t=this.targetChanges[e];return t||(t={currentStatusUpdate:Ft.None,snapshotVersion:this.snapshotVersion,mapping:new qt,resumeToken:m()},this.targetChanges[e]=t),t},e.prototype.isActiveTarget=function(e){return!L(this.pendingTargetResponses,e)&&L(this.listenTargets,e)},e.prototype.addDocumentChange=function(e){for(var t=!1,n=0,r=e.updatedTargetIds;n<r.length;n++){var i=r[n];if(this.isActiveTarget(i))this.ensureTargetChange(i).mapping.add(e.key),t=!0}for(var o=0,a=e.removedTargetIds;o<a.length;o++){i=a[o];if(this.isActiveTarget(i))this.ensureTargetChange(i).mapping.delete(e.key),t=!0}e.newDoc&&t&&(this.documentUpdates=this.documentUpdates.insert(e.key,e.newDoc))},e.prototype.addTargetChange=function(e){var t=this;e.targetIds.forEach((function(n){var r=t.ensureTargetChange(n);switch(e.state){case Ut.NoChange:t.isActiveTarget(n)&&Qt(r,e.resumeToken);break;case Ut.Added:t.recordTargetResponse(n),L(t.pendingTargetResponses,n)||(r.mapping=new qt,r.currentStatusUpdate=Ft.None,delete t.existenceFilters[n]),Qt(r,e.resumeToken);break;case Ut.Removed:t.recordTargetResponse(n),d(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Ut.Current:t.isActiveTarget(n)&&(r.currentStatusUpdate=Ft.MarkCurrent,Qt(r,e.resumeToken));break;case Ut.Reset:t.isActiveTarget(n)&&(r.mapping=new Vt,Qt(r,e.resumeToken));break;default:f("Unknown target watch change state: "+e.state)}}))},e.prototype.recordTargetResponse=function(e){var t=(this.pendingTargetResponses[e]||0)-1;0===t?delete this.pendingTargetResponses[e]:this.pendingTargetResponses[e]=t},e.prototype.addExistenceFilterChange=function(e){this.isActiveTarget(e.targetId)&&(this.existenceFilters[e.targetId]=e.existenceFilter)},e}();function Qt(e,t){t.length>0&&(e.resumeToken=t)}var Gt=function(){var e={};return e[nt.ASCENDING.name]="ASCENDING",e[nt.DESCENDING.name]="DESCENDING",e}(),Xt=function(){var e={};return e[Ye.LESS_THAN.name]="LESS_THAN",e[Ye.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Ye.GREATER_THAN.name]="GREATER_THAN",e[Ye.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Ye.EQUAL.name]="EQUAL",e}();function Yt(e,t){d(!Ge(e),t+" is missing")}function $t(e){return"number"===typeof e?e:"string"===typeof e?parseInt(e,10):f("can't parse "+e)}var Jt=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?b:kt(e.code);return new D(t,e.message||"")},e.prototype.toInt32Value=function(e){return Ge(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Ge(t="object"===typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanos}},e.prototype.fromTimestamp=function(e){if("string"===typeof e)return ut.fromISOString(e);d(!!e,"Cannot deserialize null or undefined timestamp.");var t=$t(e.seconds||"0"),n=e.nanos||0;return new ut(t,n)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"===typeof e?(d(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ue.fromBase64String(e)):(d(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),ue.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return d(!!e,"Trying to deserialize version that isn't set"),ct.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ge.fromString(e);return d(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return d(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),d(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new _e(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return 0===e.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ge.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ge(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ge(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return d(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Oe)return{nullValue:"NULL_VALUE"};if(e instanceof Re)return{booleanValue:e.value()};if(e instanceof De)return{integerValue:""+e.value()};if(e instanceof Me){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Le?{stringValue:e.value()}:e instanceof qe?{mapValue:this.toMapValue(e)}:e instanceof We?{arrayValue:this.toArrayValue(e)}:e instanceof Fe?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ve?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ue?{bytesValue:this.toBytes(e.value())}:e instanceof Be?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:f("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(Zt(e,n,"nullValue"))return Oe.INSTANCE;if(Zt(e,n,"booleanValue"))return Re.of(e.booleanValue);if(Zt(e,n,"integerValue"))return new De($t(e.integerValue));if(Zt(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Me.NAN;if("Infinity"===e.doubleValue)return Me.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Me.NEGATIVE_INFINITY}return new Me(e.doubleValue)}if(Zt(e,n,"stringValue"))return new Le(e.stringValue);if(Zt(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(Zt(e,n,"arrayValue")){Yt(e.arrayValue,"arrayValue");var r=e.arrayValue.values||[];return new We(r.map((function(e){return t.fromValue(e)})))}if(Zt(e,n,"timestampValue"))return Yt(e.timestampValue,"timestampValue"),new Fe(this.fromTimestamp(e.timestampValue));if(Zt(e,n,"geoPointValue")){Yt(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new Ve(new le(i,o))}if(Zt(e,n,"bytesValue")){Yt(e.bytesValue,"bytesValue");var a=this.fromBlob(e.bytesValue);return new Ue(a)}if(Zt(e,n,"referenceValue")){Yt(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),u=new de(s.get(1),s.get(3)),c=new _e(this.extractLocalPathFromResourceName(s));return new Be(u,c)}return f("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return d(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e){return new we(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasLocalMutations:!1})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=e,r=qe.EMPTY;return j(n,(function(e,n){r=r.set(new be([e]),t.fromValue(n))})),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){d(!!e.found,"Tried to deserialize a found document from a missing document."),Yt(e.found.name,"doc.found.name"),Yt(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new we(t,n,r,{hasLocalMutations:!1})},e.prototype.fromMissing=function(e){d(!!e.missing,"Tried to deserialize a missing document from a found document."),d(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Se(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result;return Zt(e,t,"found")?this.fromFound(e):Zt(e,t,"missing")?this.fromMissing(e):f("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Ut.Added:return"ADD";case Ut.Current:return"CURRENT";case Ut.NoChange:return"NO_CHANGE";case Ut.Removed:return"REMOVE";case Ut.Reset:return"RESET";default:return f("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof zt)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Wt){if(e.newDoc instanceof we){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Se){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Kt){var n=void 0;return e.cause&&(n={code:It(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return f("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=e.response_type;if(Zt(e,n,"targetChange")){Yt(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Kt(r,i,o,s||null)}else if(Zt(e,n,"documentChange")){Yt(e.documentChange,"documentChange"),Yt(e.documentChange.document,"documentChange.name"),Yt(e.documentChange.document.name,"documentChange.document.name"),Yt(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),d=new we(c,l,h,{hasLocalMutations:!1}),p=u.targetIds||[],m=u.removedTargetIds||[];t=new Wt(p,m,d.key,d)}else if(Zt(e,n,"documentDelete")){Yt(e.documentDelete,"documentDelete"),Yt(e.documentDelete.document,"documentDelete.document");var y=e.documentDelete;c=this.fromName(y.document),l=y.readTime?this.fromVersion(y.readTime):ct.forDeletedDoc(),d=new Se(c,l),m=y.removedTargetIds||[];t=new Wt([],m,d.key,d)}else if(Zt(e,n,"documentRemove")){Yt(e.documentRemove,"documentRemove"),Yt(e.documentRemove.document,"documentRemove");var g=e.documentRemove;c=this.fromName(g.document),m=g.removedTargetIds||[];t=new Wt([],m,c,null)}else{if(!Zt(e,n,"filter"))return f("Unknown change type "+JSON.stringify(e));Yt(e.filter,"filter"),Yt(e.filter.targetId,"filter.targetId");var v=e.filter,b=v.count||0,_=new Ct(b),w=v.targetId;t=new zt(w,_)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Ut.NoChange:"ADD"===e?Ut.Added:"REMOVE"===e?Ut.Removed:"CURRENT"===e?Ut.Current:"RESET"===e?Ut.Reset:f("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!Zt(e,e.response_type,"targetChange"))return ct.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?ct.MIN:t.readTime?this.fromVersion(t.readTime):ct.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof _t)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Et)t={delete:this.toName(e.key)};else if(e instanceof wt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof St))return f("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):vt.NONE;if(e.update){Yt(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new wt(r,i,o,n)}return new _t(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new Et(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return d(!0===n.exists,'Transforms only support precondition "exists == true"'),new St(r,a)}return f("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return d(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:f("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?vt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?vt.exists(e.exists):vt.NONE},e.prototype.fromWriteResult=function(e){var t=this,n=e.updateTime?this.fromVersion(e.updateTime):null,r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults.map((function(e){return t.fromValue(e)}))),new yt(n,r)},e.prototype.fromWriteResults=function(e){var t=this;return(e||[]).map((function(e){return t.fromWriteResult(e)}))},e.prototype.toFieldTransform=function(e){return d(e.transform instanceof pt,"Unknown transform: "+e.transform),{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},e.prototype.fromFieldTransform=function(e){d("REQUEST_TIME"===e.setToServerValue,"Unknown transform proto: "+JSON.stringify(e));var t=be.fromServerFormat(e.fieldPath);return new mt(t,pt.instance)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;d(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Xe.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}};if(e.path.isEmpty())t.parent=this.toQueryPath(ge.EMPTY_PATH);else{var n=e.path;d(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0;if(r>0){d(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];t=t.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Xe(t,a,o,s,u,c)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case tt.Listen:return null;case tt.ExistenceFilterMismatch:return"existence-filter-mismatch";case tt.LimboResolution:return"limbo-document";default:return f("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof $e?t.toRelationFilter(e):t.toUnaryFilter(e)}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):f("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new rt(r,n)},e.prototype.toDirection=function(e){return Gt[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return nt.ASCENDING;case"DESCENDING":return nt.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return Xt[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Ye.EQUAL;case"GREATER_THAN":return Ye.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ye.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ye.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ye.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return f("Unspecified relation");default:return f("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return be.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new it(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof $e?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:f("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new $e(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof Ze?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof Je?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:f("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new Ze(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new Je(n);case"OPERATOR_UNSPECIFIED":return f("Unspecified filter");default:return f("Unknown filter")}},e.prototype.toDocumentMask=function(e){return{fieldPaths:e.fields.map((function(e){return e.canonicalString()}))}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return be.fromServerFormat(e)}));return new dt(t)},e}();function Zt(e,t,n){return t===n||!t&&n in e}var en=n(4786),tn=function(){function e(e){this.wrappedOnOpen=null,this.wrappedOnClose=null,this.wrappedOnMessage=null,this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){d(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){d(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){d(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){d(null!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){d(null!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){d(null!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),nn="Connection",rn={BatchGetDocuments:"batchGet",Commit:"commit"},on="gl-js/ fire/"+o,an=function(){function e(e){this.databaseId=e.databaseId,this.pool=new en.XhrIoPool;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=on,e["google-cloud-resource-prefix"]="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,a){r.pool.getObject((function(s){s.listenOnce(en.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case en.ErrorCode.NO_ERROR:var t=s.getResponseJson();c(nn,"XHR received:",JSON.stringify(t)),o(t);break;case en.ErrorCode.TIMEOUT:c(nn,'RPC "'+e+'" timed out'),a(new D(w,"Request time out"));break;case en.ErrorCode.HTTP_ERROR:var n=s.getStatus();c(nn,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0?a(new D(function(e){switch(e){case 200:return g;case 400:return _;case 401:return T;case 403:return C;case 404:return S;case 409:return N;case 416:return P;case 429:return k;case 499:return v;case 500:return b;case 501:return O;case 503:return A;case 504:return w;default:return e>=200&&e<300?g:e>=400&&e<500?I:e>=500&&e<600?R:b}}(n),"Server responded with status "+s.getStatusText())):(c(nn,'RPC "'+e+'" failed'),a(new D(A,"Connection failed.")));break;default:f('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{c(nn,'RPC "'+e+'" completed.'),r.pool.releaseObject(s)}}));var u=JSON.stringify(t);c(nn,"XHR sending: ",i+" "+u);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),s.send(i,"POST",u,l,15)}))}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",e,"/channel"],r=(0,en.createWebChannelTransport)(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,t);var o=n.join("");c(nn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,u=!1,l=new tn({sendFn:function(e){u?c(nn,"Not sending because WebChannel is closed:",e):(s||(c(nn,"Opening WebChannel transport."),a.open(),s=!0),c(nn,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return h(en.WebChannel.EventType.OPEN,(function(){u||c(nn,"WebChannel transport opened.")})),h(en.WebChannel.EventType.CLOSE,(function(){u||(u=!0,c(nn,"WebChannel transport closed"),l.callOnClose())})),h(en.WebChannel.EventType.ERROR,(function(e){u||(u=!0,c(nn,"WebChannel transport errored:",e),l.callOnClose(new D(A,"The operation could not be completed")))})),h(en.WebChannel.EventType.MESSAGE,(function(e){if(!u){var t=e.data[0];d(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){c(nn,"WebChannel received error:",n);var r=n.status,i=function(e){var t=gt[e];if(void 0!==t)return kt(t)}(r),o=n.message;void 0===i&&(i=R,o="Unknown error status: "+r+" with message "+n.message),u=!0,l.callOnClose(new D(i,o)),a.close()}else c(nn,"WebChannel received:",t),l.callOnMessage(t)}})),setTimeout((function(){l.callOnOpen()}),0),l},e.prototype.makeUrl=function(e){var t=rn[e];d(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),sn=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return e.prototype.loadConnection=function(e){return Promise.resolve(new an(e))},e.prototype.newSerializer=function(e){return new Jt(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();p.setPlatform(new sn);var un,cn,ln,hn=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];z("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(K("FieldPath","string",n,e[n]),0===e[n].length)throw new D(_,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new be(e)}return e.documentId=function(){return e._DOCUMENT_ID},e._DOCUMENT_ID=new e(be.keyField().canonicalString()),e}(),fn=new RegExp("[~\\*/\\[\\]]");!function(e){e[e.Unknown=0]="Unknown",e[e.Healthy=1]="Healthy",e[e.Failed=2]="Failed"}(un||(un={})),function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(cn||(cn={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(ln||(ln={}));var dn,pn=function(){function e(){this.changeMap=new Ee(_e.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==cn.Added&&n.type===cn.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===cn.Metadata&&n.type!==cn.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===cn.Modified&&n.type===cn.Modified?this.changeMap=this.changeMap.insert(t,{type:cn.Modified,doc:e.doc}):e.type===cn.Modified&&n.type===cn.Added?this.changeMap=this.changeMap.insert(t,{type:cn.Added,doc:e.doc}):e.type===cn.Removed&&n.type===cn.Added?this.changeMap=this.changeMap.remove(t):e.type===cn.Removed&&n.type===cn.Modified?this.changeMap=this.changeMap.insert(t,{type:cn.Removed,doc:n.doc}):e.type===cn.Added&&n.type===cn.Removed?this.changeMap=this.changeMap.insert(t,{type:cn.Modified,doc:e.doc}):f("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),mn=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||_e.comparator(t.key,n.key)}:function(e,t){return _e.comparator(e.key,t.key)},this.keyedMap=At(),this.sortedSet=new Ee(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.prevDoc=function(e){d(this.has(e),"Trying to get a previous document to non-existing key: "+e);var t=this.keyedMap.get(e);return this.sortedSet.getPredecessorKey(t)},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.equals=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.equals(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),yn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.equals(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].equals(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].equals(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){j(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return U(this.inner)},e}(),gn=function(){this.listeners=[]},vn=function(){function e(e){this.syncEngine=e,this.queries=new yn((function(e){return e.canonicalId()})),this.onlineState=un.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new gn,this.queries.set(t,r)),r.listeners.push(e),e.onOnlineStateChanged(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){var t=e.query,n=!1,r=this.queries.get(t);if(r){var i=r.listeners.indexOf(e);i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)}return n?(this.queries.delete(t),this.syncEngine.unlisten(t)):Promise.resolve()},e.prototype.onChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},e.prototype.onError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChanged=function(e){this.onlineState=e,this.queries.forEach((function(t,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].onOnlineStateChanged(e)}}))},e}(),bn=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=un.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(d(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==cn.Metadata&&t.push(i)}e={query:e.query,docs:e.docs,oldDocs:e.oldDocs,docChanges:t,fromCache:e.fromCache,hasPendingWrites:e.hasPendingWrites,syncStateChanged:e.syncStateChanged}}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.onOnlineStateChanged=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(d(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==un.Failed;return this.options.waitForSyncWhenOnline&&n?(d(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===un.Failed},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeQueryMetadataChanges},e.prototype.raiseInitialEvent=function(t){d(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t={query:t.query,docs:t.docs,oldDocs:mn.emptySet(t.docs),docChanges:e.getInitialViewChanges(t),fromCache:t.fromCache,hasPendingWrites:t.hasPendingWrites,syncStateChanged:!0},this.raisedInitialEvent=!0,this.queryObserver.next(t)},e.getInitialViewChanges=function(e){var t=[];return e.docs.forEach((function(e){t.push({type:cn.Added,doc:e})})),t},e}(),_n=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=null,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&f("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return t.reduce((function(e,t,n){return e.next((function(){return t}))}),e.resolve())},e.map=function(t){var n=[],r=!0,i=e.resolve(null);return t.reduce((function(e,t){return e.next((function(e){return r||n.push(e),r=!1,t}))}),i).next((function(e){return n.push(e),n}))},e}(),wn=function(){function e(){this.isEager=!0,this.sources=[],this.potentialGarbage=Lt()}return e.prototype.addGarbageSource=function(e){this.sources.push(e),e.setGarbageCollector(this)},e.prototype.removeGarbageSource=function(e){this.sources.splice(this.sources.indexOf(e),1),e.setGarbageCollector(null)},e.prototype.addPotentialGarbageKey=function(e){this.potentialGarbage=this.potentialGarbage.add(e)},e.prototype.collectGarbage=function(e){var t=this,n=[],r=Lt();return this.potentialGarbage.forEach((function(i){var o=t.documentHasAnyReferences(e,i);n.push(o.next((function(e){return e||(r=r.add(i)),_n.resolve()})))})),this.potentialGarbage=Lt(),_n.waitFor(n).next((function(){return r}))},e.prototype.documentHasAnyReferences=function(e,t){var n=_n.resolve(!1);return this.sources.map((function(n){return function(){return n.containsKey(e,t)}})).reduce((function(e,t){return e.next((function(e){return e?_n.resolve(!0):t()}))}),n)},e}(),Sn=function(){function e(e,t,n){this.query=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t){for(var n=Lt(),r=Lt(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case cn.Added:n=n.add(a.doc.key);break;case cn.Removed:r=r.add(a.doc.key)}}return new e(t.query,n,r)},e}(),En=function(){function e(){this.refsByKey=new Nt(Cn.compareByKey),this.refsByTarget=new Nt(Cn.compareByTargetId),this.garbageCollector=null}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Cn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new Cn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=_e.EMPTY,r=new Cn(n,e),i=new Cn(n,e+1);this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e)}))},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(e.key)},e.prototype.referencesForId=function(e){var t=_e.EMPTY,n=new Cn(t,e),r=new Cn(t,e+1),i=Lt();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new Cn(t,0),r=this.refsByKey.firstAfterOrEqual(n);return _n.resolve(null!==r&&t.equals(r.key))},e}(),Cn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return _e.comparator(e.key,t.key)||ie(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return ie(e.targetOrBatchId,t.targetOrBatchId)||_e.comparator(e.key,t.key)},e}();!function(e){e[e.LocalStore=0]="LocalStore",e[e.SyncEngine=1]="SyncEngine"}(dn||(dn={}));var Tn=function(){function e(e,t){void 0===t&&(t=0),this.generatorId=e;var n=t>>1<<1,r=t-n;this.previousId=r>=e?n|this.generatorId:(n|this.generatorId)-2}return e.prototype.next=function(){return this.previousId+=2,this.previousId},e.forLocalStore=function(t){return void 0===t&&(t=0),new e(dn.LocalStore,t)},e.forSyncEngine=function(){return new e(dn.SyncEngine)},e}(),kn=function(e){this.key=e},In=function(e){this.key=e},Nn=function(){function e(e,t){this.query=e,this.syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Lt(),this.mutatedKeys=Lt(),this.documentSet=new mn(e.docComparator.bind(e))}return e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new pn,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof we?t:null;if(l&&(d(e.equals(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null),l?(a=a.add(l),o=l.hasLocalMutations?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)),c&&l){var h=c.data.equals(l.data);h&&c.hasLocalMutations===l.hasLocalMutations||(h?r.track({type:cn.Metadata,doc:l}):r.track({type:cn.Modified,doc:l}),u&&n.query.docComparator(l,u)>0&&(s=!0))}else!c&&l?r.track({type:cn.Added,doc:l}):c&&!l&&(r.track({type:cn.Removed,doc:c}),u&&(s=!0))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),r.track({type:cn.Removed,doc:c})}return d(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.applyChanges=function(e,t){var n=this;d(!e.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var i=e.changeSet.getChanges();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case cn.Added:return 1;case cn.Modified:case cn.Metadata:return 2;case cn.Removed:return 0;default:return f("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||n.query.docComparator(e.doc,t.doc)}));var o=this.applyTargetChange(t),a=0===this.limboDocuments.size&&this.current?ln.Synced:ln.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:{query:this.query,docs:e.documentSet,oldDocs:r,docChanges:i,fromCache:a===ln.Local,syncStateChanged:s,hasPendingWrites:!e.mutatedKeys.isEmpty()},limboChanges:o}:{limboChanges:o}},e.prototype.shouldBeInLimbo=function(e){return!this.syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;if(e){var n=e.mapping;switch(n instanceof Vt?this.syncedDocuments=n.documents:n instanceof qt&&(this.syncedDocuments=n.applyToKeySet(this.syncedDocuments)),e.currentStatusUpdate){case Ft.MarkCurrent:this.current=!0;break;case Ft.MarkNotCurrent:this.current=!1;break;case Ft.None:break;default:f("Unknown current status update: "+e.currentStatusUpdate)}}var r=this.limboDocuments;this.limboDocuments=Lt(),this.current&&this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var i=[];return r.forEach((function(e){t.limboDocuments.has(e)||i.push(new In(e))})),this.limboDocuments.forEach((function(e){r.has(e)||i.push(new kn(e))})),i},e}();var Pn="SyncEngine",On=function(e,t,n,r){this.query=e,this.targetId=t,this.resumeToken=n,this.view=r},Rn=function(){function e(e,t,n){this.localStore=e,this.remoteStore=t,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new yn((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new Ee(_e.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new En,this.limboCollector=new wn,this.mutationUserCallbacks={},this.targetIdGenerator=Tn.forSyncEngine()}return e.prototype.subscribe=function(e,t){d(null!==e&&null!==t,"View and error handlers cannot be null"),d(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=e,this.errorHandler=t,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},e.prototype.listen=function(e){var t=this;return this.assertSubscribed("listen()"),d(!this.queryViewsByQuery.has(e),"We already listen to the query: "+e),this.localStore.allocateQuery(e).then((function(n){return t.localStore.executeQuery(e).then((function(r){return t.localStore.remoteDocumentKeys(n.targetId).then((function(i){var o=new Nn(e,i),a=o.computeDocChanges(r),s=o.applyChanges(a);d(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),d(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new On(e,n.targetId,n.resumeToken,o);t.queryViewsByQuery.set(e,u),t.queryViewsByTarget[n.targetId]=u,t.viewHandler([s.snapshot]),t.remoteStore.listen(n)}))})).then((function(){return n.targetId}))}))},e.prototype.unlisten=function(e){var t=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(e);return d(!!n,"Trying to unlisten on query not found:"+e),this.localStore.releaseQuery(e).then((function(){return t.remoteStore.unlisten(n.targetId),t.removeAndCleanupQuery(n).then((function(){return t.localStore.collectGarbage()}))}))},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then((function(e){return n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)})).then((function(){return n.remoteStore.fillWritePipeline()}))},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),d(t>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!Ge(t)&&t.catch&&t.then?t.catch((function(e){return Promise.reject(n.wrapUpdateFunctionError(e))})):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then((function(i){return r.commit().then((function(){return i})).catch((function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)}))}))},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),F(e.targetChanges,(function(n,r){var i=t.limboKeysByTarget[n];i&&r.currentStatusUpdate===Ft.MarkCurrent&&!e.documentUpdates.get(i)&&e.addDocumentUpdate(new Se(i,e.snapshotVersion))})),this.localStore.applyRemoteEvent(e).then((function(n){return t.emitNewSnapsAndNotifyLocalStore(n,e)}))},e.prototype.rejectListen=function(e,t){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboKeysByTarget[e];if(r){this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboKeysByTarget[e];var i=new Ee(_e.comparator);i=i.insert(r,new Se(r,ct.forDeletedDoc()));var o=new jt(ct.MIN,{},i);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[e];return d(!!a,"Unknown targetId: "+e),this.localStore.releaseQuery(a.query).then((function(){return n.removeAndCleanupQuery(a).then((function(){n.errorHandler(a.query,t)}))}))},e.prototype.applySuccessfulWrite=function(e){var t=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e.batch.batchId,null),this.localStore.acknowledgeBatch(e).then((function(e){return t.emitNewSnapsAndNotifyLocalStore(e)}))},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then((function(e){return n.emitNewSnapsAndNotifyLocalStore(e)}))},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ee(ie)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(d(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){return this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.limboDocumentRefs.removeReferencesForId(e.targetId),this.gcLimboDocuments()},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof kn?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof In?(c(Pn,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e)):f("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){c(Pn,"New document in limbo: "+t);var n=this.targetIdGenerator.next(),r=Xe.atPath(t.path);this.limboKeysByTarget[n]=t,this.remoteStore.listen(new ht(r,n,tt.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.gcLimboDocuments=function(){var e=this;return this.limboCollector.collectGarbage(null).next((function(t){t.forEach((function(t){var n=e.limboTargetsByKey.get(t);null!==n&&(e.remoteStore.unlisten(n),e.limboTargetsByKey=e.limboTargetsByKey.remove(t),delete e.limboKeysByTarget[n])}))})).toPromise()},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach((function(a,s){o.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?n.localStore.executeQuery(s.query).then((function(e){return s.view.computeDocChanges(e,t)})):t})).then((function(e){var o=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,o);return n.updateTrackedLimbos(s.targetId,a.limboChanges).then((function(){if(a.snapshot){r.push(a.snapshot);var e=Sn.fromSnapshot(a.snapshot);i.push(e)}}))})))})),Promise.all(o).then((function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)})).then((function(){return n.localStore.collectGarbage()}))},e.prototype.assertSubscribed=function(e){d(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleUserChange=function(e){var t=this;return this.currentUser=e,this.localStore.handleUserChange(e).then((function(e){return t.emitNewSnapsAndNotifyLocalStore(e)})).then((function(){return t.remoteStore.handleUserChange(e)}))},e}(),An=-1,xn=function(){function e(e,t,n){this.batchId=e,this.localWriteTime=t,this.mutations=n}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&d(t.key.equals(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;d(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.equals(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&d(t.key.equals(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0;n<this.mutations.length;n++){var r=this.mutations[n];r.key.equals(e)&&(t=r.applyToLocalView(t,this.localWriteTime))}return t},e.prototype.keys=function(){for(var e=Lt(),t=0,n=this.mutations;t<n.length;t++){var r=n[t];e=e.add(r.key)}return e},e.prototype.equals=function(e){return this.batchId===e.batchId&&oe(this.mutations,e.mutations)},e.prototype.isTombstone=function(){return 0===this.mutations.length},e.prototype.toTombstone=function(){return new e(this.batchId,this.localWriteTime,[])},e}(),Dn=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){d(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Dt(),a=t.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new e(t,n,r,i,o)},e}(),Mn="\x01";function Ln(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jn(t)),t=Fn(e.get(n),t);return jn(t)}function Fn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case Mn:n+="\x01\x11";break;default:n+=o}}return n}function jn(e){return e+Mn+"\x01"}function Un(e){var t=e.length;if(d(t>=2,"Invalid path "+e),2===t)return d(e.charAt(0)===Mn&&"\x01"===e.charAt(1),"Non-empty path "+e+" had length 2"),ge.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(Mn,o);switch((a<0||a>n)&&f('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:f('Invalid encoded resource path: "'+e+'"')}o=a+2}return new ge(r)}function Bn(e,t){d(0===t,"Unexpected upgrade from version "+t),e.createObjectStore(Wn.store,{keyPath:Wn.keyPath}),e.createObjectStore(zn.store,{keyPath:zn.keyPath}),e.createObjectStore(Xn.store,{keyPath:Xn.keyPath}).createIndex(Xn.documentTargetsIndex,Xn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.queryTargetsIndexName,Gn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Kn.store),e.createObjectStore(Qn.store),e.createObjectStore(qn.store),e.createObjectStore(Yn.store)}var Vn=function(e,t){this.seconds=e,this.nanos=t},qn=function(){function e(e,t){this.ownerId=e,this.leaseTimestampMs=t}return e.store="owner",e}(),Wn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),zn=function(){function e(e,t,n,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.mutations=r}return e.store="mutations",e.keyPath=["userId","batchId"],e}(),Kn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ln(t)]},e.key=function(e,t,n){return[e,Ln(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),Hn=function(e,t){this.path=e,this.readTime=t},Qn=function(){function e(e,t){this.noDocument=e,this.document=t}return e.store="remoteDocuments",e}(),Gn=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),Xn=function(){function e(e,t){this.targetId=e,this.path=t}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),Yn=function(){function e(e,t,n){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),$n=[Wn.store,zn.store,Kn.store,Qn.store,Gn.store,qn.store,Yn.store,Xn.store],Jn="SimpleDb",Zn=function(){function e(e){this.db=e}return e.openOrCreate=function(t,n,r){return d(e.isAvailable(),"IndexedDB not supported in current environment."),c(Jn,"Opening database:",t),new _n((function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onerror=function(e){o(e.target.error)},a.onupgradeneeded=function(e){c(Jn,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r(n,e.oldVersion)}})).toPromise()},e.delete=function(e){return c(Jn,"Removing database:",e),rr(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;var e=window.navigator.userAgent;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)},e.prototype.runTransaction=function(e,t,n){var r=new tr(this.db,e,t),i=n(r).catch((function(e){return r.abort(),_n.reject(e)})).toPromise();return r.completionPromise.then((function(){return i}))},e.prototype.close=function(){this.db.close()},e}(),er=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return rr(this.dbCursor.delete())},e}(),tr=function(){function e(e,t,n){var r=this;this.aborted=!1,this.transaction=e.transaction(n,t),this.completionPromise=new Promise((function(e,t){r.transaction.onabort=r.transaction.oncomplete=function(t){e()},r.transaction.onerror=function(e){t(e.target.error)}}))}return e.prototype.abort=function(){this.aborted||(c(Jn,"Aborting transaction."),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return d(!!t,"Object store not part of transaction: "+e),new nr(t)},e}(),nr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(c(Jn,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(c(Jn,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rr(n)},e.prototype.get=function(e){var t=this;return rr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),c(Jn,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return c(Jn,"DELETE",this.store.name,e),rr(this.store.delete(e))},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){c(Jn,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateCursor=function(e,t){var n=[];return new _n((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new er(i),a=t(i.primaryKey,i.value,o);a instanceof _n&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return _n.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"===typeof e?n=e:(d(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function rr(e){return new _n((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}}))}var ir=function(){function e(e,t){this.userId=e,this.serializer=t,this.garbageCollector=null}return e.forUser=function(t,n){return d(""!==t.uid,"UserID must not be an empty string."),new e(t.isUnauthenticated()?"":t.uid,n)},e.prototype.start=function(t){var n=this;return e.loadNextBatchIdFromDb(t).next((function(e){return n.nextBatchId=e,ur(t).get(n.userId)})).next((function(e){return e||(e=new Wn(n.userId,An,"")),n.metadata=e,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(t).next((function(e){return d(e,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=An,ur(t).put(n.metadata)})):_n.resolve()}))},e.loadNextBatchIdFromDb=function(e){var t=An;return ar(e).iterate({reverse:!0},(function(e,n,r){var i=e[0];if(e[1]>t&&(t=n.batchId),""===i)r.done();else{var o=function(e){var t=e.length-1;return 0===e.length?"":"\0"===e.charAt(t)?e.substring(0,t):e.substring(0,t)+String.fromCharCode(e.charCodeAt(t)-1)}(i);r.skip([o])}})).next((function(){return t+1}))},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return ar(e).iterate({range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.getNextBatchId=function(e){return _n.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(e){return _n.resolve(this.metadata.lastAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId;return d(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=or(n),ur(e).put(this.metadata)},e.prototype.getLastStreamToken=function(e){return _n.resolve(this.metadata.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.metadata.lastStreamToken=or(t),ur(e).put(this.metadata)},e.prototype.addMutationBatch=function(e,t,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new xn(i,t,n),a=this.serializer.toDbMutationBatch(this.userId,o);return ar(e).put(a).next((function(){for(var t=0,o=n;t<o.length;t++){var a=o[t],s=(Ln(a.key.path),Kn.key(r.userId,a.key.path,i));sr(e).put(s,Kn.PLACEHOLDER)}return _n.waitFor([])})).next((function(){return o}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ar(e).get(this.keyForBatchId(t)).next((function(e){return e?n.serializer.fromDbMutationBatch(e):null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=IDBKeyRange.lowerBound(this.keyForBatchId(t+1)),i=null;return ar(e).iterate({range:r},(function(e,r,o){r.userId===n.userId&&(d(r.batchId>t,"Should have found mutation after "+t),i=n.serializer.fromDbMutationBatch(r)),o.done()})).next((function(){return i}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound(this.keyForBatchId(An),this.keyForBatchId(Number.POSITIVE_INFINITY));return ar(e).loadAll(n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(An),this.keyForBatchId(t));return ar(e).loadAll(r).next((function(e){return e.map((function(e){return n.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Kn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return sr(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Un(u);if(s===n.userId&&t.path.equals(l)){var h=n.keyForBatchId(c);return ar(e).get(h).next((function(e){null===e&&f("Dangling document-mutation reference found: "+r+" which points to "+h),o.push(n.serializer.fromDbMutationBatch(e))}))}a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;d(!t.isDocumentQuery(),"Document queries shouldn't go down this path");var r=t.path,i=r.length+1,o=Kn.prefixForPath(this.userId,r),a=(o[1],IDBKeyRange.lowerBound(o)),s=new Nt(ie);return sr(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Un(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){var t=[],r=[];return s.forEach((function(i){var o=n.keyForBatchId(i);r.push(ar(e).get(o).next((function(e){null===e&&f("Dangling document-mutation reference found, which points to "+o),t.push(n.serializer.fromDbMutationBatch(e))})))})),_n.waitFor(r).next((function(){return t}))}))},e.prototype.removeMutationBatches=function(e,t){for(var n=ar(e),r=sr(e),i=[],o=function(e){var t=IDBKeyRange.only(a.keyForBatchId(e.batchId)),o=0,s=n.iterate({range:t},(function(e,t,n){return o++,n.delete()}));i.push(s.next((function(){d(1===o,"Dangling document-mutation reference found: Missing batch "+e.batchId)})));for(var u=0,c=e.mutations;u<c.length;u++){var l=c[u],h=Kn.key(a.userId,l.key.path,e.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(l.key)}},a=this,s=0,u=t;s<u.length;s++){o(u[s])}return _n.waitFor(i)},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _n.resolve();var r=IDBKeyRange.lowerBound(Kn.prefixForUser(t.userId)),i=[];return sr(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Un(e[1]);i.push(o)}else r.done()})).next((function(){d(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=this,r=Kn.prefixForPath(this.userId,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return sr(e).iterate({range:o,keysOnly:!0},(function(e,t,r){var o=e[0],s=e[1];e[2];o===n.userId&&s===i&&(a=!0),r.done()})).next((function(){return a}))},e.prototype.keyForBatchId=function(e){return[this.userId,e]},e}();function or(e){return d("string"===typeof e,"Persisting non-string stream token not supported."),e}function ar(e){return cr(e,zn.store)}function sr(e){return cr(e,Kn.store)}function ur(e){return cr(e,Wn.store)}function cr(e,t){return e instanceof tr?e.store(t):f("Invalid transaction object provided!")}var lr=function(){function e(e){this.serializer=e,this.lastRemoteSnapshotVersion=ct.MIN,this.metadata=new Yn(0,0,ct.MIN.toTimestamp()),this.garbageCollector=null}return e.prototype.start=function(e){var t=this;return fr(e).get(Yn.key).next((function(e){if(null!==e){t.metadata=e;var n=e.lastRemoteSnapshotVersion;t.lastRemoteSnapshotVersion=ct.fromTimestamp(new ut(n.seconds,n.nanos))}return _n.resolve()}))},e.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,this.metadata.lastRemoteSnapshotVersion=t.toTimestamp(),fr(e).put(Yn.key,this.metadata)},e.prototype.addQueryData=function(e,t){var n=this,r=t.targetId,i=hr(e).put(this.serializer.toDbTarget(t));return r>this.metadata.highestTargetId?(this.metadata.highestTargetId=r,i.next((function(){return fr(e).put(Yn.key,n.metadata)}))):i},e.prototype.removeQueryData=function(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){hr(e).delete(t.targetId)}))},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return hr(e).iterate({range:i,index:Gn.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.equals(a.query)&&(o=a,i.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=[],i=dr(e);return t.forEach((function(e){var t=Ln(e.path);r.push(i.put(new Xn(n,t)))})),_n.waitFor(r)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=[],o=dr(e);return t.forEach((function(e){var t=Ln(e.path);i.push(o.delete([n,t])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(e)})),_n.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=dr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return this.notifyGCForRemovedKeys(e,r).next((function(){return n.delete(r)}))},e.prototype.notifyGCForRemovedKeys=function(e,t){var n=this,r=dr(e);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:t,keysOnly:!0},(function(e,t,r){var i=Un(e[1]),o=new _e(i);d(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)})):_n.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dr(e),i=Lt();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Un(e[1]),o=new _e(r);i=i.add(o)})).next((function(){return i}))},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){d(null!==e,"Persistence Transaction cannot be null for query cache containsKey");var n,r=Ln(t.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return dr(e).iterate({index:Xn.documentTargetsIndex,keysOnly:!0,range:i},(function(e,t,n){o++,n.done()})).next((function(){return o>0}))},e}();function hr(e){return pr(e,Gn.store)}function fr(e){return pr(e,Yn.store)}function dr(e){return pr(e,Xn.store)}function pr(e,t){return e instanceof tr?e.store(t):f("Invalid transaction object provided!")}var mr=function(){function e(e){this.serializer=e}return e.prototype.addEntry=function(e,t){return yr(e).put(gr(t.key),this.serializer.toDbRemoteDocument(t))},e.prototype.removeEntry=function(e,t){return yr(e).delete(gr(t))},e.prototype.getEntry=function(e,t){var n=this;return yr(e).get(gr(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this,r=At(),i=t.path.toArray(),o=IDBKeyRange.lowerBound(i);return yr(e).iterate({range:o},(function(e,i,o){var a=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(a.key.path)?a instanceof we&&t.matches(a)&&(r=r.insert(a.key,a)):o.done()})).next((function(){return r}))},e}();function yr(e){return e instanceof tr?e.store(Qn.store):f("Invalid transaction object provided!")}function gr(e){return e.path.toArray()}var vr=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document);if(e.noDocument){var t=_e.fromSegments(e.noDocument.path),n=e.noDocument.readTime,r=new ut(n.seconds,n.nanos);return new Se(t,ct.fromTimestamp(r))}return f("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof we){var t=this.remoteSerializer.toDocument(e);return new Qn(null,t)}var n=e.key.path.toArray(),r=e.version.toTimestamp(),i=new Vn(r.seconds,r.nanos);return new Qn(new Hn(n,i),null)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new zn(e,t.batchId,t.localWriteTime.toEpochMilliseconds(),r)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),r=ut.fromEpochMilliseconds(e.localWriteTimeMs);return new xn(e.batchId,r,n)},e.prototype.fromDbTarget=function(e){var t,n=new ut(e.readTime.seconds,e.readTime.nanos),r=ct.fromTimestamp(n);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new ht(t,e.targetId,tt.Listen,r,e.resumeToken)},e.prototype.toDbTarget=function(e){d(tt.Listen===e.purpose,"Only queries with purpose "+tt.Listen+" may be stored, got "+e.purpose);var t,n=e.snapshotVersion.toTimestamp(),r=new Vn(n.seconds,n.nanos);t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),d("string"===typeof e.resumeToken,"Persisting non-string resume token not supported.");var i=e.resumeToken;return new Gn(e.targetId,e.query.canonicalId(),r,i,0,t)},e}();var br="IndexedDbPersistence",_r="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",wr=function(){function e(t,n){this.ownerId=this.generateOwnerId(),this.dbName=t+e.MAIN_DATABASE,this.serializer=new vr(n),this.localStoragePrefix=t}return e.prototype.start=function(){var t=this;return e.isAvailable()?(d(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Zn.openOrCreate(this.dbName,1,Bn).then((function(e){t.simpleDb=e})).then((function(){return t.tryAcquireOwnerLease()})).then((function(){t.scheduleOwnerLeaseRefreshes(),t.attachWindowUnloadHook()}))):(this.persistenceError=new D(O,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},e.prototype.shutdown=function(){var e=this;return d(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then((function(){e.simpleDb.close()}))},e.prototype.getMutationQueue=function(e){return ir.forUser(e,this.serializer)},e.prototype.getQueryCache=function(){return new lr(this.serializer)},e.prototype.getRemoteDocumentCache=function(){return new mr(this.serializer)},e.prototype.runTransaction=function(e,t){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(c(br,"Starting transaction:",e),this.simpleDb.runTransaction("readwrite",$n,(function(e){return n.ensureOwnerLease(e).next((function(){return t(e)}))})))},e.isAvailable=function(){return Zn.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.tryAcquireOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[qn.store],(function(t){var n=t.store(qn.store);return n.get("owner").next((function(t){if(e.validOwner(t))return c(br,"Valid owner already. Failing. Current owner:",t),e.persistenceError=new D(I,_r),_n.reject(e.persistenceError);var r=new qn(e.ownerId,Date.now());return c(br,"No valid owner. Acquiring owner lease. Current owner:",t,"New owner:",r),n.put("owner",r)}))}))},e.prototype.releaseOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[qn.store],(function(t){var n=t.store(qn.store);return n.get("owner").next((function(t){return null!==t&&t.ownerId===e.ownerId?(c(br,"Releasing owner lease."),n.delete("owner")):_n.resolve()}))}))},e.prototype.ensureOwnerLease=function(e){var t=this;return e.store(qn.store).get("owner").next((function(e){return null===e||e.ownerId!==t.ownerId?(t.persistenceError=new D(I,_r),_n.reject(t.persistenceError)):_n.resolve()}))},e.prototype.validOwner=function(e){var t=Date.now(),n=t-5e3,r=t;return null!==e&&(!(e.leaseTimestampMs<n)&&(e.leaseTimestampMs>r?(l("Persistence owner-lease is in the future. Discarding.",e),!1):e.ownerId!==this.getZombiedOwnerId()))},e.prototype.scheduleOwnerLeaseRefreshes=function(){var e=this;this.ownerLeaseRefreshHandle=setInterval((function(){e.runTransaction("Refresh owner timestamp",(function(t){return t.store(qn.store).put("owner",new qn(e.ownerId,Date.now()))})).catch((function(t){l(t),e.stopOwnerLeaseRefreshes()}))}),4e3)},e.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;this.windowUnloadHandler=function(){e.setZombiedOwnerId(e.ownerId),e.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.getZombiedOwnerId=function(){try{var e=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return c(br,"Zombied ownerID from LocalStorage:",e),e}catch(t){return l(br,"Failed to get zombie owner id.",t),null}},e.prototype.setZombiedOwnerId=function(e){try{null===e?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),e)}catch(t){l(br,"Failed to set zombie owner id.",t)}},e.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},e.prototype.generateOwnerId=function(){return re.newId()},e.MAIN_DATABASE="main",e}(),Sr=function(){function e(e,t){this.remoteDocumentCache=e,this.mutationQueue=t}return e.prototype.getDocument=function(e,t){var n=this;return this.remoteDocumentCache.getEntry(e,t).next((function(r){return n.computeLocalDocument(e,t,r)}))},e.prototype.getDocuments=function(e,t){var n=this,r=[],i=Ot();return t.forEach((function(t){r.push(n.getDocument(e,t).next((function(e){e||(e=new Se(t,ct.forDeletedDoc())),i=i.insert(t,e)})))})),_n.waitFor(r).next((function(){return i}))},e.prototype.getDocumentsMatchingQuery=function(e,t){return _e.isDocumentKey(t.path)?this.getDocumentsMatchingDocumentQuery(e,t.path):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new _e(t)).next((function(e){var t=At();return e instanceof we&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(t){return r.computeLocalDocuments(e,t)})).next((function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){for(var i=Lt(),o=0,a=t;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var c=u[s];n.get(c.key)||(i=i.add(c.key))}var l=[];return i.forEach((function(t){l.push(r.getDocument(e,t).next((function(e){e instanceof we&&(n=n.insert(e.key,e))})))})),_n.waitFor(l)})).next((function(){return n.forEach((function(e,r){t.matches(r)||(n=n.remove(e))})),n}))},e.prototype.computeLocalDocument=function(e,t,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];n=o.applyToLocalView(t,n)}return n}))},e.prototype.computeLocalDocuments=function(e,t){var n=this,r=[];return t.forEach((function(i,o){r.push(n.computeLocalDocument(e,i,o).next((function(e){e instanceof we?t=t.insert(e.key,e):e instanceof Se?t=t.remove(e.key):f("Unknown MaybeDocument: "+e)})))})),_n.waitFor(r).next((function(){return t}))},e}(),Er=function(){function e(e){this.remoteDocumentCache=e,this.changes=Ot()}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this.assertChanges().get(t);return n?_n.resolve(n):this.remoteDocumentCache.getEntry(e,t)},e.prototype.apply=function(e){var t=this,n=this.assertChanges(),r=[];return n.forEach((function(n,i){r.push(t.remoteDocumentCache.addEntry(e,i))})),this.changes=null,_n.waitFor(r)},e.prototype.assertChanges=function(){return d(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Cr=function(){function e(e,t,n){this.persistence=e,this.garbageCollector=n,this.localViewReferences=new En,this.targetIds={},this.targetIdGenerator=Tn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Sr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return e.prototype.start=function(){var e=this;return this.persistence.runTransaction("Start LocalStore",(function(t){return e.startMutationQueue(t).next((function(){return e.startQueryCache(t)}))}))},e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.garbageCollector.removeGarbageSource(t.mutationQueue),t.mutationQueue=t.persistence.getMutationQueue(e),t.garbageCollector.addGarbageSource(t.mutationQueue),t.startMutationQueue(n)})).next((function(){return t.localDocuments=new Sr(t.remoteDocuments,t.mutationQueue),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=Lt(),o=0,a=[r,e];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var c=0,l=u[s].mutations;c<l.length;c++){var h=l[c];i=i.add(h.key)}return t.localDocuments.getDocuments(n,i)}))}))},e.prototype.startQueryCache=function(e){var t=this;return this.queryCache.start(e).next((function(){var e=t.queryCache.getHighestTargetId();t.targetIdGenerator=Tn.forLocalStore(e)}))},e.prototype.startMutationQueue=function(e){var t=this;return this.mutationQueue.start(e).next((function(){return t.heldBatchResults=[],t.mutationQueue.getHighestAcknowledgedBatchId(e)})).next((function(n){return n!==An?t.mutationQueue.getAllMutationBatchesThroughBatchId(e,n):_n.resolve([])})).next((function(n){return n.length>0?t.mutationQueue.removeMutationBatches(e,n):_n.resolve()}))},e.prototype.localWrite=function(e){var t=this;return this.persistence.runTransaction("Locally write mutations",(function(n){var r,i=ut.now();return t.mutationQueue.addMutationBatch(n,i,e).next((function(e){var i=(r=e).keys();return t.localDocuments.getDocuments(n,i)})).next((function(e){return{batchId:r.batchId,changes:e}}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch",(function(n){var r;return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){if(t.shouldHoldBatchResult(e.commitVersion))return t.heldBatchResults.push(e),r=Lt(),_n.resolve();var i=new Er(t.remoteDocuments);return t.releaseBatchResults(n,[e],i).next((function(e){return r=e,i.apply(n)}))})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch",(function(n){var r,i;return t.mutationQueue.lookupMutationBatch(n,e).next((function(i){return d(null!=i,"Attempt to reject nonexistent batch!"),r=i,t.mutationQueue.getHighestAcknowledgedBatchId(n).next((function(t){return d(e>t,"Acknowledged batches can't be rejected."),r}))})).next((function(){return t.removeMutationBatch(n,r)})).next((function(e){return i=e,t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,i)}))}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},e.prototype.applyRemoteEvent=function(e){var t=this,n=new Er(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",(function(r){var i=[];F(e.targetChanges,(function(e,n){var o=t.targetIds[e];if(o){var a=n.mapping;if(a)if(a instanceof Vt)i.push(t.queryCache.removeMatchingKeysForTargetId(r,e).next((function(){return t.queryCache.addMatchingKeys(r,a.documents,e)})));else{if(!(a instanceof qt))return f("Unknown mapping type: "+JSON.stringify(a));i.push(t.queryCache.removeMatchingKeys(r,a.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(r,a.addedDocuments,e)})))}var s=n.resumeToken;s.length>0&&(o=o.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),t.targetIds[e]=o,i.push(t.queryCache.addQueryData(r,o)))}}));var o=Lt();e.documentUpdates.forEach((function(e,a){o=o.add(e),i.push(n.getEntry(r,e).next((function(r){null==r||a.version.equals(ct.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):c("LocalStore","Ignoring outdated watch update for ",e,". Current version:",r.version," Watch version:",a.version),t.garbageCollector.addPotentialGarbageKey(e)})))}));var a,s=t.queryCache.getLastRemoteSnapshotVersion(),u=e.snapshotVersion;return u.equals(ct.MIN)||(d(u.compareTo(s)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+s),i.push(t.queryCache.setLastRemoteSnapshotVersion(r,u))),_n.waitFor(i).next((function(){return t.releaseHeldBatchResults(r,n)})).next((function(e){return a=e,n.apply(r)})).next((function(){return t.localDocuments.getDocuments(r,o.unionWith(a))}))}))},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("Notify local view changes",(function(n){for(var r=[],i=function(e){r.push(t.queryCache.getQueryData(n,e.query).next((function(n){d(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;t.localViewReferences.addReferences(e.addedKeys,r),t.localViewReferences.removeReferences(e.removedKeys,r)})))},o=0,a=e;o<a.length;o++){i(a[o])}return _n.waitFor(r)}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch",(function(n){return void 0===e&&(e=An),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){if(i)return r=i,_n.resolve();var o=t.targetIdGenerator.next();return r=new ht(e,o,tt.Listen),t.queryCache.addQueryData(n,r)})).next((function(){return d(!t.targetIds[r.targetId],"Tried to allocate an already allocated query: "+e),t.targetIds[r.targetId]=r,r}))}))},e.prototype.releaseQuery=function(e){var t=this;return this.persistence.runTransaction("Release query",(function(n){return t.queryCache.getQueryData(n,e).next((function(r){return d(null!=r,"Tried to release nonexistent query: "+e),t.localViewReferences.removeReferencesForId(r.targetId),delete t.targetIds[r.targetId],t.garbageCollector.isEager?t.queryCache.removeQueryData(n,r):_n.resolve()})).next((function(){if(U(t.targetIds)){var e=new Er(t.remoteDocuments);return t.releaseHeldBatchResults(n,e).next((function(){e.apply(n)}))}return _n.resolve()}))}))},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.collectGarbage=function(){var e=this;return this.persistence.runTransaction("Garbage collection",(function(t){return e.garbageCollector.collectGarbage(t).next((function(n){var r=[];return n.forEach((function(n){r.push(e.remoteDocuments.removeEntry(t,n))})),_n.waitFor(r)}))}))},e.prototype.releaseHeldBatchResults=function(e,t){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?_n.resolve(Lt()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(e,n,t))},e.prototype.isRemoteUpToVersion=function(e){var t=this.queryCache.getLastRemoteSnapshotVersion();return e.compareTo(t)<=0||U(this.targetIds)},e.prototype.shouldHoldBatchResult=function(e){return!this.isRemoteUpToVersion(e)||this.heldBatchResults.length>0},e.prototype.releaseBatchResults=function(e,t,n){for(var r=this,i=_n.resolve(),o=function(t){i=i.next((function(){return r.applyWriteToRemoteDocuments(e,t,n)}))},a=0,s=t;a<s.length;a++){o(s[a])}return i.next((function(){return r.removeMutationBatches(e,t.map((function(e){return e.batch})))}))},e.prototype.removeMutationBatch=function(e,t){return this.removeMutationBatches(e,[t])},e.prototype.removeMutationBatches=function(e,t){for(var n=Lt(),r=0,i=t;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++){var s=a[o].key;n=n.add(s)}return this.mutationQueue.removeMutationBatches(e,t).next((function(){return n}))},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=t.batch,i=r.keys(),o=_n.resolve();return i.forEach((function(i){o=o.next((function(){return n.getEntry(e,i)})).next((function(e){var o=e,a=t.docVersions.get(i);d(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,t))?n.addEntry(o):d(!e,"Mutation batch "+r+" applied to document "+e+" resulted in null"))}))})),o},e}(),Tr=function(){function e(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=An,this.lastStreamToken=m(),this.garbageCollector=null,this.batchesByDocumentKey=new Nt(Cn.compareByKey)}return e.prototype.start=function(e){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=An),d(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),_n.resolve()},e.prototype.checkEmpty=function(e){return _n.resolve(0===this.mutationQueue.length)},e.prototype.getNextBatchId=function(e){return _n.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(e){return _n.resolve(this.highestAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId;d(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return d(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),d(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,_n.resolve()},e.prototype.getLastStreamToken=function(e){return _n.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,_n.resolve()},e.prototype.addMutationBatch=function(e,t,n){d(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&d(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new xn(r,t,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Cn(s.key,r))}return _n.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return _n.resolve(this.findMutationBatch(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.mutationQueue.length;t=Math.max(t+1,this.highestAcknowledgedBatchId);for(var r=this.indexOfBatchId(t),i=r<0?0:r;i<n;i++){var o=this.mutationQueue[i];if(!o.isTombstone())return _n.resolve(o)}return _n.resolve(null)},e.prototype.getAllMutationBatches=function(e){return _n.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this.mutationQueue.length,r=this.indexOfBatchId(t);return r<0?r=0:r>=n?r=n:r++,_n.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Cn(t,0),i=new Cn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){d(t.equals(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);d(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),_n.resolve(o)},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=r;_e.isDocumentKey(o)||(o=o.child(""));var a=new Cn(new _e(o),0),s=new Nt(ie);this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===i&&(s=s.add(e.targetOrBatchId)),!0)}),a);var u=[];return s.forEach((function(e){var t=n.findMutationBatch(e);null!==t&&u.push(t)})),_n.resolve(u)},e.prototype.removeMutationBatches=function(e,t){var n=t.length;d(n>0,"Should not remove mutations when none exist.");var r=t[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");d(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;){(p=this.mutationQueue[s]).isTombstone()?s++:(d(p.batchId===t[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++)}if(0===o){for(;s<i;s++){if(!(p=this.mutationQueue[s]).isTombstone())break}var u=s-o;this.mutationQueue.splice(o,u)}else for(var c=o;c<s;c++)this.mutationQueue[c]=this.mutationQueue[c].toTombstone();for(var l=this.batchesByDocumentKey,h=0,f=t;h<f.length;h++)for(var p,m=(p=f[h]).batchId,y=0,g=p.mutations;y<g.length;y++){var v=g[y].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(v);var b=new Cn(v,m);l=l.delete(b)}return this.batchesByDocumentKey=l,_n.resolve()},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new Cn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return _n.resolve(t.equals(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&d(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),_n.resolve()},e.prototype.getAllLiveMutationBatchesBeforeIndex=function(e){for(var t=[],n=0;n<e;n++){var r=this.mutationQueue[n];r.isTombstone()||t.push(r)}return t},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return d(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return d(n.batchId===e,"If found batch must match"),n.isTombstone()?null:n},e}(),kr=function(){function e(){this.queries=new yn((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=ct.MIN,this.highestTargetId=0,this.references=new En}return e.prototype.start=function(e){return _n.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.getHighestTargetId=function(){return this.highestTargetId},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,_n.resolve()},e.prototype.addQueryData=function(e,t){this.queries.set(t.query,t);var n=t.targetId;return n>this.highestTargetId&&(this.highestTargetId=n),_n.resolve()},e.prototype.removeQueryData=function(e,t){return this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),_n.resolve()},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return _n.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.references.addReferences(t,n),_n.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){return this.references.removeReferences(t,n),_n.resolve()},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),_n.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return _n.resolve(n)},e.prototype.setGarbageCollector=function(e){this.references.setGarbageCollector(e)},e.prototype.containsKey=function(e,t){return this.references.containsKey(e,t)},e}(),Ir=function(){function e(){this.docs=Ot()}return e.prototype.addEntry=function(e,t){return this.docs=this.docs.insert(t.key,t),_n.resolve()},e.prototype.removeEntry=function(e,t){return this.docs=this.docs.remove(t),_n.resolve()},e.prototype.getEntry=function(e,t){return _n.resolve(this.docs.get(t))},e.prototype.getDocumentsMatchingQuery=function(e,t){for(var n=At(),r=new _e(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value;if(!t.path.isPrefixOf(a.path))break;s instanceof we&&t.matches(s)&&(n=n.insert(s.key,s))}return _n.resolve(n)},e}(),Nr=function(){function e(){this.mutationQueues={},this.remoteDocumentCache=new Ir,this.queryCache=new kr,this.started=!1}return e.prototype.start=function(){return d(!this.started,"MemoryPersistence double-started!"),this.started=!0,Promise.resolve()},e.prototype.shutdown=function(){return d(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,Promise.resolve()},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Tr,this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t){return c("MemoryPersistence","Starting transaction:",e),t(new Pr).toPromise()},e}(),Pr=function(){},Or=function(){function e(){this.isEager=!1}return e.prototype.addGarbageSource=function(e){},e.prototype.removeGarbageSource=function(e){},e.prototype.addPotentialGarbageKey=function(e){},e.prototype.collectGarbage=function(e){return _n.resolve(Lt())},e}(),Rr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};var Ar,xr=function(){function e(e,t,n){this.initialDelayMs=e,this.backoffFactor=t,this.maxDelayMs=n,this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndWait=function(){var e=new Rr,t=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&c("ExponentialBackoff","Backing off for "+t+" ms (base delay: "+this.currentBaseMs+" ms)"),setTimeout((function(){e.resolve()}),t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs),e.promise},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),Dr=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr="PersistentStream";!function(e){e[e.Initial=0]="Initial",e[e.Auth=1]="Auth",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e[e.Stopped=5]="Stopped"}(Ar||(Ar={}));var Lr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentialsProvider=n,this.idle=!1,this.stream=null,this.listener=null,this.backoff=new xr(r||1e3,1.5,6e4),this.state=Ar.Initial}return e.prototype.isStarted=function(){return this.state===Ar.Backoff||this.state===Ar.Auth||this.state===Ar.Open},e.prototype.isOpen=function(){return this.state===Ar.Open},e.prototype.start=function(e){this.state!==Ar.Error?(d(this.state===Ar.Initial,"Already started"),this.listener=e,this.auth()):this.performBackoff(e)},e.prototype.stop=function(){this.isStarted()&&this.close(Ar.Stopped)},e.prototype.inhibitBackoff=function(){d(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ar.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.idle=!0,this.queue.schedule((function(){return e.handleIdleCloseTimer()}),6e4).catch((function(e){d(e.code===v,"Received unexpected error in idle timeout closure. Expected CANCELLED, but was: "+e)}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return this.isOpen()&&this.idle?this.close(Ar.Initial):Promise.resolve()},e.prototype.cancelIdleCheck=function(){this.idle=!1},e.prototype.close=function(e,t){d(e==Ar.Error||Ge(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),e!=Ar.Error?this.backoff.reset():t&&t.code===k&&(c(Mr,"Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e;var n=this.listener;return this.listener=null,e!=Ar.Stopped?n.onClose(t):Promise.resolve()},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;d(this.state===Ar.Initial,"Must be in initial state to auth"),this.state=Ar.Auth,this.credentialsProvider.getToken(!1).then((function(t){e.startStream(t)}),(function(t){e.queue.schedule((function(){if(e.state!==Ar.Stopped){var n=new D(b,"Fetching auth token failed: "+t.message);return e.handleStreamClose(n)}return Promise.resolve()}))}))},e.prototype.startStream=function(e){var t=this;if(this.state!==Ar.Stopped){d(this.state===Ar.Auth,"Trying to start stream in a non-auth state");var n=function(e,n){t.queue.schedule((function(){return t.stream===e?n():Promise.resolve()}))};if(null!==this.listener){var r=this.startRpc(e);this.stream=r,this.stream.onOpen((function(){n(r,(function(){return d(t.state===Ar.Auth,"Expected stream to be in state auth, but was "+t.state),t.state=Ar.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n(r,(function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n(r,(function(){return t.onMessage(e)}))}))}}},e.prototype.performBackoff=function(e){var t=this;d(this.state===Ar.Error,"Should only perform backoff in an error case"),this.state=Ar.Backoff,this.backoff.backoffAndWait().then((function(){t.queue.schedule((function(){return t.state===Ar.Stopped||(t.state=Ar.Initial,t.start(e),d(t.isStarted(),"PersistentStream should have started")),Promise.resolve()}))}))},e.prototype.handleStreamClose=function(e){return d(this.isStarted(),"Can't handle server close on non-started stream"),c(Mr,"close with error: "+e),this.stream=null,this.close(Ar.Error,e)},e}(),Fr=function(e){function t(t,n,r,i,o,a){var s=e.call(this,n,r,i,a)||this;return s.databaseInfo=t,s.serializer=o,s}return Dr(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Lr),jr=function(e){function t(t,n,r,i,o,a){var s=e.call(this,n,r,i,a)||this;return s.databaseInfo=t,s.serializer=o,s.handshakeComplete_=!1,s}return Dr(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(t){this.handshakeComplete_=!1,e.prototype.start.call(this,t)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(d(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return d(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){d(this.isOpen(),"Writing handshake requires an opened stream"),d(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;d(this.isOpen(),"Writing mutations requires an opened stream"),d(this.handshakeComplete_,"Handshake must be complete before writing mutations"),d(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(Lr),Ur=function(){function e(e,t,n,r,i,o){this.databaseInfo=e,this.queue=t,this.connection=n,this.credentials=r,this.serializer=i,this.initialBackoffDelay=o}return e.prototype.newPersistentWriteStream=function(){return new jr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},e.prototype.newPersistentWatchStream=function(){return new Fr(this.databaseInfo,this.queue,this.connection,this.credentials,this.serializer,this.initialBackoffDelay)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Ot();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);d(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken(!1).then((function(r){return n.connection.invokeRPC(e,t,r)}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken(!1).then((function(r){return n.connection.invokeStreamingRPC(e,t,r)}))},e}(),Br=function(){function e(e){this.datastore=e,this.readVersions=Dt(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t=e.version;e instanceof Se&&(t=ct.forDeletedDoc());var n=this.readVersions.get(e.key);if(null!==n){if(!t.equals(n))throw new D(N,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then((function(e){return e.forEach((function(e){return t.recordVersion(e)})),e}))},e.prototype.write=function(e){if(this.committed)throw new D(I,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?vt.updateTime(t):vt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.equals(ct.forDeletedDoc()))throw new D(I,"Can't update a document that doesn't exist.");return t?vt.updateTime(t):vt.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new Et(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,ct.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach((function(e){t=t.remove(e.key)})),t.isEmpty()?this.datastore.commit(this.mutations).then((function(){e.committed=!0})):Promise.reject(Error("Every document read in a transaction must also be written."))},e}(),Vr="RemoteStore",qr=function(){function e(e,t,n,r,i){this.databaseInfo=e,this.asyncQueue=t,this.localStore=n,this.datastore=r,this.onlineStateHandler=i,this.pendingWrites=[],this.lastBatchSeen=An,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.watchStreamOnlineState=un.Unknown,this.watchStreamFailures=0,this.shouldWarnOffline=!0}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.setOnlineStateToHealthy=function(){this.shouldWarnOffline=!1,this.updateAndBroadcastOnlineState(un.Healthy)},e.prototype.setOnlineStateToUnknown=function(){this.watchStreamFailures=0,this.updateAndBroadcastOnlineState(un.Unknown)},e.prototype.updateOnlineStateAfterFailure=function(){this.watchStreamOnlineState===un.Healthy?this.setOnlineStateToUnknown():(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.shouldWarnOffline&&(c(Vr,"Could not reach Firestore backend."),this.shouldWarnOffline=!1),this.updateAndBroadcastOnlineState(un.Failed)))},e.prototype.updateAndBroadcastOnlineState=function(e){var t=this.watchStreamOnlineState!==e;this.watchStreamOnlineState=e,t&&this.onlineStateHandler(e)},e.prototype.isNetworkEnabled=function(){return d(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},e.prototype.enableNetwork=function(){var e=this;return d(null==this.watchStream,"enableNetwork() called with non-null watchStream."),d(null==this.writeStream,"enableNetwork() called with non-null writeStream."),this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then((function(t){return e.writeStream.lastStreamToken=t,e.shouldStartWatchStream()&&e.startWatchStream(),e.updateAndBroadcastOnlineState(un.Unknown),e.fillWritePipeline()}))},e.prototype.disableNetwork=function(){return this.updateAndBroadcastOnlineState(un.Failed),this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null,Promise.resolve()},e.prototype.shutdown=function(){return c(Vr,"RemoteStore shutting down."),this.disableNetwork(),Promise.resolve(void 0)},e.prototype.listen=function(e){d(!L(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){d(L(this.listenTargets,e),"unlisten called without assigned target ID!");this.listenTargets[e];delete this.listenTargets[e],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(e),U(this.listenTargets)&&this.watchStream.markIdle())},e.prototype.sendWatchRequest=function(e){this.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.recordPendingTargetRequest=function(e){this.pendingTargetResponses[e]=(this.pendingTargetResponses[e]||0)+1},e.prototype.startWatchStream=function(){d(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)})},e.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!U(this.listenTargets)},e.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},e.prototype.onWatchStreamOpen=function(){var e=this;return F(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),Promise.resolve()},e.prototype.onWatchStreamClose=function(e){return d(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.updateOnlineStateAfterFailure(),this.startWatchStream()):this.setOnlineStateToUnknown(),Promise.resolve()},e.prototype.onWatchStreamChange=function(e,t){if(this.setOnlineStateToHealthy(),e instanceof Kt&&e.state===Ut.Removed&&e.cause)return this.handleTargetError(e);if(this.accumulatedWatchChanges.push(e),!t.equals(ct.MIN)&&t.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0){var n=this.accumulatedWatchChanges;return this.accumulatedWatchChanges=[],this.handleWatchChangeBatch(t,n)}return Promise.resolve()},e.prototype.handleWatchChangeBatch=function(e,t){var n=this,r=new Ht(e,this.listenTargets,this.pendingTargetResponses);r.addChanges(t);var i=r.createRemoteEvent();this.pendingTargetResponses=r.pendingTargetResponses;var o=[];return F(r.existenceFilters,(function(t,r){var a=n.listenTargets[t];if(a){var s=a.query;if(s.isDocumentQuery())if(0===r.count){var u=new _e(s.path),c=new Se(u,e);i.addDocumentUpdate(c)}else d(1===r.count,"Single document existence filter with count: "+r.count);else{var l=n.localStore.remoteDocumentKeys(t).then((function(e){if(i.targetChanges[t]){var o=i.targetChanges[t].mapping;null!==o&&(o instanceof qt?e=o.applyToKeySet(e):(d(o instanceof Vt,"Expected either reset or update mapping but got something else: "+o),e=o.documents))}if(e.size!==r.count){i.handleExistenceFilterMismatch(t);var u=new ht(s,t,a.purpose);n.listenTargets[t]=u,n.sendUnwatchRequest(t);var c=new ht(s,t,tt.ExistenceFilterMismatch);n.sendWatchRequest(c)}}));o.push(l)}}})),Promise.all(o).then((function(){return F(i.targetChanges,(function(e,t){if(t.resumeToken.length>0){var r=n.listenTargets[e];r&&(n.listenTargets[e]=r.update({resumeToken:t.resumeToken,snapshotVersion:t.snapshotVersion}))}})),n.syncEngine.applyRemoteEvent(i)}))},e.prototype.handleTargetError=function(e){var t=this;d(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return L(t.listenTargets,e)?(delete t.listenTargets[e],t.syncEngine.rejectListen(e,n)):Promise.resolve()}))})),r},e.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=An,this.pendingWrites=[]},e.prototype.fillWritePipeline=function(){var e=this;return this.canWriteMutations()?this.localStore.nextMutationBatch(this.lastBatchSeen).then((function(t){return null===t?(0==e.pendingWrites.length&&e.writeStream.markIdle(),Promise.resolve()):(e.commit(t),e.fillWritePipeline())})):Promise.resolve()},e.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},e.prototype.outstandingWrites=function(){return this.pendingWrites.length},e.prototype.commit=function(e){d(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=e.batchId,this.pendingWrites.push(e),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},e.prototype.startWriteStream=function(){d(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},e.prototype.onWriteStreamOpen=function(){return this.writeStream.writeHandshake(),Promise.resolve()},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.pendingWrites;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}))},e.prototype.onMutationResult=function(e,t){var n=this;d(this.pendingWrites.length>0,"Got result for empty pending writes");var r=this.pendingWrites.shift(),i=Dn.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){var t=this;if(d(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),e&&this.pendingWrites.length>0){d(!!e,"We have pending writes, but the write stream closed without an error");return(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))}return Promise.resolve()},e.prototype.handleHandshakeError=function(e){return Tt(e.code)||e.code===N?(c(Vr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=m(),this.localStore.setLastStreamToken(m())):Promise.resolve()},e.prototype.handleWriteError=function(e){var t=this;if(Tt(e.code)){var n=this.pendingWrites.shift();return this.writeStream.inhibitBackoff(),this.syncEngine.rejectFailedWrite(n.batchId,e).then((function(){return t.fillWritePipeline()}))}return Promise.resolve()},e.prototype.createTransaction=function(){return new Br(this.datastore)},e.prototype.handleUserChange=function(e){return c(Vr,"RemoteStore changing users: uid=",e.uid),this.disableNetwork(),this.enableNetwork()},e}(),Wr=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r}return e.prototype.start=function(e){var t=this,n=new Rr,r=new Rr,i=!1;return this.credentials.setUserChangeListener((function(o){i?t.asyncQueue.schedule((function(){return t.handleUserChange(o)})):(i=!0,t.initializePersistence(e,r).then((function(){return t.initializeRest(o)})).then(n.resolve,n.reject))})),this.asyncQueue.schedule((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.asyncQueue.schedule((function(){return e.remoteStore.enableNetwork()}))},e.prototype.initializePersistence=function(e,t){var n=this;return e?this.startIndexedDbPersistence().then(t.resolve).catch((function(e){return t.reject(e),n.canFallback(e)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),n.startMemoryPersistence()):Promise.reject(e)})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e.code===I||e.code===O},e.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new Or;var e=wr.buildStoragePrefix(this.databaseInfo),t=new Jt(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new wr(e,t),this.persistence.start()},e.prototype.startMemoryPersistence=function(){return this.garbageCollector=new wn,this.persistence=new Nr,this.persistence.start()},e.prototype.initializeRest=function(e){var t=this;return this.platform.loadConnection(this.databaseInfo).then((function(n){t.localStore=new Cr(t.persistence,e,t.garbageCollector);var r=t.platform.newSerializer(t.databaseInfo.databaseId),i=new Ur(t.databaseInfo,t.asyncQueue,n,t.credentials,r);return t.remoteStore=new qr(t.databaseInfo,t.asyncQueue,t.localStore,i,(function(e){t.eventMgr.onOnlineStateChanged(e)})),t.syncEngine=new Rn(t.localStore,t.remoteStore,e),t.remoteStore.syncEngine=t.syncEngine,t.eventMgr=new vn(t.syncEngine),t.localStore.start()})).then((function(){return t.remoteStore.start()}))},e.prototype.handleUserChange=function(e){return this.asyncQueue.verifyOperationInProgress(),c("FirestoreClient","User Changed: "+e.uid),this.syncEngine.handleUserChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.asyncQueue.schedule((function(){return e.remoteStore.disableNetwork()}))},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.schedule((function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()})).then((function(){return e.persistence.shutdown()}))},e.prototype.listen=function(e,t,n){var r=this,i=new bn(e,t,n);return this.asyncQueue.schedule((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.asyncQueue.schedule((function(){return t.eventMgr.unlisten(e)}))},e.prototype.write=function(e){var t=this,n=new Rr;return this.asyncQueue.schedule((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.asyncQueue.schedule((function(){return Promise.resolve()})).then((function(){return t.syncEngine.runTransaction(e)}))},e}(),zr=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Kr=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.delayedOperationsCount=0,this.operationInProgress=!1}return e.prototype.schedule=function(e,t){var n=this;if(this.failure&&f("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message)),(t||0)>0){this.delayedOperationsCount++;var r={handle:null,op:e,deferred:new Rr};return r.handle=setTimeout((function(){n.scheduleInternal((function(){return r.op().then((function(e){r.deferred.resolve(e)}))})),r.handle=null,n.delayedOperationsCount--,0===n.delayedOperationsCount&&(n.delayedOperations=[])}),t),this.delayedOperations.push(r),r.deferred.promise}return this.scheduleInternal(e)},e.prototype.scheduleInternal=function(e){var t=this;return this.tail=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw l("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(){t.operationInProgress=!1}))})),this.tail},e.prototype.verifyOperationInProgress=function(){d(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(e){var t=this;return this.delayedOperations.forEach((function(n){n.handle&&(clearTimeout(n.handle),e?t.scheduleInternal(n.op).then(n.deferred.resolve,n.deferred.reject):n.deferred.reject(new D(v,"Operation cancelled by shutdown")))})),this.delayedOperations=[],this.delayedOperationsCount=0,this.schedule((function(){return Promise.resolve()}))},e}(),Hr=function(){function e(e){this.uid=e}return e.prototype.isUnauthenticated=function(){return null==this.uid},e.prototype.toKey=function(){return this.isUnauthenticated()?"anonymous-user":"uid:"+this.uid},e.prototype.equals=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Qr=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Gr=function(){function e(){this.userListener=null}return e.prototype.getToken=function(e){return Promise.resolve(null)},e.prototype.setUserChangeListener=function(e){d(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,e(Hr.UNAUTHENTICATED)},e.prototype.removeUserChangeListener=function(){d(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},e}(),Xr=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var e=t.getUser();t.currentUser&&e.equals(t.currentUser)||(t.currentUser=e,t.userCounter++,t.userListener&&t.userListener(t.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(e){var t=this;d(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(e).then((function(e){if(t.userCounter!==n)throw new D(N,"getToken aborted due to uid change.");return e?(d("string"===typeof e.accessToken,"Invalid tokenData returned from getToken():"+e),new Qr(e.accessToken,t.currentUser)):null}))},e.prototype.setUserChangeListener=function(e){d(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeUserChangeListener=function(){d(null!=this.tokenListener,"removeUserChangeListener() called twice"),d(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},e.prototype.getUser=function(){"function"!==typeof this.app.INTERNAL.getUid&&f("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var e=this.app.INTERNAL.getUid();return d(null===e||"string"===typeof e,"Received invalid UID: "+e),new Hr(e)},e}(),Yr=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Hr.FIRST_PARTY,d(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),e}(),$r=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,d(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return e.prototype.getToken=function(e){return Promise.resolve(new Yr(this.gapi,this.sessionIndex))},e.prototype.setUserChangeListener=function(e){e(Hr.FIRST_PARTY)},e.prototype.removeUserChangeListener=function(){},e}();function Jr(e){if(!e)return new Gr;switch(e.type){case"gapi":return new $r(e.client,e.sessionIndex||"0");case"provider":return e.client;default:throw new D(_,"makeCredentialsProvider failed due to invalid credential type")}}function Zr(e){return function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}(e,["next","error","complete"])}var ei,ti=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ni=function(){function e(){}return e.delete=function(){return ri.instance},e.serverTimestamp=function(){return ii.instance},e}(),ri=function(e){function t(){return e.call(this)||this}return ti(t,e),t.instance=new t,t}(ni),ii=function(e){function t(){return e.call(this)||this}return ti(t,e),t.instance=new t,t}(ni),oi=M(ni,"Use FieldValue.<field>() instead."),ai=/^__.*__$/,si=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new wt(e,this.data,this.fieldMask,t)):n.push(new _t(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new St(e,this.fieldTransforms)),n},e}(),ui=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new wt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new St(e,this.fieldTransforms)),n},e}();function ci(e){switch(e){case ei.Set:case ei.MergeSet:case ei.Update:return!0;case ei.QueryValue:return!1;default:throw f("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.QueryValue=3]="QueryValue"}(ei||(ei={}));var li=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new D(_,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(ci(this.dataSource)&&ai.test(e))throw this.createError("Document fields cannot begin and end with __")},e.prototype.isWrite=function(){return this.dataSource===ei.Set||this.dataSource===ei.Update},e}(),hi=function(e,t){this.databaseId=e,this.key=t},fi=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new li(ei.Set,e,be.EMPTY_PATH);pi("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new si(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t){var n=new li(ei.MergeSet,e,be.EMPTY_PATH);pi("Data must be an object, but it was:",n,t);var r=this.parseData(t,n),i=new dt(n.fieldMask);return new si(r,i,n.fieldTransforms)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new li(ei.Update,e,be.EMPTY_PATH);pi("Data must be an object, but it was:",r,t);var i=[],o=qe.EMPTY;j(t,(function(t,a){var s=yi(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof ri)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}}));var a=new dt(i);return new ui(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new li(ei.Update,e,be.EMPTY_PATH),o=[mi(e,t)],a=[n];if(r.length%2!==0)throw new D(_,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(mi(e,r[s])),a.push(r[s+1]);var u=[],c=qe.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof ri)u.push(l);else{var d=this.parseData(f,h);null!=d&&(u.push(l),c=c.set(l,d))}}var p=new dt(u);return new ui(c,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new li(ei.QueryValue,e,be.EMPTY_PATH),r=this.parseData(t,n);return d(null!=r,"Parsed data should not be null."),d(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=gi(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if((e=this.runPreConverter(e,t))instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return t.path&&t.fieldMask.push(t.path),this.parseArray(e,t)}return di(e)?(pi("Unsupported field value:",t,e),this.parseObject(e,t)):(t.path&&t.fieldMask.push(t.path),this.parseScalarValue(e,t))},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Oe.INSTANCE),n.push(s),r++}return new We(n)},e.prototype.parseObject=function(e,t){var n=this,r=new Ee(ie);return j(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new qe(r)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Oe.INSTANCE;if("number"===typeof e)return function(e){return Qe(e)&&e<=He&&e>=Ke}(e)?new De(e):new Me(e);if("boolean"===typeof e)return Re.of(e);if("string"===typeof e)return new Le(e);if(e instanceof Date)return new Fe(ut.fromDate(e));if(e instanceof le)return new Ve(e);if(e instanceof ue)return new Ue(e);if(e instanceof hi)return new Be(e.databaseId,e.key);if(e instanceof ni){if(e instanceof ri){if(t.dataSource==ei.MergeSet)return null;throw t.dataSource===ei.Update?(d(null==t.path||t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() can only be used with update() and set() with {merge:true}")}if(e instanceof ii){if(!ci(t.dataSource))throw t.createError("FieldValue.serverTimestamp() can only be used with set() and update()");if(null===t.path)throw t.createError("FieldValue.serverTimestamp() is not currently supported inside arrays");return t.fieldTransforms.push(new mt(t.path,pt.instance)),null}return f("Unknown FieldValue type: "+e)}throw t.createError("Unsupported field value: "+$(e))},e}();function di(e){return"object"===typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof le)&&!(e instanceof ue)&&!(e instanceof hi)&&!(e instanceof ni)}function pi(e,t,n){if(!di(n)||!Y(n)){var r=$(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function mi(e,t){if(t instanceof hn)return t._internalPath;if("string"===typeof t)return yi(e,t);throw new D(_,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function yi(e,t){try{return function(e){if(e.search(fn)>=0)throw new D(_,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(hn.bind.apply(hn,[void 0].concat(e.split("."))))}catch(t){throw new D(_,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=gi(r);throw new D(_,"Function "+e+"() called with invalid data. "+n)}}function gi(e){return e instanceof Error?e.message:e.toString()}var vi=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bi=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new D(_,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=true}else Q("settings","string","host",e.host),this.host=e.host,G("settings","boolean","ssl",e.ssl),this.ssl=(t=e.ssl,n=!0,void 0!==t?t:n);var t,n;Z("settings",e,["host","ssl","credentials"]),G("settings","object","credentials",e.credentials),this.credentials=e.credentials}return e.prototype.equals=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials},e}(),_i=function(){},wi=function(){function e(t){var n=this;this._queue=new Kr,this.INTERNAL={delete:function(){return n._firestoreClient?n._firestoreClient.shutdown():Promise.resolve()},disableNetwork:function(){return n._firestoreClient.disableNetwork()},enableNetwork:function(){return n._firestoreClient.enableNetwork()},drainAsyncQueue:function(e){return n._queue.drain(e)}};var r=new _i;if("object"===typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Xr(i)}else{var o=t;if(!o.projectId)throw new D(_,"Must provide projectId");r.databaseId=new de(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Gr}r.settings=new bi({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(V("Firestore.settings",arguments,1),K("Firestore.settings","object",1,e),L(e,"persistence"))throw new D(_,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new bi(e);if(this._firestoreClient&&!this._config.settings.equals(t))throw new D(I,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=Jr(t.credentials))},e.prototype.enablePersistence=function(){if(this._firestoreClient)throw new D(I,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},e.prototype.configureClient=function(e){var t=this;d(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),d(!this._firestoreClient,"configureClient() called multiple times");var n=new he(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new fi((function(e){if(e instanceof Ci){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.equals(n))throw new D(_,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new hi(t._config.databaseId,e._key)}return e})),this._firestoreClient=new Wr(p.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!L(t,"projectId")){if(L(t,"firestoreId"))throw new D(_,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new D(_,'"projectId" not provided in firebase.initializeApp.')}if(L(t,"firestoreOptions"))throw new D(_,'"firestoreOptions" values are now specified with Firestore.settings()');var n=t.projectId;if(!n||"string"!==typeof n)throw new D(_,"projectId must be a string in FirebaseApp.options");return new de(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new D(I,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(V("Firestore.collection",arguments,1),K("Firestore.collection","string",1,e),!e)throw new D(_,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Ni(ge.fromString(e),this)},e.prototype.doc=function(e){if(V("Firestore.doc",arguments,1),K("Firestore.doc","string",1,e),!e)throw new D(_,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Ci.forPath(ge.fromString(e),this)},e.prototype.runTransaction=function(e){var t=this;return V("Firestore.runTransaction",arguments,1),K("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Si(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ei(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(s()){case r.DEBUG:return"debug";case r.ERROR:return"error";case r.SILENT:return"silent";default:return f("Unknown log level: "+s())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(V("Firestore.setLogLevel",arguments,1),K("Firestore.setLogLevel","string",1,e),e){case"debug":u(r.DEBUG);break;case"error":u(r.ERROR);break;case"silent":u(r.SILENT);break;default:throw new D(_,"Invalid log level: "+e)}},e}(),Si=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;V("Transaction.get",arguments,1);var n=Oi("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return f("Mismatch in docs returned from document lookup.");var r=e[0];return new Ti(t._firestore,n._key,r instanceof Se?null:r,!1)}))},e.prototype.set=function(e,t,n){W("Transaction.set",arguments,2,3);var r=Oi("Transaction.set",e,this._firestore),i=(n=Pi("Transaction.set",n)).merge?this._firestore._dataConverter.parseMergeData("Transaction.set",t):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"===typeof t||t instanceof hn?(q("Transaction.update",arguments,3),r=Oi("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(V("Transaction.update",arguments,2),r=Oi("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){V("Transaction.delete",arguments,1);var t=Oi("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Ei=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){W("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Oi("WriteBatch.set",e,this._firestore),i=(n=Pi("WriteBatch.set",n)).merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,vt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"===typeof t||t instanceof hn?(q("WriteBatch.update",arguments,3),r=Oi("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(V("WriteBatch.update",arguments,2),r=Oi("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,vt.exists(!0))),this},e.prototype.delete=function(e){V("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Oi("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Et(t._key,vt.NONE)),this},e.prototype.commit=function(){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._firestore.ensureClientConfigured().write(this._mutations):Promise.resolve()},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new D(I,"A write batch can no longer be used after commit() has been called.")},e}(),Ci=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new D(_,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new _e(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ni(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(V("DocumentReference.collection",arguments,1),K("DocumentReference.collection","string",1,e),!e)throw new D(_,"Must provide a non-empty collection name to collection()");var t=ge.fromString(e);return new Ni(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ee("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.equals(t._key)},e.prototype.set=function(e,t){W("DocumentReference.set",arguments,1,2);var n=(t=Pi("DocumentReference.set",t)).merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,vt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"===typeof e||e instanceof hn?(q("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(V("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,vt.exists(!0)))},e.prototype.delete=function(){return V("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Et(this._key,vt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];W("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof e[i]||Zr(e[i])||(Z("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),G("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeDocumentMetadataChanges:r.includeMetadataChanges,includeQueryMetadataChanges:r.includeMetadataChanges};return Zr(e[i])?n=e[i]:(K("DocumentReference.onSnapshot","function",i,e[i]),H("DocumentReference.onSnapshot","function",i+1,e[i+1]),H("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zr({next:function(e){if(t.next){d(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Ti(n.firestore,n._key,r,e.fromCache))}},error:r}),o=this._firestoreClient.listen(Xe.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(){var e=this;return V("DocumentReference.get",arguments,0),new Promise((function(t,n){var r=e.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){r(),!e.exists&&e.metadata.fromCache?n(new D(N,"Failed to get document because the client is offline.")):t(e)},error:n})}))},e}(),Ti=function(){function e(e,t,n,r){this._firestore=e,this._key=t,this._document=n,this._fromCache=r}return e.prototype.data=function(){if(V("DocumentSnapshot.data",arguments,0),!this._document)throw new D(S,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.data().");return this.convertObject(this._document.data)},e.prototype.get=function(e){if(V("DocumentSnapshot.get",arguments,1),!this._document)throw new D(S,"This document doesn't exist. Check doc.exists to make sure the document exists before calling doc.get().");var t=this._document.data.field(mi("DocumentSnapshot.get",e));return void 0===t?void 0:this.convertValue(t)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ci(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return{hasPendingWrites:null!==this._document&&this._document.hasLocalMutations,fromCache:this._fromCache}},enumerable:!0,configurable:!0}),e.prototype.convertObject=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.convertValue(r)})),n},e.prototype.convertValue=function(e){if(e instanceof qe)return this.convertObject(e);if(e instanceof We)return this.convertArray(e);if(e instanceof Be){var t=e.value(),n=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.equals(n)||l("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),new Ci(t,this._firestore)}return e.value()},e.prototype.convertArray=function(e){var t=this;return e.internalValue.map((function(e){return t.convertValue(e)}))},e}(),ki=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){var i;V("Query.where",arguments,3),K("Query.where","string",2,n),J("Query.where",3,r);var o=mi("Query.where",t);if(o.isKeyField())if("string"===typeof r){if(-1!==r.indexOf("/"))throw new D(_,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new D(_,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new ge([r]));d(a.length%2===0,"Path should be a document key"),i=new Be(this.firestore._databaseId,new _e(a))}else{if(!(r instanceof Ci))throw new D(_,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+$(r)+".");var s=r;i=new Be(this.firestore._databaseId,s._key)}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=et(o,Ye.fromString(n),i);return this.validateNewFilter(u),new e(this._query.addFilter(u),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(W("Query.orderBy",arguments,1,2),H("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=nt.ASCENDING;else{if("desc"!==n)throw new D(_,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=nt.DESCENDING}if(null!==this._query.startAt)throw new D(_,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new D(_,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=mi("Query.orderBy",t),o=new it(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(V("Query.limit",arguments,1),K("Query.limit","number",1,t),t<=0)throw new D(_,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];q("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ee("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.equals(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(J(e,1,t),t instanceof Ti){if(n.length>0)throw new D(_,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new D(S,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Be(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new D(_,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new rt(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new D(_,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new D(_,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new D(_,"Invalid query. Document ID '"+a+"' contains a slash in "+e+"()");var s=new _e(this._query.path.child(a));i.push(new Be(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(e,a);i.push(u)}}return new rt(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];W("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof e[i]||Zr(e[i])||(Z("Query.onSnapshot",r=e[i],["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),G("Query.onSnapshot","boolean","includeDocumentMetadataChanges",r.includeDocumentMetadataChanges),G("Query.onSnapshot","boolean","includeQueryMetadataChanges",r.includeQueryMetadataChanges),i++),Zr(e[i])?n=e[i]:(K("Query.onSnapshot","function",i,e[i]),H("Query.onSnapshot","function",i+1,e[i+1]),H("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zr({next:function(e){t.next&&t.next(new Ii(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(){var e=this;return V("Query.get",arguments,0),new Promise((function(t,n){var r=e.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(e){r(),t(e)},error:n})}))},e.prototype.validateNewFilter=function(e){if(e instanceof $e&&e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.equals(e.field))throw new D(_,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+e.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.equals(e))throw new D(_,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Ii=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this.metadata={fromCache:n.fromCache,hasPendingWrites:n.hasPendingWrites}}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;W("QuerySnapshot.forEach",arguments,1,2),K("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new ki(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=function(e,t){if(t.oldDocs.isEmpty()){var n,r=0;return t.docChanges.map((function(i){var o=new Ti(e,i.doc.key,i.doc,t.fromCache);return d(i.type===cn.Added,"Invalid event type for first snapshot"),d(!n||t.query.docComparator(n,i.doc)<0,"Got added events in wrong order"),n=i.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}}))}var i=t.oldDocs;return t.docChanges.map((function(n){var r=new Ti(e,n.doc.key,n.doc,t.fromCache),o=-1,a=-1;return n.type!==cn.Added&&(d((o=i.indexOf(n.doc.key))>=0,"Index for document not found"),i=i.delete(n.doc.key)),n.type!==cn.Removed&&(a=(i=i.add(n.doc)).indexOf(n.doc.key)),{type:Ri(n.type),doc:r,oldIndex:o,newIndex:a}}))}(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),e.prototype.convertToDocumentImpl=function(e){return new Ti(this._firestore,e.key,e,this.metadata.fromCache)},e}(),Ni=function(e){function t(t,n){var r=e.call(this,Xe.atPath(t),n)||this;if(t.length%2!==1)throw new D(_,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return vi(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Ci(new _e(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(W("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=re.newId()),K("CollectionReference.doc","string",1,e),""===e)throw new D(_,"Document path must be a non-empty string");var t=ge.fromString(e);return Ci.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){V("CollectionReference.add",arguments,1),K("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(ki);function Pi(e,t){return void 0===t?{merge:!1}:(Z(e,t,["merge"]),G(e,"boolean","merge",t.merge),t)}function Oi(e,t,n){if(t instanceof Ci){if(t.firestore!==n)throw new D(_,"Provided document reference is from a different Firestore instance.");return t}throw ee(e,"DocumentReference",1,t)}function Ri(e){switch(e){case cn.Added:return"added";case cn.Modified:case cn.Metadata:return"modified";case cn.Removed:return"removed";default:return f("Unknown change type: "+e)}}var Ai=M(wi,"Use firebase.firestore() instead."),xi=M(Si,"Use firebase.firestore().runTransaction() instead."),Di=M(Ei,"Use firebase.firestore().batch() instead."),Mi=M(Ci,"Use firebase.firestore().doc() instead."),Li=M(Ti),Fi=M(ki),ji=M(Ii),Ui=M(Ni,"Use firebase.firestore().collection() instead."),Bi={Firestore:Ai,GeoPoint:le,Blob:ce,Transaction:xi,WriteBatch:Di,DocumentReference:Mi,DocumentSnapshot:Li,Query:Fi,QuerySnapshot:ji,CollectionReference:Ui,FieldPath:hn,FieldValue:oi,setLogLevel:wi.setLogLevel};function Vi(e){e.INTERNAL.registerService("firestore",(function(e){return new wi(e)}),B(Bi))}Vi(i.default)},3326:function(e,t,n){"use strict";n.r(t),n.d(t,{registerMessaging:function(){return k}});var r,i=n(3584),o={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key"},a={codes:o,map:((r={})[o.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",r[o.AVAILABLE_IN_SW]="This method is available in a service worker context.",r[o.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",r[o.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r[o.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",r[o.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",r[o.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",r[o.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",r[o.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",r[o.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",r[o.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",r[o.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",r[o.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",r[o.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",r[o.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",r[o.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",r[o.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",r[o.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r[o.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",r[o.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r[o.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",r[o.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",r[o.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",r[o.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r[o.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",r[o.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r[o.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",r[o.BAD_SCOPE]="The service worker scope must be a string with at least one character.",r[o.BAD_VAPID_KEY]="The public VAPID key must be a string with at least one character.",r[o.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",r[o.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",r[o.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",r[o.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",r)};function s(e){var t=function(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var u=[4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110],c={ENDPOINT:"https://fcm.googleapis.com",APPLICATION_SERVER_KEY:u,SUBSCRIPTION_OPTIONS:{userVisibleOnly:!0,applicationServerKey:new Uint8Array(u)}},l="fcm_token_object_Store",h=function(){function e(){this.errorFactory_=new i.ErrorFactory("messaging","Messaging",a.map),this.openDbPromise_=null}return e.prototype.openDatabase_=function(){return this.openDbPromise_||(this.openDbPromise_=new Promise((function(t,n){var r=indexedDB.open(e.DB_NAME,1);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(l,{keyPath:"swScope"});t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}))),this.openDbPromise_},e.prototype.closeDatabase=function(){var e=this;return this.openDbPromise_?this.openDbPromise_.then((function(t){t.close(),e.openDbPromise_=null})):Promise.resolve()},e.prototype.getTokenDetailsFromToken=function(e){return this.openDatabase_().then((function(t){return new Promise((function(n,r){var i=t.transaction([l]).objectStore(l).index("fcmToken").get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}}))}))},e.prototype.getTokenDetailsFromSWScope_=function(e){return this.openDatabase_().then((function(t){return new Promise((function(n,r){var i=t.transaction([l]).objectStore(l).get(e);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}}))}))},e.prototype.getAllTokenDetailsForSenderId_=function(e){return this.openDatabase_().then((function(t){return new Promise((function(n,r){var i=t.transaction([l]).objectStore(l),o=[],a=i.openCursor();a.onerror=function(e){r(e.target.error)},a.onsuccess=function(t){var r=t.target.result;r?(r.value.fcmSenderId===e&&o.push(r.value),r.continue()):n(o)}}))}))},e.prototype.subscribeToFCM=function(e,t,n){var r=this,i=s(t.getKey("p256dh")),o=s(t.getKey("auth")),u="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+i+"&encryption_auth="+o;n&&(u+="&pushSet="+n);var l=new Headers;return l.append("Content-Type","application/x-www-form-urlencoded"),fetch(c.ENDPOINT+"/fcm/connect/subscribe",{method:"POST",headers:l,body:u}).then((function(e){return e.json()})).then((function(e){var t=e;if(t.error){var n=t.error.message;throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw r.errorFactory_.create(a.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}}))},e.prototype.isSameSubscription_=function(e,t){return e.endpoint===t.endpoint&&s(e.getKey("auth"))===t.auth&&s(e.getKey("p256dh"))===t.p256dh},e.prototype.saveTokenDetails_=function(e,t,n,r,i){var o={swScope:t.scope,endpoint:n.endpoint,auth:s(n.getKey("auth")),p256dh:s(n.getKey("p256dh")),fcmToken:r,fcmPushSet:i,fcmSenderId:e};return this.openDatabase_().then((function(e){return new Promise((function(t,n){var r=e.transaction([l],"readwrite").objectStore(l).put(o);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t()}}))}))},e.prototype.getSavedToken=function(e,t){var n=this;return t instanceof ServiceWorkerRegistration?"string"!==typeof e||0===e.length?Promise.reject(this.errorFactory_.create(a.codes.BAD_SENDER_ID)):this.getAllTokenDetailsForSenderId_(e).then((function(n){if(0!==n.length){var r=n.findIndex((function(n){return t.scope===n.swScope&&e===n.fcmSenderId}));if(-1!==r)return n[r]}})).then((function(e){if(e)return t.pushManager.getSubscription().catch((function(e){throw n.errorFactory_.create(a.codes.GET_SUBSCRIPTION_FAILED)})).then((function(t){if(t&&n.isSameSubscription_(t,e))return e.fcmToken}))})):Promise.reject(this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED))},e.prototype.createToken=function(e,t){var n,r,i=this;return"string"!==typeof e||0===e.length?Promise.reject(this.errorFactory_.create(a.codes.BAD_SENDER_ID)):t instanceof ServiceWorkerRegistration?t.pushManager.getSubscription().then((function(e){return e||t.pushManager.subscribe(c.SUBSCRIPTION_OPTIONS)})).then((function(t){return n=t,i.subscribeToFCM(e,n)})).then((function(o){return r=o,i.saveTokenDetails_(e,t,n,r.token,r.pushSet)})).then((function(){return r.token})):Promise.reject(this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED))},e.prototype.deleteToken=function(e){var t=this;return"string"!==typeof e||0===e.length?Promise.reject(this.errorFactory_.create(a.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then((function(e){if(!e)throw t.errorFactory_.create(a.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase_().then((function(n){return new Promise((function(r,i){var o=n.transaction([l],"readwrite").objectStore(l).delete(e.swScope);o.onerror=function(e){i(e.target.error)},o.onsuccess=function(n){0!==n.target.result?r(e):i(t.errorFactory_.create(a.codes.FAILED_TO_DELETE_TOKEN))}}))}))}))},e}(),f="granted",d="denied",p=function(){function e(e){var t=this;if(this.errorFactory_=new i.ErrorFactory("messaging","Messaging",a.map),!e.options.messagingSenderId||"string"!==typeof e.options.messagingSenderId)throw this.errorFactory_.create(a.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options.messagingSenderId,this.tokenManager_=new h,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}}return e.prototype.getToken=function(){var e=this,t=this.getNotificationPermission_();return t!==f?t===d?Promise.reject(this.errorFactory_.create(a.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null):this.getSWRegistration_().then((function(t){return e.tokenManager_.getSavedToken(e.messagingSenderId_,t).then((function(n){return n||e.tokenManager_.createToken(e.messagingSenderId_,t)}))}))},e.prototype.deleteToken=function(e){var t=this;return this.tokenManager_.deleteToken(e).then((function(){return t.getSWRegistration_().then((function(e){if(e)return e.pushManager.getSubscription()})).then((function(e){if(e)return e.unsubscribe()}))}))},e.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(a.codes.SHOULD_BE_INHERITED)},e.prototype.requestPermission=function(){throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw this.errorFactory_.create(a.codes.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw this.errorFactory_.create(a.codes.AVAILABLE_IN_SW)},e.prototype.delete=function(){return this.tokenManager_.closeDatabase()},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenManager=function(){return this.tokenManager_},e}(),m={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},y=m,g={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},v=function(e,t){var n;return(n={})[m.TYPE_OF_MSG]=e,n[m.DATA]=t,n},b="/firebase-messaging-sw.js",_="/firebase-cloud-messaging-push-scope",w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=(0,i.createSubscribe)((function(e){n.messageObserver_=e})),n.tokenRefreshObserver_=null,n.onTokenRefresh_=(0,i.createSubscribe)((function(e){n.tokenRefreshObserver_=e})),n.setupSWMessageListener_(),n}return w(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then((function(){return e.prototype.getToken.call(t)})):Promise.reject(this.errorFactory_.create(a.codes.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=t?fetch(t.href).then((function(e){return e.json()})).catch((function(){return Promise.resolve()})).then((function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(a.codes.INCORRECT_GCM_SENDER_ID)})):Promise.resolve(),this.manifestCheckPromise_},t.prototype.requestPermission=function(){var e=this;return Notification.permission===f?Promise.resolve():new Promise((function(t,n){var r=function(r){return r===f?t():n(r===d?e.errorFactory_.create(a.codes.PERMISSION_BLOCKED):e.errorFactory_.create(a.codes.PERMISSION_DEFAULT))},i=Notification.requestPermission((function(e){i||r(e)}));i&&i.then(r)}))},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(a.codes.SW_REGISTRATION_EXPECTED);if("undefined"!==typeof this.registrationToUse_)throw this.errorFactory_.create(a.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e},t.prototype.onMessage=function(e,t,n){return this.onMessage_(e,t,n)},t.prototype.onTokenRefresh=function(e,t,n){return this.onTokenRefresh_(e,t,n)},t.prototype.waitForRegistrationToActivate_=function(e){var t=this,n=e.installing||e.waiting||e.active;return new Promise((function(r,i){if(n)if("activated"!==n.state)if("redundant"!==n.state){n.addEventListener("statechange",(function o(){if("activated"===n.state)r(e);else{if("redundant"!==n.state)return;i(t.errorFactory_.create(a.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",o)}))}else i(t.errorFactory_.create(a.codes.SW_REG_REDUNDANT));else r(e);else i(t.errorFactory_.create(a.codes.NO_SW_IN_REG))}))},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(b,{scope:_}).catch((function(t){throw e.errorFactory_.create(a.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})})).then((function(t){return e.waitForRegistrationToActivate_(t).then((function(){return e.registrationToUse_=t,t.update(),t}))})))},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(t){if(t.data&&t.data[y.TYPE_OF_MSG]){var n=t.data;switch(n[y.TYPE_OF_MSG]){case g.PUSH_MSG_RECEIVED:case g.NOTIFICATION_CLICKED:var r=n[y.DATA];e.messageObserver_.next(r)}}}),!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(p),E=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(e){function t(t){var n=e.call(this,t)||this;return self.addEventListener("push",(function(e){return n.onPush_(e)}),!1),self.addEventListener("pushsubscriptionchange",(function(e){return n.onSubChange_(e)}),!1),self.addEventListener("notificationclick",(function(e){return n.onNotificationClick_(e)}),!1),n.bgMessageHandler_=null,n}return E(t,e),t.prototype.onPush_=function(e){var t,n=this;try{t=e.data.json()}catch(i){return}var r=this.hasVisibleClients_().then((function(e){if(e)return t.notification||n.bgMessageHandler_?n.sendMessageToWindowClients_(t):void 0;var r=n.getNotificationData_(t);if(r){var i=r.title||"";return self.registration.showNotification(i,r)}return n.bgMessageHandler_?n.bgMessageHandler_(t):void 0}));e.waitUntil(r)},t.prototype.onSubChange_=function(e){var t=this,n=this.getToken().then((function(e){if(!e)throw t.errorFactory_.create(a.codes.NO_FCM_TOKEN_FOR_RESUBSCRIBE);var n=null,r=t.getTokenManager();return r.getTokenDetailsFromToken(e).then((function(e){if(!(n=e))throw t.errorFactory_.create(a.codes.INVALID_SAVED_TOKEN);return self.registration.pushManager.subscribe(c.SUBSCRIPTION_OPTIONS)})).then((function(e){return r.subscribeToFCM(n.fcmSenderId,e,n.fcmPushSet)})).catch((function(e){return r.deleteToken(n.fcmToken).then((function(){throw t.errorFactory_.create(a.codes.UNABLE_TO_RESUBSCRIBE,{message:e})}))}))}));e.waitUntil(n)},t.prototype.onNotificationClick_=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=this.getWindowClient_(r).then((function(e){return e||self.clients.openWindow(r)})).then((function(e){if(e){n.notification;delete n.notification;var r=v(g.NOTIFICATION_CLICKED,n);return t.attemptToMessageClient_(e,r)}}));e.waitUntil(i)}}},t.prototype.getNotificationData_=function(e){if(e&&"object"===typeof e.notification){var t,n=Object.assign({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}},t.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!==typeof e)throw this.errorFactory_.create(a.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e},t.prototype.getWindowClient_=function(e){var t=new URL(e).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){for(var n=null,r=0;r<e.length;r++){if(new URL(e[r].url).href===t){n=e[r];break}}if(n)return n.focus(),n}))},t.prototype.attemptToMessageClient_=function(e,t){var n=this;return new Promise((function(r,i){if(!e)return i(n.errorFactory_.create(a.codes.NO_WINDOW_CLIENT_TO_MSG));e.postMessage(t),r()}))},t.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){return e.some((function(e){return"visible"===e.visibilityState}))}))},t.prototype.sendMessageToWindowClients_=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(n){var r=v(g.PUSH_MSG_RECEIVED,e);return Promise.all(n.map((function(e){return t.attemptToMessageClient_(e,r)})))}))},t.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},t}(p),T=C;function k(e){var t={Messaging:S};e.INTERNAL.registerService("messaging",(function(e){return self&&"ServiceWorkerGlobalScope"in self?new T(e):new S(e)}),t)}k(n(2787).default)},5883:function(e,t,n){"use strict";n.r(t);n(3669),n(7202),n(7283)},3669:function(e,t,n){var r=function(){if("undefined"!==typeof n.g)return n.g;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self;throw new Error("unable to locate global object")}();"undefined"===typeof Promise&&(r.Promise=Promise=n(3274))},7202:function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}})},7283:function(){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}})},5215:function(e,t,n){"use strict";n.r(t),n.d(t,{registerStorage:function(){return ht}});var r=n(2787),i=function(){function e(e,t){this.code_=E(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return E(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),o="unknown",a="object-not-found",s="quota-exceeded",u="unauthenticated",c="unauthorized",l="retry-limit-exceeded",h="canceled",f="invalid-url",d="invalid-default-bucket",p="cannot-slice-blob",m="server-file-wrong-size",y="no-download-url",g="invalid-argument",v="invalid-argument-count",b="app-deleted",_="invalid-root-operation",w="invalid-format",S="internal-error";function E(e){return"storage/"+e}function C(){return new i(o,"An unknown error occurred, please check the error payload for server response.")}function T(){return new i(h,"User canceled the upload/download.")}function k(){return new i(p,"Cannot slice blob for upload. Please retry the upload.")}function I(){return new i(y,"The given file does not have any download URLs.")}function N(e,t,n){return new i(g,"Invalid argument in `"+t+"` at index "+e+": "+n)}function P(){return new i(b,"The Firebase app was deleted.")}function O(e,t){return new i(w,"String does not match format '"+e+"': "+t)}function R(e){throw new i(S,"Internal error: "+e)}var A={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function x(e){switch(e){case A.RAW:case A.BASE64:case A.BASE64URL:case A.DATA_URL:return;default:throw"Expected one of the event types: ["+A.RAW+", "+A.BASE64+", "+A.BASE64URL+", "+A.DATA_URL+"]."}}var D=function(e,t){this.data=e,this.contentType=t||null};function M(e,t){switch(e){case A.RAW:return new D(L(t));case A.BASE64:case A.BASE64URL:return new D(F(e,t));case A.DATA_URL:return new D(function(e){var t=new j(e);return t.base64?F(A.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw O(A.DATA_URL,"Malformed data URL.")}return L(t)}(t.rest)}(t),function(e){return new j(e).contentType}(t))}throw C()}function L(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function F(e,t){switch(e){case A.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw O(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case A.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw O(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw O(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var j=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw O(A.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var U,B={STATE_CHANGED:"state_changed"},V="running",q="pausing",W="paused",z="success",K="canceling",H="canceled",Q="error",G={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function X(e){switch(e){case V:case q:case K:return G.RUNNING;case W:return G.PAUSED;case z:return G.SUCCESS;case H:return G.CANCELED;default:return G.ERROR}}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $(e,t){for(var n in e)Y(e,n)&&t(n,e[n])}function J(e){if(null==e)return{};var t={};return $(e,(function(e,n){t[e]=n})),t}function Z(e){return new Promise(e)}function ee(e){return Promise.resolve(e)}function te(e){return null!=e}function ne(e){return void 0!==e}function re(e){return"function"===typeof e}function ie(e){return"object"===typeof e}function oe(e){return ie(e)&&null!==e}function ae(e){return"string"===typeof e||e instanceof String}function se(e){return ue()&&e instanceof Blob}function ue(){return"undefined"!==typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(U||(U={}));var ce=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=U.NO_ERROR,this.sendPromise_=Z((function(t,n){e.xhr_.addEventListener("abort",(function(n){e.errorCode_=U.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(n){e.errorCode_=U.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(n){t(e)}))}))}return e.prototype.send=function(e,t,n,r){var i=this;if(this.sent_)throw R("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(t,e,!0),te(r))&&$(r,(function(e,t){i.xhr_.setRequestHeader(e,t.toString())}));return te(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw R("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw R("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw R("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){te(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){te(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),le=function(){function e(){}return e.prototype.createXhrIo=function(){return new ce},e}();function he(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return ie(n=t)&&!Array.isArray(n)?t:null}var fe=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new i(d,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-]+)";for(var o=[{regex:new RegExp("^gs://"+r+"(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],a=0;a<o.length;a++){var s=o[a],u=s.regex.exec(t);if(u){var c=u[s.indices.bucket],l=u[s.indices.path];l||(l=""),n=new e(c,l),s.postModify(n);break}}if(null==n)throw function(e){return new i(f,"Invalid URL '"+e+"'.")}(t);return n},e}();function de(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function pe(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var me="https://firebasestorage.googleapis.com";function ye(e){return me+"/v0"+e}function ge(e){return me+"/v0"+e}function ve(e){var t=encodeURIComponent,n="?";return $(e,(function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"})),n=n.slice(0,-1)}function be(e,t){return t}var _e=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||be},we=null;function Se(){if(we)return we;var e=[];e.push(new _e("bucket")),e.push(new _e("generation")),e.push(new _e("metageneration")),e.push(new _e("name","fullPath",!0));var t=new _e("name");t.xform=function(e,t){return function(e){return!ae(e)||e.length<2?e:pe(e)}(t)},e.push(t);var n=new _e("size");return n.xform=function(e,t){return te(t)?+t:t},e.push(n),e.push(new _e("timeCreated")),e.push(new _e("updated")),e.push(new _e("md5Hash",null,!0)),e.push(new _e("cacheControl",null,!0)),e.push(new _e("contentDisposition",null,!0)),e.push(new _e("contentEncoding",null,!0)),e.push(new _e("contentLanguage",null,!0)),e.push(new _e("contentType",null,!0)),e.push(new _e("metadata","customMetadata",!0)),e.push(new _e("downloadTokens","downloadURLs",!1,(function(e,t){if(!(ae(t)&&t.length>0))return[];var n=encodeURIComponent;return t.split(",").map((function(t){var r=e.bucket,i=e.fullPath,o=function(e){return"https://firebasestorage.googleapis.com/v0"+e}("/b/"+n(r)+"/o/"+n(i));return o+ve({alt:"media",token:t})}))}))),we=e}function Ee(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new fe(n,r);return t.makeStorageReference(i)}})}(r,e),r}function Ce(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Te(e){if(!(e&&ie(e)))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!ie(n))throw"Expected object for 'customMetadata' mapping."}else if(oe(n))throw"Mapping for '"+t+"' cannot be an object."}}function ke(e,t,n){for(var r=t.length,o=t.length,a=0;a<t.length;a++)if(t[a].optional){r=a;break}if(!(r<=n.length&&n.length<=o))throw function(e,t,n,r){var o,a;return e===t?(o=e,a=1===e?"argument":"arguments"):(o="between "+e+" and "+t,a="arguments"),new i(v,"Invalid argument count in `"+n+"`: Expected "+o+" "+a+", received "+r+".")}(r,o,e,n.length);for(a=0;a<n.length;a++)try{t[a].validator(n[a])}catch(s){throw s instanceof Error?N(a,e,s.message):N(a,e,s)}}var Ie=function(e,t){var n=this;this.validator=function(t){n.optional&&!ne(t)||e(t)},this.optional=!!t};function Ne(e,t){function n(e){if(!ae(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new Ie(r,t)}function Pe(){return new Ie((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||ue()&&e instanceof Blob))throw"Expected Blob or File."}))}function Oe(e){return new Ie(Te,e)}function Re(){return new Ie((function(e){if(!(function(e){return"number"===typeof e||e instanceof Number}(e)&&e>=0))throw"Expected a number 0 or greater."}))}function Ae(e,t){return new Ie((function(t){if(!(null===t||te(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}),t)}function xe(e){return new Ie((function(e){if(!(null===e||re(e)))throw"Expected a Function."}),e)}function De(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=De();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(ue())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var Le=function(){function e(e,t){var n=0,r="";se(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(se(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ue()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Me.apply(null,r))}var i=t.map((function(e){return ae(e)?M(A.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Fe(e,t){return-1!==e.indexOf(t)}var je=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ue(e){if(!e)throw C()}function Be(e,t){return function(n,r){var i=function(e,t,n){var r=he(t);return null===r?null:Ee(e,r,n)}(e,r,t);return Ue(null!==i),i}}function Ve(e){return function(t,n){var r,o,a;return 401===t.getStatus()?r=new i(u,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new i(s,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(o=e.path,r=new i(c,"User does not have permission to access '"+o+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function qe(e){var t=Ve(e);return function(n,r){var o,s=t(n,r);return 404===n.getStatus()&&(o=e.path,s=new i(a,"Object '"+o+"' does not exist.")),s.setServerResponseProp(r.serverResponseProp()),s}}function We(e,t,n){var r=ye(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new je(r,"GET",Be(e,n),i);return o.errorHandler=qe(t),o}function ze(e,t,n,r){var i=ye(t.fullServerUrl()),o=Ce(n,r),a=e.maxOperationRetryTime(),s=new je(i,"PATCH",Be(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=qe(t),s}function Ke(e,t){var n=ye(t.fullServerUrl()),r=e.maxOperationRetryTime();var i=new je(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=qe(t),i}function He(e,t,n){var r=J(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Qe=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ge(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ue(!1)}return Ue(Fe(t||["active"],n)),n}var Xe=262144;function Ye(e,t,n,r,o,a,s,u){var c=new Qe(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new i(m,"Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,h=l;o>0&&(h=Math.min(h,o));var f=c.current,d=f+h,p={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},y=r.slice(f,d);if(null===y)throw k();var g=t.maxUploadRetryTime(),v=new je(n,"POST",(function(e,n){var i,o=Ge(e,["active","final"]),s=c.current+h,u=r.size();return i="final"===o?Be(t,a)(e,n):null,new Qe(s,u,"final"===o,i)}),g);return v.headers=p,v.body=y.uploadData(),v.progressCallback=u||null,v.errorHandler=Ve(e),v}var $e=function(e,t,n){if(re(e)||te(t)||te(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Je=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}();function Ze(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ee(!0).then((function(){e.apply(null,t)}))}}var et=function(){function e(e,t,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=V,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(h)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(Q))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(h)?a.completeTransitions_():(a.error_=e,a.transition_(Q))},this.promise_=Z((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===V&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case V:e(n);break;case K:t.transition_(H);break;case q:t.transition_(W)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=He(t,r,i),s={name:a.fullPath},u=ge(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ce(a,n),h=e.maxUploadRetryTime(),f=new je(u,"POST",(function(e,t){var n;Ge(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){Ue(!1)}return Ue(ae(n)),n}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Ve(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new je(n,"POST",(function(e,t){var n,i=Ge(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Ue(!1)}var o=parseInt(n,10);return Ue(!isNaN(o)),new Qe(o,r.size(),"final"===i)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ve(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=Xe*this.chunkMultiplier_,n=new Qe(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=Ye(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_(Q)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(z)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){Xe*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=We(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(z)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=He(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ce(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Le.getBlob(c,r,l);if(null===h)throw k();var f={name:u.fullPath},d=ge(o),p=e.maxUploadRetryTime(),m=new je(d,"POST",Be(e,n),p);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=Ve(t),m}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(z)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case K:case q:this.state_=e,null!==this.request_&&this.request_.cancel();break;case V:var t=this.state_===W;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case W:this.state_=e,this.notifyObservers_();break;case H:this.error_=T(),this.state_=e,this.notifyObservers_();break;case Q:case z:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case q:this.transition_(W);break;case K:this.transition_(H);break;case V:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=X(this.state_);return new Je(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(t){if(e!==B.STATE_CHANGED)throw"Expected one of the event types: ["+B.STATE_CHANGED+"]."}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=xe(!0).validator,s=Ae(null,!0).validator;function u(e){try{return void a(e)}catch(t){}try{if(s(e),!(ne(e.next)||ne(e.error)||ne(e.complete)))throw"";return}catch(t){throw o}}var c=[Ne(i),Ae(u,!0),xe(!0),xe(!0)];ke("on",c,arguments);var l=this;function h(e){return function(t,n,i){null!==e&&ke("on",e,arguments);var o=new $e(t,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(e){if(null===e)throw o;u(e)}var d=[Ae(f),xe(!0),xe(!0)],p=!(ne(t)||ne(n)||ne(r));return p?h(d):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){!function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}(this.observers_,e)},e.prototype.notifyObservers_=function(){var e,t=this;this.finishPromise_(),(e=this.observers_,Array.prototype.slice.call(e)).forEach((function(e){t.notifyObserver_(e)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(X(this.state_)){case G.SUCCESS:Ze(this.resolve_.bind(null,this.snapshot))();break;case G.CANCELED:case G.ERROR:Ze(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(X(this.state_)){case G.RUNNING:case G.PAUSED:null!==e.next&&Ze(e.next.bind(e,this.snapshot))();break;case G.SUCCESS:null!==e.complete&&Ze(e.complete.bind(e))();break;default:null!==e.error&&Ze(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ke("resume",[],arguments);var e=this.state_===W||this.state_===q;return e&&this.transition_(V),e},e.prototype.pause=function(){ke("pause",[],arguments);var e=this.state_===V;return e&&this.transition_(q),e},e.prototype.cancel=function(){ke("cancel",[],arguments);var e=this.state_===V||this.state_===q;return e&&this.transition_(K),e},e}(),tt=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof fe?t:fe.makeFromUrl(t)}return e.prototype.toString=function(){return ke("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return Se()},e.prototype.child=function(e){ke("child",[Ne()],arguments);var t=de(this.location.path,e),n=new fe(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new fe(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new fe(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return pe(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ke("put",[Pe(),Oe(!0)],arguments),this.throwIfRoot_("put"),new et(this,this.authWrapper,this.location,this.mappings(),new Le(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=A.RAW),ke("putString",[Ne(),Ne(x,!0),Oe(!0)],arguments),this.throwIfRoot_("putString");var r=M(t,e),i=J(n);return!te(i.contentType)&&te(r.contentType)&&(i.contentType=r.contentType),new et(this,this.authWrapper,this.location,this.mappings(),new Le(r.data,!0),i)},e.prototype.delete=function(){ke("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then((function(t){var n=Ke(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.getMetadata=function(){ke("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then((function(t){var n=We(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){ke("updateMetadata",[Oe()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=ze(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){return ke("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then((function(e){var t=e.downloadURLs[0];if(te(t))return t;throw I()}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new i(_,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),nt=function(){function e(e){this.promise_=function(e){return Promise.reject(e)}(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),rt=function(){function e(){this.map_={},this.id_=-9007199254740991}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function r(){delete n.map_[t]}e.getPromise().then(r,r)},e.prototype.clear=function(){$(this.map_,(function(e,t){t&&t.cancel(!0)})),this.map_={}},e}(),it=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;te(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e4,this.requestMap_=new rt}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:fe.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&te(this.app_.INTERNAL)&&te(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(e){return null})):ee(null)},e.prototype.bucket=function(){if(this.deleted_)throw P();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new nt(P());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();var ot=function(){function e(e,t,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=Z((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,o=e.resolve_,a=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());ne(u)?o(u):o()}catch(c){a(c)}else null!==s?((r=C()).setServerResponseProp(s.getResponseText()),e.errorCallback_?a(e.errorCallback_(s,r)):a(r)):n.canceled?a(r=e.appDelete_?P():T()):a(r=new i(l,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new at(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.apply(null,arguments);else{var i;s()||o?c.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new at(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=n.getErrorCode()===U.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=Fe(e.successCodes_,o);t(!0,new at(a,n))}else{var s=n.getErrorCode()===U.ABORT;t(!1,new at(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=Fe([408,429],e),r=Fe(this.additionalRetryCodes_,e);return t||n||r},e}(),at=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function st(e,t,n){var i=ve(e.urlParams),o=e.url+i,a=J(e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){var t="undefined"!==typeof r.default?r.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new ot(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var ut=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new it(e,(function(e,t){return new tt(e,t)}),st,this,t),this.app_=e,null!=n)this.bucket_=fe.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new fe(r,""))}this.internals_=new ct(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ke("ref",[Ne(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new tt(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{fe.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ke("refFromURL",[Ne(t,!1)],arguments),new tt(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ke("setMaxUploadRetryTime",[Re()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){ke("setMaxOperationRetryTime",[Re()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),ct=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),ee(void 0)},e}();function lt(e,t,n){return new ut(e,new le,n)}function ht(e){var t={TaskState:G,TaskEvent:B,StringFormat:A,Storage:ut,Reference:tt};e.INTERNAL.registerService("storage",lt,t,void 0,!0)}ht(r.default)},3584:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(6178)),r(n(98)),r(n(2109)),r(n(8855)),r(n(9415)),r(n(9296)),r(n(6751)),r(n(2375)),r(n(5317)),r(n(5719)),r(n(5344)),r(n(5096)),r(n(1732)),r(n(5391)),r(n(4253))},6178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2109);t.assert=function(e,n){if(!e)throw t.assertionError(n)},t.assertionError=function(e){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}},2109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},98:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=[],n=0,r=0;r<e.length;r++){for(var i=e.charCodeAt(r);i>255;)t[n++]=255&i,i>>=8;t[n++]=i}return t};t.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(n(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){var t=8192;if(e.length<t)return String.fromCharCode.apply(null,e);for(var n="",r=0;r<e.length;r+=t){var i=e.slice(r,r+t);n+=String.fromCharCode.apply(null,i)}return n}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},t.base64Encode=function(e){var r=n(e);return t.base64.encodeByteArray(r,!0)},t.base64Decode=function(e){try{return t.base64.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}},8855:function(e,t){"use strict";function n(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(e[r],t[r]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=function(e){return n(void 0,e)},t.deepExtend=n,t.patchProperty=function(e,t,n){e[t]=n}},9415:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();t.Deferred=n},9296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2109);t.getUA=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t.getUA())},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},6751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="FirebaseError",r=Error.captureStackTrace;t.patchCapture=function(e){var t=r;return r=e,t};var i=function(e,t){if(this.code=e,this.message=t,r)r(this,o.prototype.create);else{var i=Error.apply(this,arguments);this.name=n,Object.defineProperty(this,"stack",{get:function(){return i.stack}})}};t.FirebaseError=i,i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name=n;var o=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],o=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,(function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"})),n=this.serviceName+": "+n+" ("+o+").";var a=new i(o,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=t[s]);return a},e}();t.ErrorFactory=o},6816:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.blockSize=-1};t.Hash=n},2375:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonEval=function(e){return JSON.parse(e)},t.stringify=function(e){return JSON.stringify(e)}},5317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=n(2375);t.decode=function(e){var t={},n={},o={},a="";try{var s=e.split(".");t=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(u){}return{header:t,claims:n,data:o,signature:a}},t.isValidTimestamp=function(e){var n,r,i=t.decode(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"===typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},t.issuedAtTime=function(e){var n=t.decode(e).claims;return"object"===typeof n&&n.hasOwnProperty("iat")?n.iat:null},t.isValidFormat=function(e){var n=t.decode(e),r=n.claims;return!!n.signature&&!!r&&"object"===typeof r&&r.hasOwnProperty("iat")},t.isAdmin=function(e){var n=t.decode(e).claims;return"object"===typeof n&&!0===n.admin}},5719:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.forEach=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},t.extend=function(e,n){return t.forEach(n,(function(t,n){e[t]=n})),e},t.clone=function(e){return t.extend({},e)},t.isNonNullObject=function(e){return"object"===typeof e&&null!==e},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},t.findValue=function(e,n,r){var i=t.findKey(e,n,r);return i&&e[i]},t.getAnyKey=function(e){for(var t in e)return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0}},5344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5719);t.querystring=function(e){var t=[];return r.forEach(e,(function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t}},5096:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(n(6816).Hash);t.Sha1=i},1732:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscribe=function(e,t){var r=new n(e,t);return r.subscribe.bind(r)};var n=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var i,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=r),void 0===i.error&&(i.error=r),void 0===i.complete&&(i.complete=r);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(e){}})),this.observers.push(i),a},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function r(){}t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}},4253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6178);t.stringToByteArray=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r.assert(i<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},5391:function(e,t){"use strict";function n(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}Object.defineProperty(t,"__esModule",{value:!0}),t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.errorPrefix=n,t.validateNamespace=function(e,t,r,i){if((!i||r)&&"string"!==typeof r)throw new Error(n(e,t,i)+"must be a valid firebase namespace.")},t.validateCallback=function(e,t,r,i){if((!i||r)&&"function"!==typeof r)throw new Error(n(e,t,i)+"must be a valid function.")},t.validateContextObject=function(e,t,r,i){if((!i||r)&&("object"!==typeof r||null===r))throw new Error(n(e,t,i)+"must be a valid context object.")}},4786:function(module,__unused_webpack_exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(e){return"string"==typeof e}function aa(){}function ba(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function n(e){return"array"==ba(e)}function ca(e){var t=ba(e);return"array"==t||"object"==t&&"number"==typeof e.length}function da(e){return"function"==ba(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var q="closure_uid_"+(1e9*Math.random()>>>0),ea=0;function fa(e,t,n){return e.call.apply(e.bind,arguments)}function ha(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function r(e,t,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function ia(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var t=Date.now||function(){return+new Date};function u(e,t){function n(){}n.prototype=t.prototype,e.L=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ab=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ja(e){if(Error.captureStackTrace)Error.captureStackTrace(this,ja);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function ka(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}u(ja,Error),ja.prototype.name="CustomError";var la=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ma(e,t){return e<t?-1:e>t?1:0}function na(e,t){t.unshift(e),ja.call(this,ka.apply(null,t)),t.shift()}function oa(e,t){throw new na("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function w(){0!=qa&&(ra[this[q]||(this[q]=++ea)]=this),this.i=this.i,this.w=this.w}u(na,ja),na.prototype.name="AssertionError";var qa=0,ra={};w.prototype.i=!1,w.prototype.Z=function(){if(!this.i&&(this.i=!0,this.A(),0!=qa)){var e=this[q]||(this[q]=++ea);delete ra[e]}},w.prototype.A=function(){if(this.w)for(;this.w.length;)this.w.shift()()};var sa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(l(e))return l(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ta=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=l(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},x;function ua(e){e:{for(var t=va,n=e.length,r=l(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]}function wa(e){if(!n(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}function xa(e){return Array.prototype.concat.apply([],arguments)}function ya(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}e:{var za=k.navigator;if(za){var Aa=za.userAgent;if(Aa){x=Aa;break e}}x=""}function y(e){return-1!=x.indexOf(e)}function Ba(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ca(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function Da(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function Ea(e){var t,n={};for(t in e)n[t]=e[t];return n}var Fa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ga(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Fa.length;o++)n=Fa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ha(e){return Ha[" "](e),e}function Ia(e,t){var n=Ja;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Ha[" "]=aa;var Ka=y("Opera"),z=y("Trident")||y("MSIE"),La=y("Edge"),Ma=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Na=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Pa;function Oa(){var e=k.document;return e?e.documentMode:void 0}e:{var Qa="",Ra=function(){var e=x;return Ma?/rv:([^\);]+)(\)|;)/.exec(e):La?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Na?/WebKit\/(\S+)/.exec(e):Ka?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ra&&(Qa=Ra?Ra[1]:""),z){var Sa=Oa();if(null!=Sa&&Sa>parseFloat(Qa)){Pa=String(Sa);break e}}Pa=Qa}var Ja={},Ua;function Ta(e){return Ia(e,(function(){for(var t=0,n=la(String(Pa)).split("."),r=la(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ma(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ma(0==a[2].length,0==s[2].length)||ma(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var Va=k.document;Ua=Va&&z?Oa()||("CSS1Compat"==Va.compatMode?parseInt(Pa,10):5):void 0;var Wa=Object.freeze||function(e){return e},Xa=!z||9<=Number(Ua),Ya=z&&!Ta("9"),Za=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return k.addEventListener("test",aa,t),k.removeEventListener("test",aa,t),e}();function A(e,t){this.type=e,this.a=this.target=t,this.Pa=!0}function $a(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Ma){e:{try{Ha(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:ab[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Pa=!1},u($a,A);var ab=Wa({2:"touch",3:"pen",4:"mouse"});$a.prototype.b=function(){$a.L.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ya)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var bb="closure_listenable_"+(1e6*Math.random()|0);function cb(e){return!(!e||!e[bb])}var db=0;function eb(e,t,n,r,i){this.listener=e,this.a=null,this.src=t,this.type=n,this.capture=!!r,this.ga=i,this.key=++db,this.Y=this.ca=!1}function fb(e){e.Y=!0,e.listener=null,e.a=null,e.src=null,e.ga=null}function gb(e){this.src=e,this.a={},this.b=0}function ib(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=sa(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fb(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function jb(e,t,n,r,i){return e=e.a[t.toString()],t=-1,e&&(t=hb(e,n,r,i)),-1<t?e[t]:null}function hb(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ga==r)return i}return-1}gb.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=hb(e,t,r,i);return-1<a?(t=e[a],n||(t.ca=!1)):((t=new eb(t,this.src,o,!!r,i)).ca=n,e.push(t)),t};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(e,t,r,i,o){if(i&&i.once)return ob(e,t,r,i,o);if(n(t)){for(var a=0;a<t.length;a++)nb(e,t[a],r,i,o);return null}return r=pb(r),cb(e)?e.aa(t,r,p(i)?!!i.capture:!!i,o):qb(e,t,r,!1,i,o)}function qb(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=rb(e);if(s||(e[kb]=s=new gb(e)),(n=s.add(t,n,r,a,o)).a)return n;if(r=sb(),n.a=r,r.src=e,r.listener=n,e.addEventListener)Za||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tb(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return mb++,n}function sb(){var e=ub,t=Xa?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function ob(e,t,r,i,o){if(n(t)){for(var a=0;a<t.length;a++)ob(e,t[a],r,i,o);return null}return r=pb(r),cb(e)?e.Ha(t,r,p(i)?!!i.capture:!!i,o):qb(e,t,r,!0,i,o)}function vb(e,t,r,i,o){if(n(t))for(var a=0;a<t.length;a++)vb(e,t[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=pb(r),cb(e)?e.va(t,r,i,o):e&&(e=rb(e))&&(t=jb(e,t,r,i,o))&&wb(t)}function wb(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(cb(t))ib(t.c,e);else{var n=e.type,r=e.a;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),mb--,(n=rb(t))?(ib(n,e),0==n.b&&(n.src=null,t[kb]=null)):fb(e)}}}function tb(e){return e in lb?lb[e]:lb[e]="on"+e}function xb(e,t,n,r){var i=!0;if((e=rb(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.Y&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(e,t){var n=e.listener,r=e.ga||e.src;return e.ca&&wb(e),n.call(r,t)}function ub(e,t){if(e.Y)return!0;if(!Xa){if(!t)e:{t=["window","event"];for(var n=k,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new $a(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.a;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.a=r[i];var o=xb(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.a=r[i],o=xb(r[i],e,!1,t),n=n&&o}return n}return yb(e,new $a(t,this))}function rb(e){return(e=e[kb])instanceof gb?e:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(e){return da(e)?e:(e[zb]||(e[zb]=function(t){return e.handleEvent(t)}),e[zb])}function B(){w.call(this),this.c=new gb(this),this.P=this,this.J=null}function Ab(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ca&&ib(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Pa}function Bb(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Db(e){var t=[];return Eb(new Fb,e,t),t.join("")}function Fb(){}function Eb(e,t,r){if(null==t)r.push("null");else{if("object"==typeof t){if(n(t)){var i=t;t=i.length,r.push("[");for(var o="",a=0;a<t;a++)r.push(o),Eb(e,i[a],r),o=",";return void r.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(i in r.push("{"),o="",t)Object.prototype.hasOwnProperty.call(t,i)&&("function"!=typeof(a=t[i])&&(r.push(o),Gb(i,r),r.push(":"),Eb(e,a,r),o=","));return void r.push("}")}t=t.valueOf()}switch(typeof t){case"string":Gb(t,r);break;case"number":r.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":r.push(String(t));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}u(B,w),B.prototype[bb]=!0,g=B.prototype,g.addEventListener=function(e,t,n,r){nb(this,e,t,n,r)},g.removeEventListener=function(e,t,n,r){vb(this,e,t,n,r)},g.dispatchEvent=function(e){var t,n=this.J;if(n)for(t=[];n;n=n.J)t.push(n);n=this.P;var r=e.type||e;if(l(e))e=new A(e,n);else if(e instanceof A)e.target=e.target||n;else{var i=e;Ga(e=new A(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ab(a,r,!0,e)&&i}if(i=Ab(a=e.a=n,r,!0,e)&&i,i=Ab(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ab(a=e.a=t[o],r,!1,e)&&i;return i},g.A=function(){if(B.L.A.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)fb(n[r]);delete t.a[e],t.b--}}this.J=null},g.aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},g.Ha=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)},g.va=function(e,t,n,r){var i=this.c;if((e=String(e).toString())in i.a){var o=i.a[e];-1<(t=hb(o,t,n,r))&&(fb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete i.a[e],i.b--))}};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(e,t){t.push('"',e.replace(Ib,(function(e){var t=Hb[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Hb[e]=t),t})),'"')}function Jb(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Nb=new Jb((function(){return new Lb}),(function(e){e.reset()})),Rb,Tb;function Ob(){var e=Pb,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Lb(){this.next=this.b=this.a=null}function Qb(e){k.setTimeout((function(){throw e}),0)}function Sb(){var e=k.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=r((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),"undefined"!==typeof e&&!y("Trident")&&!y("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).za;n.za=null,e()}},function(e){i.next={za:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){k.setTimeout(e,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var e=k.Promise.resolve(void 0);Tb=function(){e.then(Vb)}}else Tb=function(){var e=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(e)):k.setImmediate(e)}}Kb.prototype.add=function(e,t){var n=Nb.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var e;e=Ob();){try{e.a.call(e.b)}catch(n){Qb(n)}var t=Nb;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.f=r(this.ib,this),this.g=t()}function Yb(e){e.$=!1,e.K&&(e.a.clearTimeout(e.K),e.K=null)}function Zb(e,t,n){if(da(e))n&&(e=r(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=r(e.handleEvent,e)}return 2147483647<Number(t)?-1:k.setTimeout(e,t||0)}function $b(e,t,n){w.call(this),this.f=null!=n?r(e,n):e,this.c=t,this.b=r(this.bb,this),this.a=[]}function ac(e){e.X=Zb(e.b,e.c),e.f.apply(null,e.a)}function C(e){w.call(this),this.b=e,this.a={}}u(Xb,B),g=Xb.prototype,g.$=!1,g.K=null,g.ib=function(){if(this.$){var e=t()-this.g;0<e&&e<.8*this.b?this.K=this.a.setTimeout(this.f,this.b-e):(this.K&&(this.a.clearTimeout(this.K),this.K=null),this.dispatchEvent("tick"),this.$&&(this.K=this.a.setTimeout(this.f,this.b),this.g=t()))}},g.start=function(){this.$=!0,this.K||(this.K=this.a.setTimeout(this.f,this.b),this.g=t())},g.A=function(){Xb.L.A.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.X=null,g.Xa=function(e){this.a=arguments,this.X?this.ha=!0:ac(this)},g.A=function(){$b.L.A.call(this),this.X&&(k.clearTimeout(this.X),this.X=null,this.ha=!1,this.a=[])},g.bb=function(){this.X=null,this.ha&&(this.ha=!1,ac(this))},u(C,w);var bc=[];function cc(e){Ba(e.a,(function(e,t){this.a.hasOwnProperty(t)&&wb(e)}),e),e.a={}}function dc(e,t,n){this.reset(e,t,n,void 0,void 0)}C.prototype.aa=function(e,t,r,i){n(t)||(t&&(bc[0]=t.toString()),t=bc);for(var o=0;o<t.length;o++){var a=nb(e,t[o],r||this.handleEvent,i||!1,this.b||this);if(!a)break;this.a[a.key]=a}return this},C.prototype.va=function(e,t,r,i,o){if(n(t))for(var a=0;a<t.length;a++)this.va(e,t[a],r,i,o);else r=r||this.handleEvent,i=p(i)?!!i.capture:!!i,o=o||this.b||this,r=pb(r),i=!!i,(t=cb(e)?jb(e.c,String(t),r,i,o):e&&(e=rb(e))?jb(e,t,r,i,o):null)&&(wb(t),delete this.a[t.key])},C.prototype.A=function(){C.L.A.call(this),cc(this)},C.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.a=null;var ec=0;function fc(e){this.f=e,this.b=this.c=this.a=null}function D(e,t){this.name=e,this.value=t}dc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||ec++,i||t(),delete this.a},D.prototype.toString=function(){return this.name};var gc=new D("SEVERE",1e3),hc=new D("WARNING",900),ic=new D("INFO",800),jc=new D("CONFIG",700),kc=new D("FINE",500);function lc(e){return e.c?e.c:e.a?lc(e.a):(oa("Root logger has no level set."),null)}fc.prototype.log=function(e,t,n){if(e.value>=lc(this).value)for(da(t)&&(t=t()),e=new dc(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var mc={},nc=null;function oc(e){var t;if(nc||(nc=new fc(""),mc[""]=nc,nc.c=jc),!(t=mc[e])){t=new fc(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=oc(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,mc[e]=t}return t}function E(e,t){e&&e.log(hc,t,void 0)}function pc(e,t){e&&e.log(ic,t,void 0)}function F(e,t){e&&e.log(kc,t,void 0)}function qc(){this.a=oc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function rc(e,t,n,r,i,o){H(e,(function(){if(e.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}function sc(e,t,n,r,i,o,a){H(e,(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}function tc(e,t,n,r){H(e,(function(){return"XMLHTTP TEXT ("+t+"): "+uc(e,n)+(r?" "+r:"")}))}function vc(e,t){H(e,(function(){return"TIMEOUT: "+t}))}function I(e,t){F(e.a,t)}function wc(e,t,n){(e=e.a)&&e.log(gc,n||"Exception",t)}function H(e,t){pc(e.a,t)}function xc(e,t){(e=e.a)&&e.log(gc,t,void 0)}function uc(e,t){if(!e.b)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(var i=0;i<r.length;i++)if(n(r[i])){var o=r[i];if(!(2>o.length)){var a=o[1];if(n(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<a.length;u++)a[u]=""}}}return Db(r)}catch(c){return I(e,"Exception parsing expected JS array - probably was not JS"),t}}qc.prototype.Ea=function(){this.b=!1};var yc=new B;function zc(e){A.call(this,"serverreachability",e)}function Ac(e){yc.dispatchEvent(new zc(yc,e))}function Bc(e){A.call(this,"statevent",e)}function J(e){yc.dispatchEvent(new Bc(yc,e))}function Cc(e){A.call(this,"timingevent",e)}function Dc(e,t,n){yc.dispatchEvent(new Cc(yc,e,t,n))}function Ec(e,t){if(!da(e))throw Error("Fn must not be null and must be a function");return k.setTimeout((function(){e()}),t)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,jb:1,qb:2,pb:3,mb:4,ob:5,rb:6,Ra:7,TIMEOUT:8,ub:9},Gc={lb:"complete",yb:"success",Sa:"error",Ra:"abort",wb:"ready",xb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",vb:"progress",nb:"downloadprogress",zb:"uploadprogress"},Kc;function Hc(){}function Ic(e){var t;return(t=e.a)||(t={},Jc(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function Lc(){}function Mc(e){return(e=Jc(e))?new ActiveXObject(e):new XMLHttpRequest}function Jc(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.b=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function K(e,t,n,r){this.i=e,this.b=t,this.f=n,this.T=r||1,this.N=new C(this),this.S=Nc,(e=this.H=new Xb).b=Oc,e.K&&e.$?(Yb(e),e.start()):e.K&&Yb(e),this.j=null,this.c=!1,this.m=this.g=this.h=this.J=this.D=this.U=this.w=null,this.s=[],this.a=null,this.F=0,this.l=this.o=null,this.C=-1,this.B=!1,this.P=0,this.I=null,this.M=!1}Hc.prototype.a=null,u(Lc,Hc),Kc=new Lc;var Nc=45e3,Oc=250;function Pc(e,t){switch(e){case 0:return"Non-200 return code ("+t+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Qc={},Rc={};function Sc(e,t,n){e.J=1,e.h=Tc(L(t)),e.m=n,e.M=!0,Uc(e,null)}function Vc(e,t,n,r){e.J=1,e.h=Tc(L(t)),e.m=null,e.M=n,Uc(e,r)}function Uc(e,n){e.D=t(),Wc(e),e.g=L(e.h),Xc(e.g,"t",e.T),e.F=0,e.a=e.i.da(e.i.ia()?n:null),0<e.P&&(e.I=new $b(r(e.Qa,e,e.a),e.P)),e.N.aa(e.a,"readystatechange",e.fb),n=e.j?Ea(e.j):{},e.m?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.m,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),rc(e.b,e.o,e.g,e.f,e.T,e.m)}function Yc(e){var t=M(e.a),n=e.a.Fa(),r=e.a.W();if(!(3>t||3==t&&!Ka&&!e.a.V())){e.B||4!=t||7==n||Ac(8==n||0>=r?3:2),Zc(e);var i=e.a.W();e.C=i,(n=e.a.V())||I(e.b,(function(){return"No response text for uri "+e.g+" status "+i})),e.c=200==i,sc(e.b,e.o,e.g,e.f,e.T,t,i),e.c?(e.M?($c(e,t,n),Ka&&e.c&&3==t&&ad(e)):(tc(e.b,e.f,n,null),bd(e,n)),4==t&&cd(e),e.c&&!e.B&&(4==t?e.i.ua(e):(e.c=!1,Wc(e)))):(400==i&&0<n.indexOf("Unknown SID")?(e.l=3,J(12),E(e.b.a,"XMLHTTP Unknown SID ("+e.f+")")):(e.l=0,J(13),E(e.b.a,"XMLHTTP Bad status "+i+" ("+e.f+")")),cd(e),dd(e))}}function $c(e,t,n){for(var r=!0;!e.B&&e.F<n.length;){var i=ed(e,n);if(i==Rc){4==t&&(e.l=4,J(14),r=!1),tc(e.b,e.f,null,"[Incomplete Response]");break}if(i==Qc){e.l=4,J(15),tc(e.b,e.f,n,"[Invalid Chunk]"),r=!1;break}tc(e.b,e.f,i,null),bd(e,i)}4==t&&0==n.length&&(e.l=1,J(16),r=!1),e.c=e.c&&r,r||(tc(e.b,e.f,n,"[Invalid Chunked Response]"),cd(e),dd(e))}function ad(e){e.N.aa(e.H,"tick",e.eb),e.H.start()}function ed(e,t){var n=e.F,r=t.indexOf("\n",n);return-1==r?Rc:(n=Number(t.substring(n,r)),isNaN(n)?Qc:(r+=1)+n>t.length?Rc:(t=t.substr(r,n),e.F=r+n,t))}function Wc(e){e.U=t()+e.S,fd(e,e.S)}function fd(e,t){if(null!=e.w)throw Error("WatchDog timer not null");e.w=Ec(r(e.cb,e),t)}function Zc(e){e.w&&(k.clearTimeout(e.w),e.w=null)}function dd(e){e.i.Ja()||e.B||e.i.ua(e)}function cd(e){Zc(e);var t=e.I;t&&"function"==typeof t.Z&&t.Z(),e.I=null,Yb(e.H),cc(e.N),e.a&&(t=e.a,e.a=null,t.abort(),t.Z())}function bd(e,t){try{e.i.Ma(e,t),Ac(4)}catch(n){wc(e.b,n,"Error in httprequest callback")}}function gd(e){if(e.v&&"function"==typeof e.v)return e.v();if(l(e))return e.split("");if(ca(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return Ca(e)}function hd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ca(e)||l(e))ta(e,t,void 0);else{if(e.O&&"function"==typeof e.O)var n=e.O();else if(e.v&&"function"==typeof e.v)n=void 0;else if(ca(e)||l(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else n=Da(e);i=(r=gd(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function N(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){e instanceof N?(n=e.O(),r=e.v()):(n=Da(e),r=Ca(e));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function jd(e){e.b={},e.a.length=0,e.c=0}function kd(e,t){return!!O(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&id(e),!0)}function id(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];O(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)O(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}g=K.prototype,g.setTimeout=function(e){this.S=e},g.fb=function(e){e=e.target;var t=this.I;t&&3==M(e)?(I(this.b,"Throttling readystatechange."),t.Xa()):this.Qa(e)},g.Qa=function(e){try{e==this.a?Yc(this):E(this.b.a,"Called back with an unexpected xmlhttp")}catch(n){if(I(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var t=this;wc(this.b,n,(function(){return"ResponseText: "+t.a.V()}))}else wc(this.b,n,"No response text")}},g.eb=function(){var e=M(this.a),t=this.a.V();this.F<t.length&&(Zc(this),$c(this,e,t),this.c&&4!=e&&Wc(this))},g.cancel=function(){this.B=!0,cd(this)},g.cb=function(){this.w=null;var e=t();0<=e-this.U?(this.c&&xc(this.b,"Received watchdog timeout even though request loaded successfully"),vc(this.b,this.g),2!=this.J&&(Ac(3),J(17)),cd(this),this.l=2,dd(this)):(E(this.b.a,"WatchDog timer called too early"),fd(this,this.U-e))},g=N.prototype,g.u=function(){return this.c},g.v=function(){id(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},g.O=function(){return id(this),this.a.concat()},g.get=function(e,t){return O(this.b,e)?this.b[e]:t},g.set=function(e,t){O(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},g.forEach=function(e,t){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var ld=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function md(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function P(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof P?(this.h=void 0!==t?t:e.h,nd(this,e.f),this.j=e.j,od(this,e.b),pd(this,e.i),this.a=e.a,qd(this,rd(e.c)),this.g=e.g):e&&(n=String(e).match(ld))?(this.h=!!t,nd(this,n[1]||"",!0),this.j=sd(n[2]||""),od(this,n[3]||"",!0),pd(this,n[4]),this.a=sd(n[5]||"",!0),qd(this,n[6]||"",!0),this.g=sd(n[7]||"")):(this.h=!!t,this.c=new td(null,this.h))}function L(e){return new P(e)}function nd(e,t,n){e.f=n?sd(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function od(e,t,n){e.b=n?sd(t,!0):t}function pd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function qd(e,t,n){t instanceof td?(e.c=t,zd(e.c,e.h)):(n||(t=ud(t,Ad)),e.c=new td(t,e.h))}function Q(e,t,n){e.c.set(t,n)}function Xc(e,t,r){n(r)||(r=[String(r)]),Bd(e.c,t,r)}function Tc(e){return Q(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Cd(e){return e instanceof P?L(e):new P(e,void 0)}function Dd(e,t,n,r){var i=new P(null,void 0);return e&&nd(i,e),t&&od(i,t),n&&pd(i,n),r&&(i.a=r),i}function sd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ud(e,t,n){return l(e)?(e=encodeURI(e).replace(t,Ed),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ed(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}P.prototype.toString=function(){var e=[],t=this.f;t&&e.push(ud(t,vd,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(ud(t,vd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(ud(n,"/"==n.charAt(0)?wd:xd,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",ud(n,yd)),e.join("")},P.prototype.resolve=function(e){var t=L(this),n=!!e.f;n?nd(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?od(t,e.b):n=null!=e.i;var r=e.a;if(n)pd(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?qd(t,rd(e.c)):n=!!e.g,n&&(t.g=e.g),t};var vd=/[#\/\?@]/g,xd=/[#\?:]/g,wd=/[#\?]/g,Ad=/[#\?@]/g,yd=/#/g;function td(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function R(e){e.a||(e.a=new N,e.b=0,e.c&&md(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gd(e,t){R(e),t=Fd(e,t),O(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,kd(e.a,t))}function Hd(e,t){return R(e),t=Fd(e,t),O(e.a.b,t)}function Bd(e,t,n){Gd(e,t),0<n.length&&(e.c=null,e.a.set(Fd(e,t),ya(n)),e.b+=n.length)}function rd(e){var t=new td;return t.c=e.c,e.a&&(t.a=new N(e.a),t.b=e.b),t}function Fd(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function zd(e,t){t&&!e.f&&(R(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gd(this,t),Bd(this,n,e))}),e)),e.f=t}function Id(){this.a=t()}g=td.prototype,g.u=function(){return R(this),this.b},g.add=function(e,t){R(this),this.c=null,e=Fd(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},g.forEach=function(e,t){R(this),this.a.forEach((function(n,r){ta(n,(function(n){e.call(t,n,r,this)}),this)}),this)},g.O=function(){R(this);for(var e=this.a.v(),t=this.a.O(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},g.v=function(e){R(this);var t=[];if(l(e))Hd(this,e)&&(t=xa(t,this.a.get(Fd(this,e))));else{e=this.a.v();for(var n=0;n<e.length;n++)t=xa(t,e[n])}return t},g.set=function(e,t){return R(this),this.c=null,Hd(this,e=Fd(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},g.get=function(e,t){return 0<(e=e?this.v(e):[]).length?String(e[0]):t},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.O(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.v(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Jd=null;function Kd(){Jd||(Jd=new Id)}function Ld(){Jd||(Jd=new Id)}function Md(){}Id.prototype.set=function(e){this.a=e},Id.prototype.reset=function(){this.set(t())},Id.prototype.get=function(){return this.a},u(Ld,Kd);var Nd={OPEN:"a",kb:"b",Sa:"c",tb:"d"};function Od(){A.call(this,"d")}function Pd(){A.call(this,"c")}function Qd(e,t){this.a=e,this.b=t,this.c=this.i=null,this.h=!1,this.l=null,this.f=-1,this.m=this.g=null}function Rd(e){I(e.b,"TestConnection: starting stage 2");var t=e.a.H.a;if(null!=t)I(e.b,(function(){return"Buffered"})),J(4),t?(J(10),Sd(e.a,e,!1)):(J(11),Sd(e.a,e,!0));else{e.c=new K(e,e.b,void 0,void 0),e.c.j=e.i;var n=Td(e.a,e.g,e.l);J(4),Xc(n,"TYPE","xmlhttp");var r=e.a.j,i=e.a.J;r&&i&&Q(n,r,i),Vc(e.c,n,!1,e.g)}}function Vd(){this.a=this.b=null}function S(){this.a=new N}function Wd(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[q]||(e[q]=++ea)):t.charAt(0)+e}function Xd(e,t){this.a=e,this.b=t}function Yd(e){this.g=e||Zd,this.f=k.pa&&k.pa.Ka&&k.pa.Ka()&&k.pa.Ka().Bb?this.g:1,this.a=null,1<this.f&&(this.a=new S),this.b=null,this.c=[]}u(Od,A),u(Pd,A),g=Qd.prototype,g.R=null,g.da=function(e){return this.a.da(e)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.Ja=function(){return!1},g.Ma=function(e,t){if(this.f=e.C,0==this.R){if(I(this.b,"TestConnection: Got data for stage 1"),!this.a.D&&(e=e.a)){var n=e.a?e.a.getResponseHeader("X-Client-Wire-Protocol"):null;this.m=n||null,this.a.j&&((e=e.a?e.a.getResponseHeader("X-HTTP-Session-Id"):null)?this.a.J=e:E(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(t){try{var r=this.a.ma.a.parse(t)}catch(i){return wc(this.b,i),void Ud(this.a,this)}this.g=r[0]}else I(this.b,"TestConnection: Null responseText"),Ud(this.a,this)}else 1==this.R&&(this.h?J(6):"11111"==t?(J(5),this.h=!0,(!z||10<=Number(Ua))&&(this.f=200,this.c.cancel(),I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0))):(J(7),this.h=!1))},g.ua=function(){this.f=this.c.C,this.c.c?0==this.R?(this.R=1,I(this.b,"TestConnection: request complete for initial check"),Rd(this)):1==this.R&&(I(this.b,"TestConnection: request complete for stage 2"),this.h?(I(this.b,"Test connection succeeded; using streaming connection"),J(11),Sd(this.a,this,!0)):(I(this.b,"Test connection failed; not using streaming"),J(10),Sd(this.a,this,!1))):(I(this.b,"TestConnection: request failed, in state "+this.R),0==this.R?J(8):1==this.R&&J(9),Ud(this.a,this))},g.ia=function(){return this.a.ia()},g.ra=function(){return this.a.ra()},S.prototype.u=function(){return this.a.u()},S.prototype.add=function(e){this.a.set(Wd(e),e)},S.prototype.contains=function(e){return e=Wd(e),O(this.a.b,e)},S.prototype.v=function(){return this.a.v()};var Zd=10;function $d(e,t){e.a||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(e.f=e.g,e.a=new S,e.b&&(ae(e,e.b),e.b=null))}function be(e){return!!e.b||!!e.a&&e.a.u()>=e.f}function ce(e,t){return e.b?e.b==t:!!e.a&&e.a.contains(t)}function ae(e,t){e.a?e.a.add(t):e.b=t}function de(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.contains(t)&&kd(e.a.a,Wd(t))}function ee(e){if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return ta(e.a.v(),(function(e){t=t.concat(e.s)})),t}return ya(e.c)}function fe(e,t){e.c=e.c.concat(t)}function ge(){}function he(){this.a=new ge}function ie(e,t,n){var r=n||"";try{hd(e,(function(e,n){var i=e;p(e)&&(i=Db(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function je(e,t){var n=new qc;I(n,"TestLoadImage: loading "+e);var r=new Image;r.onload=ia(ke,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ia(ke,n,r,"TestLoadImage: error",!1,t),r.onabort=ia(ke,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ia(ke,n,r,"TestLoadImage: timeout",!1,t),k.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}function ke(e,t,n,r,i){try{I(e,n),t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){wc(e,o)}}function T(e){B.call(this),this.headers=new N,this.F=e||null,this.f=!1,this.D=this.a=null,this.M=this.s="",this.j=0,this.g="",this.h=this.I=this.o=this.H=!1,this.l=0,this.B=null,this.N=le,this.C=this.m=!1}Yd.prototype.cancel=function(){this.c=ee(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ta(this.a.v(),(function(e){e.cancel()})),jd(this.a.a))},ge.prototype.stringify=function(e){return k.JSON.stringify(e,void 0)},ge.prototype.parse=function(e){return k.JSON.parse(e,void 0)},u(T,B);var le="";T.prototype.b=oc("goog.net.XhrIo");var me=/^https?$/i,ne=["POST","PUT"];function qe(e){return z&&Ta(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function va(e){return"content-type"==e.toLowerCase()}function oe(e,t){e.f=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.g=t,e.j=5,re(e),se(e)}function re(e){e.H||(e.H=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function te(e){if(e.f&&"undefined"!=typeof goog)if(e.D[1]&&4==M(e)&&2==e.W())F(e.b,U(e,"Local request error detected and ignored"));else if(e.o&&4==M(e))Zb(e.La,0,e);else if(e.dispatchEvent("readystatechange"),4==M(e)){F(e.b,U(e,"Request complete")),e.f=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.s).match(ld)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!me.test(o?o.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.j=6,e.g=e.Ga()+" ["+e.W()+"]",re(e))}finally{se(e)}}}function se(e,t){if(e.a){pe(e);var n=e.a,r=e.D[0]?aa:null;e.a=null,e.D=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(gc,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function pe(e){e.a&&e.C&&(e.a.ontimeout=null),e.B&&(k.clearTimeout(e.B),e.B=null)}function M(e){return e.a?e.a.readyState:0}function U(e,t){return t+" ["+e.M+" "+e.s+" "+e.W()+"]"}function ue(e){var t="";return Ba(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ve(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=ue(n),l(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Q(e,t,n),e}function we(e){this.ya=0,this.g=[],this.a=new qc,this.H=new Vd,this.ja=this.wa=this.F=this.ka=this.b=this.J=this.j=this.U=this.h=this.M=this.i=null,this.Ua=this.P=0,this.la=this.B=this.o=this.m=this.l=this.f=null,this.s=this.xa=this.N=-1,this.T=this.w=this.C=0,this.S=e&&e.supportsCrossDomainXhr||!1,this.I="",this.c=new Yd(e&&e.concurrentRequestLimit),this.ma=new he,this.D=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,this.Ta=e&&e.fastHandshake||!1,e&&e.Ea&&this.a.Ea()}function xe(e){if(I(e.a,"disconnect()"),ye(e),3==e.G){var n=e.P++,r=L(e.F);Q(r,"SID",e.I),Q(r,"RID",n),Q(r,"TYPE","terminate"),ze(e,r),(n=new K(e,e.a,n,void 0)).J=2,n.h=Tc(L(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.da(null),n.a.fa(n.h)),n.D=t(),Wc(n)}Ae(e)}function ye(e){e.B&&(e.B.abort(),e.B=null),e.b&&(e.b.cancel(),e.b=null),e.m&&(k.clearTimeout(e.m),e.m=null),Be(e),e.c.cancel(),e.l&&(k.clearTimeout(e.l),e.l=null)}function Ce(e,t){1e3==e.g.length&&xc(e.a,(function(){return"Already have 1000 queued maps upon queueing "+Db(t)})),e.g.push(new Xd(e.Ua++,t)),3==e.G&&De(e)}function De(e){be(e.c)||e.l||(e.l=Ec(r(e.Oa,e),0),e.C=0)}function Ee(e,t){var n=e.c;return(n.b?1:n.a?n.a.u():0)>=e.c.f-(e.l?1:0)?(xc(e.a,"Unexpected retry request is scheduled."),!1):e.l?(I(e.a,"Use the retry request that is already scheduled."),e.g=t.s.concat(e.g),!0):!(1==e.G||2==e.G||2<=e.C)&&(I(e.a,"Going to retry POST"),e.l=Ec(r(e.Oa,e,t),Fe(e,e.C)),e.C++,!0)}function He(e,t){var n;n=t?t.f:e.P++;var r=L(e.F);Q(r,"SID",e.I),Q(r,"RID",n),Q(r,"AID",e.N),ze(e,r),e.h&&e.i&&ve(r,e.h,e.i),n=new K(e,e.a,n,e.C+1),null===e.h&&(n.j=e.i),t&&(e.g=t.s.concat(e.g)),t=Ge(e,n),n.setTimeout(Math.round(1e4)+Math.round(1e4*Math.random())),ae(e.c,n),Sc(n,r,t)}function ze(e,t){e.f&&hd({},(function(e,n){Q(t,n,e)}))}function Ge(e,t){var n=Math.min(e.g.length,1e3),i=e.f?r(e.f.Va,e.f,e):null;e:for(var o=e.g,a=-1;;){var s=["count="+n];-1==a?0<n?(a=o[0].a,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].a,h=o[c].b;if(0>(l-=a))a=Math.max(0,o[c].a-100),u=!1;else try{ie(h,s,"req"+l+"_")}catch(f){i&&i(h)}}if(u){i=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,i}function Ie(e){if(!e.b&&!e.m){e.T=1;var t=e.Na;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(t,e),e.w=0}}function Je(e){return e.b||e.m?(xc(e.a,"Request already in progress"),!1):!(3<=e.w)&&(I(e.a,"Going to retry GET"),e.T++,e.m=Ec(r(e.Na,e),Fe(e,e.w)),e.w++,!0)}function Sd(e,t,n){I(e.a,"Test Connection Finished");var r=t.m;r&&$d(e.c,r),e.la=n,e.s=t.f,I(e.a,"connectChannel_()"),e.F=Ke(e,e.ka),De(e)}function Ud(e,t){I(e.a,"Test Connection Failed"),e.s=t.f,V(e,2)}function Be(e){null!=e.o&&(k.clearTimeout(e.o),e.o=null)}function Fe(e,t){var n=5e3+Math.floor(1e4*Math.random());return e.ra()||(I(e.a,"Inactive channel"),n*=2),n*t}function V(e,t){if(H(e.a,"Error code "+t),2==t){var n=null;e.f&&(n=null);var i=r(e.hb,e);n||(n=new P("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||nd(n,"https"),Tc(n)),je(n.toString(),i)}else J(2);I(e.a,"HttpChannel: error - "+t),e.G=0,e.f&&e.f.Ba(t),Ae(e),ye(e)}function Ae(e){if(e.G=0,e.s=-1,e.f){var t=ee(e.c);0==t.length&&0==e.g.length||(I(e.a,(function(){return"Number of undelivered maps, pending: "+t.length+", outgoing: "+e.g.length})),e.c.c.length=0,ya(e.g),e.g.length=0),e.f.Aa()}}function Ke(e,t){return t=Le(e,null,t),I(e.a,"GetForwardChannelUri: "+t),t}function Td(e,t,n){return t=Le(e,e.ia()?t:null,n),I(e.a,"GetBackChannelUri: "+t),t}function Le(e,t,n){var r=Cd(n);if(""!=r.b)t&&od(r,t+"."+r.b),pd(r,r.i);else{var i,o=k.location;i=t?t+"."+o.hostname:o.hostname,r=Dd(o.protocol,i,o.port,n)}return e.U&&Ba(e.U,(function(e,t){Q(r,t,e)})),t=e.j,n=e.J,t&&n&&Q(r,t,n),Q(r,"VER",e.oa),ze(e,r),r}function Me(){}function Ne(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))t=i;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i}return t}function Oe(){if(z&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function W(e,t){B.call(this),this.a=new we(t),this.b=e,this.s=t&&t.testUrl?t.testUrl:Ne(this.b,"test"),this.f=oc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),this.a.M=e,(e=t&&t.httpHeadersOverwriteParam)&&!/^[\s\xa0]*$/.test(e)&&(this.a.h=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!/^[\s\xa0]*$/.test(t)&&(this.a.j=t,null!==(e=this.g)&&t in e&&(t in(e=this.g)&&delete e[t],E(this.f,"Ignore httpSessionIdParam also specified with messageUrlParams: "+t))),this.h=new Pe(this)}function Qe(e){Od.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Re(){Pd.call(this),this.status=1}function Pe(e){this.a=e}g=T.prototype,g.fa=function(e,t,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.s+"; newUri="+e);t=t?t.toUpperCase():"GET",this.s=e,this.g="",this.j=0,this.M=t,this.H=!1,this.f=!0,this.a=this.F?Mc(this.F):Mc(Kc),this.D=this.F?Ic(this.F):Ic(Kc),this.a.onreadystatechange=r(this.La,this);try{F(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(t,String(e),!0),this.I=!1}catch(a){return F(this.b,U(this,"Error opening Xhr: "+a.message)),void oe(this,a)}e=n||"";var o=new N(this.headers);i&&hd(i,(function(e,t){o.set(t,e)})),i=ua(o.O()),n=k.FormData&&e instanceof k.FormData,!(0<=sa(ne,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.N&&(this.a.responseType=this.N),"withCredentials"in this.a&&this.a.withCredentials!==this.m&&(this.a.withCredentials=this.m);try{pe(this),0<this.l&&(this.C=qe(this.a),F(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.C)),this.C?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ia,this)):this.B=Zb(this.Ia,this.l,this)),F(this.b,U(this,"Sending request")),this.o=!0,this.a.send(e),this.o=!1}catch(a){F(this.b,U(this,"Send error: "+a.message)),oe(this,a)}},g.Ia=function(){"undefined"!=typeof goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,F(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(e){this.a&&this.f&&(F(this.b,U(this,"Aborting")),this.f=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),se(this))},g.A=function(){this.a&&(this.f&&(this.f=!1,this.h=!0,this.a.abort(),this.h=!1),se(this,!0)),T.L.A.call(this)},g.La=function(){this.i||(this.I||this.o||this.h?te(this):this.ab())},g.ab=function(){te(this)},g.W=function(){try{return 2<M(this)?this.a.status:-1}catch(e){return-1}},g.Ga=function(){try{return 2<M(this)?this.a.statusText:""}catch(e){return F(this.b,"Can not get status: "+e.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(e){return F(this.b,"Can not get responseText: "+e.message),""}},g.Ya=function(e){if(this.a){var t=this.a.responseText;e&&0==t.indexOf(e)&&(t=t.substring(e.length));e:{if(e=t,k.JSON)try{var n=k.JSON.parse(e);break e}catch(r){}n=Cb(e)}return n}},g.Fa=function(){return this.j},g.Za=function(){return l(this.g)?this.g:String(this.g)},g=we.prototype,g.oa=8,g.G=1,g.Ja=function(){return 0==this.G},g.Oa=function(e){if(this.l=null,I(this.a,"startForwardChannel_"),1==this.G)if(e)xc(this.a,"Not supposed to retry the open");else{I(this.a,"open_()"),this.P=Math.floor(1e5*Math.random()),e=this.P++;var t=new K(this,this.a,e,void 0),n=this.i;this.M&&(n?Ga(n=Ea(n),this.M):n=this.M),null===this.h&&(t.j=n);var r=Ge(this,t),i=L(this.F);Q(i,"RID",e),Q(i,"CVER",21),this.D&&this.j&&Q(i,"X-HTTP-Session-Id",this.j),ze(this,i),this.h&&n&&ve(i,this.h,n),ae(this.c,t),this.Ta?(Q(i,"$req",r),Sc(t,i,null)):Sc(t,i,r),this.G=2}else 3==this.G&&(e?He(this,e):0==this.g.length?I(this.a,"startForwardChannel_ returned: nothing to send"):be(this.c)?xc(this.a,"startForwardChannel_ returned: connection already in progress"):(He(this),I(this.a,"startForwardChannel_ finished, sent request")))},g.Na=function(){this.m=null,I(this.a,"Creating new HttpRequest"),this.b=new K(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.P=0;var e=L(this.wa);Q(e,"RID","rpc"),Q(e,"SID",this.I),Q(e,"CI",this.la?"0":"1"),Q(e,"AID",this.N),ze(this,e),Q(e,"TYPE","xmlhttp"),this.h&&this.i&&ve(e,this.h,this.i),Vc(this.b,e,!0,this.ja),I(this.a,"New Request created")},g.Ma=function(e,t){if(0!=this.G&&(this.b==e||ce(this.c,e)))if(this.s=e.C,ce(this.c,e)&&3==this.G){try{var i=this.ma.a.parse(t)}catch(s){i=null}if(n(i)&&3==i.length)if(0==(t=i)[0])e:if(I(this.a,"Server claims our backchannel is missing."),this.m)I(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<e.D))break e;Be(this),this.b.cancel(),this.b=null}else E(this.a.a,"We do not have a BackChannel established");Je(this),J(18)}else this.xa=t[1],0<(e=this.xa-this.N)&&(t=t[2],I(this.a,t+" bytes (in "+e+" arrays) are outstanding on the BackChannel"),37500>t&&this.la&&0==this.w&&!this.o&&(this.o=Ec(r(this.$a,this),6e3)));else I(this.a,"Bad POST response data returned"),V(this,11)}else if(this.b==e&&Be(this),!/^[\s\xa0]*$/.test(t))for(t=i=this.ma.a.parse(t),i=0;i<t.length;i++){var o=t[i];if(this.N=o[0],o=o[1],2==this.G)if("c"==o[0]){this.I=o[1],this.ja=o[2];var a=o[3];null!=a&&(this.oa=a,H(this.a,"VER="+this.oa)),null!=(o=o[4])&&(this.ya=o,H(this.a,"SVER="+this.ya)),this.D&&(o=e.a)&&((a=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&$d(this.c,a),this.j&&((o=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)?(this.J=o,Q(this.F,this.j,o)):E(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.G=3,this.f&&this.f.Da(),this.wa=Td(this,this.ja,this.ka),Ie(this)}else"stop"!=o[0]&&"close"!=o[0]||V(this,7);else 3==this.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?V(this,7):xe(this):"noop"!=o[0]&&this.f&&this.f.Ca(o),this.w=0)}},g.$a=function(){null!=this.o&&(this.o=null,this.b.cancel(),this.b=null,Je(this),J(19))},g.ua=function(e){I(this.a,"Request complete");var n=null;if(this.b==e){Be(this),this.b=null;var r=2}else{if(!ce(this.c,e))return;n=e.s,de(this.c,e),r=1}if(this.s=e.C,0!=this.G)if(e.c)1==r?(Dc(e.m?e.m.length:0,t()-e.D,this.C),De(this)):Ie(this);else{var i=e.l;if(3==i||0==i&&0<this.s)I(this.a,"Not retrying due to error type");else{var o=this;if(I(this.a,(function(){return"Maybe retrying, last error: "+Pc(i,o.s)})),1==r&&Ee(this,e)||2==r&&Je(this))return;I(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&fe(this.c,n),I(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.hb=function(e){e?(H(this.a,"Successfully pinged google.com"),J(2)):(H(this.a,"Failed to ping google.com"),J(1))},g.da=function(e){if(e&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new T).m=this.S,e},g.ra=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Ld,g=Me.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.Va=function(){},Oe.prototype.a=function(e,t){return new W(e,t)},u(W,B),W.prototype.j=function(){this.a.f=this.h,this.o&&(this.a.S=!0);var e=this.a,t=this.s,n=this.b,r=this.g||void 0;I(e.a,"connect()"),J(0),e.ka=n,e.U=r||{},e.D&&(I(e.a,"connect() bypassed channel-test."),e.H.b=[],e.H.a=!1),I(e.a,"connectTest_()"),e.B=new Qd(e,e.a),null===e.h&&(e.B.i=e.i),n=t,e.h&&e.i&&(n=ve(t,e.h,e.i)),(e=e.B).l=n,t=Ke(e.a,e.l),J(3),null!=(n=e.a.H.b)?(e.g=n[0],e.R=1,Rd(e)):(Xc(t,"MODE","init"),!e.a.D&&e.a.j&&Xc(t,"X-HTTP-Session-Id",e.a.j),e.c=new K(e,e.b,void 0,void 0),e.c.j=e.i,Vc(e.c,t,!1,null),e.R=0)},W.prototype.close=function(){xe(this.a)},W.prototype.l=function(e){if(l(e)){var t={};t.__data__=e,Ce(this.a,t)}else this.m?((t={}).__data__=Db(e),Ce(this.a,t)):Ce(this.a,e)},W.prototype.A=function(){this.a.f=null,delete this.h,xe(this.a),delete this.a,W.L.A.call(this)},u(Qe,Od),u(Re,Pd),u(Pe,Me),Pe.prototype.Da=function(){pc(this.a.f,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Pe.prototype.Ca=function(e){this.a.dispatchEvent(new Qe(e))},Pe.prototype.Ba=function(e){pc(this.a.f,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Re(e))},Pe.prototype.Aa=function(){pc(this.a.f,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Se=ia((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),Oe);function Te(){this.b=[],this.a=[]}function Ue(e){return 0==e.b.length&&(e.b=e.a,e.b.reverse(),e.a=[]),e.b.pop()}function Ve(e,t){if(w.call(this),this.h=e||0,this.c=t||10,this.h>this.c)throw Error(We);this.a=new Te,this.b=new S,this.g=null,this.ba()}Te.prototype.u=function(){return this.b.length+this.a.length},Te.prototype.contains=function(e){return 0<=sa(this.b,e)||0<=sa(this.a,e)},Te.prototype.v=function(){for(var e=[],t=this.b.length-1;0<=t;--t)e.push(this.b[t]);var n=this.a.length;for(t=0;t<n;++t)e.push(this.a[t]);return e},u(Ve,w);var We="[goog.structs.Pool] Min can not be greater than max";function Xe(e){if("function"==typeof e.Z)e.Z();else for(var t in e)e[t]=null}function Ye(e,t){this.a=e,this.b=t}function Ze(e){if(this.a=[],e)e:{if(e instanceof Ze){var t=e.O();if(e=e.v(),0>=this.u()){for(var n=this.a,r=0;r<t.length;r++)n.push(new Ye(t[r],e[r]));break e}}else t=Da(e),e=Ca(e);for(r=0;r<t.length;r++)$e(this,t[r],e[r])}}function $e(e,t,n){var r=e.a;for(r.push(new Ye(t,n)),t=r.length-1,n=(e=e.a)[t];0<t&&e[r=t-1>>1].a>n.a;)e[t]=e[r],t=r;e[t]=n}function af(){Ze.call(this)}function X(e,t){this.f=new af,Ve.call(this,e,t)}function Y(e,t,n,r){this.l=e,this.j=!!r,X.call(this,t,n)}g=Ve.prototype,g.ea=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<this.a.u()&&(n=Ue(this.a),!this.ta(n));)this.ba();return!n&&this.u()<this.c&&(n=this.qa()),n&&(this.g=e,this.b.add(n)),n}},g.gb=function(e){return!!kd(this.b.a,Wd(e))&&(this.na(e),!0)},g.na=function(e){kd(this.b.a,Wd(e)),this.ta(e)&&this.u()<this.c?this.a.a.push(e):Xe(e)},g.ba=function(){for(var e=this.a;this.u()<this.h;){var t=this.qa();e.a.push(t)}for(;this.u()>this.c&&0<this.a.u();)Xe(Ue(e))},g.qa=function(){return{}},g.ta=function(e){return"function"!=typeof e.Wa||e.Wa()},g.contains=function(e){return this.a.contains(e)||this.b.contains(e)},g.u=function(){return this.a.u()+this.b.u()},g.A=function(){if(Ve.L.A.call(this),0<this.b.u())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var e=this.a;0!=e.b.length||0!=e.a.length;)Xe(Ue(e));delete this.a},Ze.prototype.v=function(){for(var e=this.a,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].b);return t},Ze.prototype.O=function(){for(var e=this.a,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].a);return t},Ze.prototype.u=function(){return this.a.length},u(af,Ze),u(X,Ve),g=X.prototype,g.ea=function(e,t){if(!e)return X.L.ea.call(this);$e(this.f,void 0!==t?t:100,e),this.sa()},g.sa=function(){for(var e=this.f;0<e.u();){var t=this.ea();if(!t)break;var n=e,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)wa(r);else{r[0]=r.pop(),r=0,i=(n=n.a).length;for(var a=n[r];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[t])}},g.na=function(e){X.L.na.call(this,e),this.sa()},g.ba=function(){X.L.ba.call(this),this.sa()},g.A=function(){X.L.A.call(this),k.clearTimeout(void 0),wa(this.f.a),this.f=null},u(Y,X),Y.prototype.qa=function(){var e=new T,t=this.l;return t&&t.forEach((function(t,n){e.headers.set(n,t)})),this.j&&(e.m=!0),e},Y.prototype.ta=function(e){return!e.i&&!e.a},Oe.prototype.createWebChannel=Oe.prototype.a,W.prototype.send=W.prototype.l,W.prototype.open=W.prototype.j,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Md.EventType=Nd,Nd.OPEN="a",Nd.CLOSE="b",Nd.ERROR="c",Nd.MESSAGE="d",B.prototype.listen=B.prototype.aa,Y.prototype.getObject=Y.prototype.ea,Y.prototype.releaseObject=Y.prototype.gb,T.prototype.listenOnce=T.prototype.Ha,T.prototype.getLastError=T.prototype.Za,T.prototype.getLastErrorCode=T.prototype.Fa,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ga,T.prototype.getResponseJson=T.prototype.Ya,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Se,ErrorCode:Fc,EventType:Gc,WebChannel:Md,XhrIoPool:Y}}).call("undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},5403:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},303:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=a},2955:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89zm-2.99-3.9 1.05 4.37c.1.42.01.84-.25 1.17-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01zM13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31V5zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41-.25-.29-.37-.68-.33-1.07zm-4.45-.16L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.49 0-.8-.29-.93-.47-.27-.32-.36-.75-.26-1.17zM5 19v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19H5z"}),"Storefront");t.Z=a},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(717)},717:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s},createChainedFunction:function(){return u},createSvgIcon:function(){return Mr},debounce:function(){return Lr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return jr},ownerDocument:function(){return Br},ownerWindow:function(){return Vr},requirePropFactory:function(){return qr},setRef:function(){return zr},unstable_ClassNameGenerator:function(){return ci},unstable_useEnhancedEffect:function(){return Hr},unstable_useId:function(){return Xr},unsupportedProp:function(){return Yr},useControlled:function(){return $r},useEventCallback:function(){return Jr},useForkRef:function(){return ei},useIsFocusVisible:function(){return ui}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function o(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function a(e){if("string"!==typeof e)throw new Error(o(7));return e.charAt(0).toUpperCase()+e.slice(1)}var s=a;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(7462),l=n(2791),h=n.t(l,2);function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=g(e[i],t[i],n):r[i]=t[i])})),r}var v=n(4942),b=["values","unit","step"];function _(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,s=f(e,b),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,v.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(u);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-a/100).concat(i,")")}return(0,c.Z)({keys:l,values:u,up:h,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):h(e)},not:function(e){var t=l.indexOf(e);return 0===t?h(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var w={borderRadius:4},S=n(885),E={xs:0,sm:600,md:900,lg:1200,xl:1536},C={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function T(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||C;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||C;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||E).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function k(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function I(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function N(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function P(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:N(e,n)||i,t&&(r=t(r)),r}var O=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=N(e.theme,i)||{};return T(e,n,(function(e){var n=P(s,o,e);return e===n&&"string"===typeof e&&(n=P(s,o,"".concat(t).concat("default"===e?"":a(e)),e)),!1===r?n:(0,v.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var R=function(e,t){return t?g(e,t,{clone:!1}):e};var A={m:"margin",p:"padding"},x={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!D[e])return[e];e=D[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],o=A[r],a=x[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),L=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],j=[].concat(L,F);function U(e,t,n,r){var i,o=null!=(i=N(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function B(e){return U(e,"spacing",8)}function V(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function q(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=V(t,n),e}),{})}}(M(n),r);return T(e,e[n],i)}function W(e,t){var n=B(e.theme);return Object.keys(e).map((function(r){return q(e,t,r,n)})).reduce(R,{})}function z(e){return W(e,L)}function K(e){return W(e,F)}function H(e){return W(e,j)}z.propTypes={},z.filterProps=L,K.propTypes={},K.filterProps=F,H.propTypes={},H.filterProps=j;var Q=H;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var X=["breakpoints","palette","spacing","shape"];var Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,s=void 0===a?{}:a,u=f(e,X),l=_(n),h=G(o),d=g({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:h,shape:(0,c.Z)({},w,s)},u),p=arguments.length,m=new Array(p>1?p-1:0),y=1;y<p;y++)m[y-1]=arguments[y];return d=m.reduce((function(e,t){return g(e,t)}),d)};var $=l.createContext(null);function J(){return l.useContext($)}function Z(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=J();return!t||Z(t)?e:t},te=Y();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t){var n;return(0,c.Z)({toolbar:(n={minHeight:56},(0,v.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,v.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function oe(e){if(e.type)return e;if("#"===e.charAt(0))return oe(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(o(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(o(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function ae(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function se(e){var t="hsl"===(e=oe(e)).type?oe(function(e){var t=(e=oe(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),ae({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ue(e,t){if(e=oe(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ae(e)}function ce(e,t){if(e=oe(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ae(e)}var le={black:"#000",white:"#fff"},he={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},fe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},me={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ye={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ge={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ve=["mode","contrastThreshold","tonalOffset"],be={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:le.white,default:le.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_e={text:{primary:le.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:le.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ce(e.main,i):"dark"===t&&(e.dark=ue(e.main,o)))}function Se(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,s=void 0===a?.2:a,u=f(e,ve),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[200],light:me[50],dark:me[400]}:{main:me[700],light:me[400],dark:me[800]}}(n),h=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fe[200],light:fe[50],dark:fe[400]}:{main:fe[500],light:fe[300],dark:fe[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[700],light:ye[500],dark:ye[900]}}(n),m=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ge[400],light:ge[300],dark:ge[700]}:{main:ge[800],light:ge[500],dark:ge[900]}}(n),y=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function v(e){var t=function(e,t){var n=se(e),r=se(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,_e.text.primary)>=i?_e.text.primary:be.text.primary;return t}var b=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,l=e.darkShade,h=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(o(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(o(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",u,s),we(t,"dark",h,s),t.contrastText||(t.contrastText=v(t.main)),t},_={dark:_e,light:be};return g((0,c.Z)({common:(0,c.Z)({},le),mode:n,primary:b({color:l,name:"primary"}),secondary:b({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:d,name:"error"}),warning:b({color:y,name:"warning"}),info:b({color:p,name:"info"}),success:b({color:m,name:"success"}),grey:he,contrastThreshold:i,getContrastText:v,augmentColor:b,tonalOffset:s},_[n]),u)}var Ee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ce={textTransform:"uppercase"},Te='"Roboto", "Helvetica", "Arial", sans-serif';function ke(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Te:r,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,m=n.fontWeightBold,y=void 0===m?700:m,v=n.htmlFontSize,b=void 0===v?16:v,_=n.allVariants,w=n.pxToRem,S=f(n,Ee);var E=a/14,C=w||function(e){return"".concat(e/b*E,"rem")},T=function(e,t,n,r,o){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:C(t),lineHeight:n},i===Te?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,_);var a},k={h1:T(u,96,1.167,-1.5),h2:T(u,60,1.2,-.5),h3:T(h,48,1.167,0),h4:T(h,34,1.235,.25),h5:T(h,24,1.334,0),h6:T(p,20,1.6,.15),subtitle1:T(h,16,1.75,.15),subtitle2:T(p,14,1.57,.1),body1:T(h,16,1.5,.15),body2:T(h,14,1.43,.15),button:T(p,14,1.75,.4,Ce),caption:T(h,12,1.66,.4),overline:T(h,12,2.66,1,Ce)};return g((0,c.Z)({htmlFontSize:b,pxToRem:C,fontFamily:i,fontSize:a,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:y},k),S,{clone:!1})}function Ie(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ne=["none",Ie(0,2,1,-1,0,1,1,0,0,1,3,0),Ie(0,3,1,-2,0,2,2,0,0,1,5,0),Ie(0,3,3,-2,0,3,4,0,0,1,8,0),Ie(0,2,4,-1,0,4,5,0,0,1,10,0),Ie(0,3,5,-1,0,5,8,0,0,1,14,0),Ie(0,3,5,-1,0,6,10,0,0,1,18,0),Ie(0,4,5,-2,0,7,10,1,0,2,16,1),Ie(0,5,5,-3,0,8,10,1,0,3,14,2),Ie(0,5,6,-3,0,9,12,1,0,3,16,2),Ie(0,6,6,-3,0,10,14,1,0,4,18,3),Ie(0,6,7,-4,0,11,15,1,0,4,20,3),Ie(0,7,8,-4,0,12,17,2,0,5,22,4),Ie(0,7,8,-4,0,13,19,2,0,5,24,4),Ie(0,7,9,-4,0,14,21,2,0,5,26,4),Ie(0,8,9,-5,0,15,22,2,0,6,28,5),Ie(0,8,10,-5,0,16,24,2,0,6,30,5),Ie(0,8,11,-5,0,17,26,2,0,6,32,5),Ie(0,9,11,-5,0,18,28,2,0,7,34,6),Ie(0,9,12,-6,0,19,29,2,0,7,36,6),Ie(0,10,13,-6,0,20,31,3,0,8,38,7),Ie(0,10,13,-6,0,21,33,3,0,8,40,7),Ie(0,10,14,-6,0,22,35,3,0,8,42,7),Ie(0,11,14,-7,0,23,36,3,0,9,44,8),Ie(0,11,15,-7,0,24,38,3,0,9,46,8)],Pe=["duration","easing","delay"],Oe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Re={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ae(e){return"".concat(Math.round(e),"ms")}function xe(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function De(e){var t=(0,c.Z)({},Oe,e.easing),n=(0,c.Z)({},Re,e.duration);return(0,c.Z)({getAutoHeightDuration:xe,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,s=void 0===a?t.easeInOut:a,u=r.delay,c=void 0===u?0:u;f(r,Pe);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:Ae(o)," ").concat(s," ").concat("string"===typeof c?c:Ae(c))})).join(",")}},e,{easing:t,duration:n})}var Me={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Le=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,s=e.typography,u=void 0===s?{}:s,l=f(e,Le),h=Se(i),d=Y(e),p=g(d,{mixins:re(d.breakpoints,n),palette:h,shadows:Ne.slice(),typography:ke(h,u),transitions:De(a),zIndex:(0,c.Z)({},Me)});p=g(p,l);for(var m=arguments.length,y=new Array(m>1?m-1:0),v=1;v<m;v++)y[v-1]=arguments[v];return p=y.reduce((function(e,t){return g(e,t)}),p)}var je=Fe();function Ue(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return m({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:je})}var Be=n(2982);var Ve=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},qe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,We=Ve((function(e){return qe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ke=Math.abs,He=String.fromCharCode,Qe=Object.assign;function Ge(e){return e.trim()}function Xe(e,t,n){return e.replace(t,n)}function Ye(e,t){return e.indexOf(t)}function $e(e,t){return 0|e.charCodeAt(t)}function Je(e,t,n){return e.slice(t,n)}function Ze(e){return e.length}function et(e){return e.length}function tt(e,t){return t.push(e),e}var nt=1,rt=1,it=0,ot=0,at=0,st="";function ut(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:nt,column:rt,length:a,return:""}}function ct(e,t){return Qe(ut("",null,null,"",null,null,0),e,{length:-e.length},t)}function lt(){return at=ot>0?$e(st,--ot):0,rt--,10===at&&(rt=1,nt--),at}function ht(){return at=ot<it?$e(st,ot++):0,rt++,10===at&&(rt=1,nt++),at}function ft(){return $e(st,ot)}function dt(){return ot}function pt(e,t){return Je(st,e,t)}function mt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yt(e){return nt=rt=1,it=Ze(st=e),ot=0,[]}function gt(e){return st="",e}function vt(e){return Ge(pt(ot-1,wt(91===e?e+2:40===e?e+1:e)))}function bt(e){for(;(at=ft())&&at<33;)ht();return mt(e)>2||mt(at)>3?"":" "}function _t(e,t){for(;--t&&ht()&&!(at<48||at>102||at>57&&at<65||at>70&&at<97););return pt(e,dt()+(t<6&&32==ft()&&32==ht()))}function wt(e){for(;ht();)switch(at){case e:return ot;case 34:case 39:34!==e&&39!==e&&wt(at);break;case 40:41===e&&wt(e);break;case 92:ht()}return ot}function St(e,t){for(;ht()&&e+at!==57&&(e+at!==84||47!==ft()););return"/*"+pt(t,ot-1)+"*"+He(47===e?e:ht())}function Et(e){for(;!mt(ft());)ht();return pt(e,ot)}var Ct="-ms-",Tt="-moz-",kt="-webkit-",It="comm",Nt="rule",Pt="decl",Ot="@keyframes";function Rt(e,t){for(var n="",r=et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function At(e,t,n,r){switch(e.type){case"@import":case Pt:return e.return=e.return||e.value;case It:return"";case Ot:return e.return=e.value+"{"+Rt(e.children,r)+"}";case Nt:e.value=e.props.join(",")}return Ze(n=Rt(e.children,r))?e.return=e.value+"{"+n+"}":""}function xt(e,t){switch(function(e,t){return(((t<<2^$e(e,0))<<2^$e(e,1))<<2^$e(e,2))<<2^$e(e,3)}(e,t)){case 5103:return kt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+e+Tt+e+Ct+e+e;case 6828:case 4268:return kt+e+Ct+e+e;case 6165:return kt+e+Ct+"flex-"+e+e;case 5187:return kt+e+Xe(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return kt+e+Ct+"flex-item-"+Xe(e,/flex-|-self/,"")+e;case 4675:return kt+e+Ct+"flex-line-pack"+Xe(e,/align-content|flex-|-self/,"")+e;case 5548:return kt+e+Ct+Xe(e,"shrink","negative")+e;case 5292:return kt+e+Ct+Xe(e,"basis","preferred-size")+e;case 6060:return kt+"box-"+Xe(e,"-grow","")+kt+e+Ct+Xe(e,"grow","positive")+e;case 4554:return kt+Xe(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Xe(Xe(Xe(e,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),e,"")+e;case 5495:case 3959:return Xe(e,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Xe(Xe(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+e+e;case 4095:case 3583:case 4068:case 2532:return Xe(e,/(.+)-inline(.+)/,kt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ze(e)-1-t>6)switch($e(e,t+1)){case 109:if(45!==$e(e,t+4))break;case 102:return Xe(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Tt+(108==$e(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch")?xt(Xe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$e(e,t+1))break;case 6444:switch($e(e,Ze(e)-3-(~Ye(e,"!important")&&10))){case 107:return Xe(e,":",":"+kt)+e;case 101:return Xe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(45===$e(e,14)?"inline-":"")+"box$3$1"+kt+"$2$3$1"+Ct+"$2box$3")+e}break;case 5936:switch($e(e,t+11)){case 114:return kt+e+Ct+Xe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return kt+e+Ct+Xe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return kt+e+Ct+Xe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return kt+e+Ct+e+e}return e}function Dt(e){return gt(Mt("",null,null,null,[""],e=yt(e),0,[0],e))}function Mt(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,h=a,f=0,d=0,p=0,m=1,y=1,g=1,v=0,b="",_=i,w=o,S=r,E=b;y;)switch(p=v,v=ht()){case 40:if(108!=p&&58==E.charCodeAt(h-1)){-1!=Ye(E+=Xe(vt(v),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=vt(v);break;case 9:case 10:case 13:case 32:E+=bt(p);break;case 92:E+=_t(dt()-1,7);continue;case 47:switch(ft()){case 42:case 47:tt(Ft(St(ht(),dt()),t,n),u);break;default:E+="/"}break;case 123*m:s[c++]=Ze(E)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+l:d>0&&Ze(E)-h&&tt(d>32?jt(E+";",r,n,h-1):jt(Xe(E," ","")+";",r,n,h-2),u);break;case 59:E+=";";default:if(tt(S=Lt(E,t,n,c,l,i,s,b,_=[],w=[],h),o),123===v)if(0===l)Mt(E,t,S,S,_,o,h,s,w);else switch(f){case 100:case 109:case 115:Mt(e,S,S,r&&tt(Lt(e,S,S,0,0,i,s,b,i,_=[],h),w),i,w,h,s,r?_:w);break;default:Mt(E,S,S,S,[""],w,0,s,w)}}c=l=d=0,m=g=1,b=E="",h=a;break;case 58:h=1+Ze(E),d=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==lt())continue;switch(E+=He(v),v*m){case 38:g=l>0?1:(E+="\f",-1);break;case 44:s[c++]=(Ze(E)-1)*g,g=1;break;case 64:45===ft()&&(E+=vt(ht())),f=ft(),l=h=Ze(b=E+=Et(dt())),v++;break;case 45:45===p&&2==Ze(E)&&(m=0)}}return o}function Lt(e,t,n,r,i,o,a,s,u,c,l){for(var h=i-1,f=0===i?o:[""],d=et(f),p=0,m=0,y=0;p<r;++p)for(var g=0,v=Je(e,h+1,h=Ke(m=a[p])),b=e;g<d;++g)(b=Ge(m>0?f[g]+" "+v:Xe(v,/&\f/g,f[g])))&&(u[y++]=b);return ut(e,t,n,0===i?Nt:s,u,c,l)}function Ft(e,t,n){return ut(e,t,n,It,He(at),Je(e,2,-2),0)}function jt(e,t,n,r){return ut(e,t,n,Pt,Je(e,0,r),Je(e,r+1,-1),r)}var Ut=function(e,t,n){for(var r=0,i=0;r=i,i=ft(),38===r&&12===i&&(t[n]=1),!mt(i);)ht();return pt(e,ot)},Bt=function(e,t){return gt(function(e,t){var n=-1,r=44;do{switch(mt(r)){case 0:38===r&&12===ft()&&(t[n]=1),e[n]+=Ut(ot-1,t,n);break;case 2:e[n]+=vt(r);break;case 4:if(44===r){e[++n]=58===ft()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=He(r)}}while(r=ht());return e}(yt(e),t))},Vt=new WeakMap,qt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Vt.get(n))&&!r){Vt.set(e,!0);for(var i=[],o=Bt(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Wt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},zt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Pt:e.return=xt(e.value,e.length);break;case Ot:return Rt([ct(e,{value:Xe(e.value,"@","@"+kt)})],r);case Nt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rt([ct(e,{props:[Xe(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Rt([ct(e,{props:[Xe(t,/:(plac\w+)/,":-webkit-input-$1")]}),ct(e,{props:[Xe(t,/:(plac\w+)/,":-moz-$1")]}),ct(e,{props:[Xe(t,/:(plac\w+)/,Ct+"input-$1")]})],r)}return""}))}}],Kt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||zt;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,c,l=[At,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=et(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([qt,Wt].concat(r,l));o=function(e,t,n,r){u=n,Rt(Dt(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};var Ht=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Qt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gt=/[A-Z]|^ms/g,Xt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(e){return 45===e.charCodeAt(1)},$t=function(e){return null!=e&&"boolean"!==typeof e},Jt=Ve((function(e){return Yt(e)?e:e.replace(Gt,"-$&").toLowerCase()})),Zt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Xt,(function(e,t,n){return tn={name:t,styles:n,next:tn},t}))}return 1===Qt[e]||Yt(e)||"number"!==typeof t||0===t?t:t+"px"};function en(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tn={name:n.name,styles:n.styles,next:tn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tn={name:r.name,styles:r.styles,next:tn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=en(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":$t(a)&&(r+=Jt(o)+":"+Zt(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=en(e,t,a);switch(o){case"animation":case"animationName":r+=Jt(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)$t(a[u])&&(r+=Jt(o)+":"+Zt(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tn,o=n(e);return tn=i,en(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var tn,nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=en(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=en(n,t,e[a]),r&&(i+=o[a]);nn.lastIndex=0;for(var s,u="";null!==(s=nn.exec(i));)u+="-"+s[1];return{name:Ht(i)+u,styles:i,next:tn}},on=(0,l.createContext)("undefined"!==typeof HTMLElement?Kt({key:"css"}):null);on.Provider;var an=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(on);return e(t,r,n)}))},sn=(0,l.createContext)({});h.useInsertionEffect&&h.useInsertionEffect;function un(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var cn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ln=We,hn=function(e){return"theme"!==e},fn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?ln:hn},dn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pn=h.useInsertionEffect?h.useInsertionEffect:function(e){e()};var mn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;cn(t,n,r);var i;i=function(){return function(e,t,n){cn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},pn(i);return null},yn=function e(t,n){var r,i,o=t.__emotion_real===t,a=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var s=dn(t,n,o),u=s||fn(a),h=!u("as");return function(){var f=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var p=f.length,m=1;m<p;m++)d.push(f[m],f[0][m])}var y=an((function(e,t,n){var r=h&&e.as||a,o="",c=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=(0,l.useContext)(sn)}"string"===typeof e.className?o=un(t.registered,c,e.className):null!=e.className&&(o=e.className+" ");var m=rn(d.concat(c),t.registered,f);o+=t.key+"-"+m.name,void 0!==i&&(o+=" "+i);var y=h&&void 0===s?fn(r):u,g={};for(var v in e)h&&"as"===v||y(v)&&(g[v]=e[v]);return g.className=o,g.ref=n,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(mn,{cache:t,serialized:m,isStringTag:"string"===typeof r}),(0,l.createElement)(r,g))}));return y.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=a,y.__emotion_styles=d,y.__emotion_forwardProp=s,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:dn(y,r,!0)})).apply(void 0,d)},y}},gn=yn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){gn[e]=gn(e)}));var vn=gn;function bn(e,t){return vn(e,t)}var _n=["variant"];function wn(e){return 0===e.length}function Sn(e){var t=e.variant,n=f(e,_n),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?wn(r)?e[t]:a(e[t]):"".concat(wn(r)?t:a(t)).concat(a(e[t].toString()))})),r}var En=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?R(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Cn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Tn=O({prop:"border",themeKey:"borders",transform:Cn}),kn=O({prop:"borderTop",themeKey:"borders",transform:Cn}),In=O({prop:"borderRight",themeKey:"borders",transform:Cn}),Nn=O({prop:"borderBottom",themeKey:"borders",transform:Cn}),Pn=O({prop:"borderLeft",themeKey:"borders",transform:Cn}),On=O({prop:"borderColor",themeKey:"palette"}),Rn=O({prop:"borderTopColor",themeKey:"palette"}),An=O({prop:"borderRightColor",themeKey:"palette"}),xn=O({prop:"borderBottomColor",themeKey:"palette"}),Dn=O({prop:"borderLeftColor",themeKey:"palette"}),Mn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=U(e.theme,"shape.borderRadius",4);return T(e,e.borderRadius,(function(e){return{borderRadius:V(t,e)}}))}return null};Mn.propTypes={},Mn.filterProps=["borderRadius"];var Ln=En(Tn,kn,In,Nn,Pn,On,Rn,An,xn,Dn,Mn),Fn=En(O({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),O({prop:"display"}),O({prop:"overflow"}),O({prop:"textOverflow"}),O({prop:"visibility"}),O({prop:"whiteSpace"})),jn=En(O({prop:"flexBasis"}),O({prop:"flexDirection"}),O({prop:"flexWrap"}),O({prop:"justifyContent"}),O({prop:"alignItems"}),O({prop:"alignContent"}),O({prop:"order"}),O({prop:"flex"}),O({prop:"flexGrow"}),O({prop:"flexShrink"}),O({prop:"alignSelf"}),O({prop:"justifyItems"}),O({prop:"justifySelf"})),Un=function(e){if(void 0!==e.gap&&null!==e.gap){var t=U(e.theme,"spacing",8);return T(e,e.gap,(function(e){return{gap:V(t,e)}}))}return null};Un.propTypes={},Un.filterProps=["gap"];var Bn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=U(e.theme,"spacing",8);return T(e,e.columnGap,(function(e){return{columnGap:V(t,e)}}))}return null};Bn.propTypes={},Bn.filterProps=["columnGap"];var Vn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=U(e.theme,"spacing",8);return T(e,e.rowGap,(function(e){return{rowGap:V(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["rowGap"];var qn=En(Un,Bn,Vn,O({prop:"gridColumn"}),O({prop:"gridRow"}),O({prop:"gridAutoFlow"}),O({prop:"gridAutoColumns"}),O({prop:"gridAutoRows"}),O({prop:"gridTemplateColumns"}),O({prop:"gridTemplateRows"}),O({prop:"gridTemplateAreas"}),O({prop:"gridArea"})),Wn=En(O({prop:"position"}),O({prop:"zIndex",themeKey:"zIndex"}),O({prop:"top"}),O({prop:"right"}),O({prop:"bottom"}),O({prop:"left"})),zn=En(O({prop:"color",themeKey:"palette"}),O({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),O({prop:"backgroundColor",themeKey:"palette"})),Kn=O({prop:"boxShadow",themeKey:"shadows"});function Hn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Qn=O({prop:"width",transform:Hn}),Gn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return T(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||E[t]||Hn(t)}}))}return null};Gn.filterProps=["maxWidth"];var Xn=O({prop:"minWidth",transform:Hn}),Yn=O({prop:"height",transform:Hn}),$n=O({prop:"maxHeight",transform:Hn}),Jn=O({prop:"minHeight",transform:Hn}),Zn=(O({prop:"size",cssProperty:"width",transform:Hn}),O({prop:"size",cssProperty:"height",transform:Hn}),En(Qn,Gn,Xn,Yn,$n,Jn,O({prop:"boxSizing"}))),er=O({prop:"fontFamily",themeKey:"typography"}),tr=O({prop:"fontSize",themeKey:"typography"}),nr=O({prop:"fontStyle",themeKey:"typography"}),rr=O({prop:"fontWeight",themeKey:"typography"}),ir=O({prop:"letterSpacing"}),or=O({prop:"textTransform"}),ar=O({prop:"lineHeight"}),sr=O({prop:"textAlign"}),ur=En(O({prop:"typography",cssProperty:!1,themeKey:"typography"}),er,tr,nr,rr,ir,ar,sr,or),cr={borders:Ln.filterProps,display:Fn.filterProps,flexbox:jn.filterProps,grid:qn.filterProps,positions:Wn.filterProps,palette:zn.filterProps,shadows:Kn.filterProps,sizing:Zn.filterProps,spacing:Q.filterProps,typography:ur.filterProps},lr={borders:Ln,display:Fn,flexbox:jn,grid:qn,positions:Wn,palette:zn,shadows:Kn,sizing:Zn,spacing:Q,typography:ur};Object.keys(cr).reduce((function(e,t){return cr[t].forEach((function(n){e[n]=lr[t]})),e}),{});function hr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function fr(e,t){return"function"===typeof e?e(t):e}var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(i={},(0,v.Z)(i,e,n),(0,v.Z)(i,"theme",r),i),a=t[e];return a?a(o):(0,v.Z)({},e,n)}function r(e){var i=e||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;function u(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var o=k(s.breakpoints),a=Object.keys(o),u=o;return Object.keys(i).forEach((function(e){var o=fr(i[e],s);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])u=R(u,n(e,o,s));else{var a=T({theme:s},o,(function(t){return(0,v.Z)({},e,t)}));hr(a,o)?u[e]=r({sx:o,theme:s}):u=R(u,a)}else u=R(u,n(e,o,s))})),I(a,u)}return Array.isArray(o)?o.map(u):u(o)}return r}();dr.filterProps=["sx"];var pr=dr,mr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],yr=["theme"],gr=["theme"];function vr(e){return 0===Object.keys(e).length}var br=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},_r=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Sn(e.props);r[t]=e.style})),r},wr=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,u=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Sn(n.props)])})),u};function Sr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Er=Y();var Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Er:t,r=e.rootShouldForwardProp,i=void 0===r?Sr:r,o=e.slotShouldForwardProp,a=void 0===o?Sr:o,s=e.styleFunctionSx,u=void 0===s?pr:s;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,s=r.slot,l=r.skipVariantsResolver,h=r.skipSx,d=r.overridesResolver,p=f(r,mr),m=void 0!==l?l:s&&"Root"!==s||!1,y=h||!1;var g=Sr;"Root"===s?g=i:s&&(g=a);var v=bn(e,(0,c.Z)({shouldForwardProp:g,label:t},p)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=f(t,yr);return e((0,c.Z)({theme:vr(r)?n:r},i))}:e})):[],s=e;o&&d&&a.push((function(e){var t=vr(e.theme)?n:e.theme,r=br(o,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=(0,S.Z)(n,2),o=r[0],a=r[1];i[o]="function"===typeof a?a((0,c.Z)({},e,{theme:t})):a})),d(e,i)}return null})),o&&!m&&a.push((function(e){var t=vr(e.theme)?n:e.theme;return wr(e,_r(o,t),t,o)})),y||a.push((function(e){var t=vr(e.theme)?n:e.theme;return u((0,c.Z)({},e,{theme:t}))}));var l=a.length-r.length;if(Array.isArray(e)&&l>0){var h=new Array(l).fill("");(s=[].concat((0,Be.Z)(e),(0,Be.Z)(h))).raw=[].concat((0,Be.Z)(e.raw),(0,Be.Z)(h))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=f(t,gr);return e((0,c.Z)({theme:vr(r)?n:r},i))});var p=v.apply(void 0,[s].concat((0,Be.Z)(a)));return p};return v.withConfig&&(b.withConfig=v.withConfig),b}}({defaultTheme:je,rootShouldForwardProp:function(e){return Sr(e)&&"classes"!==e}}),Tr=Cr,kr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Ir(e,t){return kr[t]||"".concat(i.generate(e),"-").concat(t)}function Nr(e){return Ir("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Ir(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Pr=n(184),Or=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Rr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(s(t)),"fontSize".concat(s(n))]},Nr,r)},Ar=Tr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(s(n.color))],t["fontSize".concat(s(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,y,g,v=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=v.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=v.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=v.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=v.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=v.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(h=null==(f=(v.vars||v).palette)||null==(d=f[b.color])?void 0:d.main)?h:{action:null==(p=(v.vars||v).palette)||null==(m=p.action)?void 0:m.active,disabled:null==(y=(v.vars||v).palette)||null==(g=y.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),xr=l.forwardRef((function(e,t){var n=Ue({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,s=n.component,u=void 0===s?"svg":s,l=n.fontSize,h=void 0===l?"medium":l,d=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,v=n.viewBox,b=void 0===v?"0 0 24 24":v,_=f(n,Or),w=(0,c.Z)({},n,{color:a,component:u,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:b}),S={};y||(S.viewBox=b);var E=Rr(w);return(0,Pr.jsxs)(Ar,(0,c.Z)({as:u,className:p(E.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},S,_,{children:[r,g?(0,Pr.jsx)("title",{children:g}):null]}))}));xr.muiName="SvgIcon";var Dr=xr;function Mr(e,t){var n=function(n,r){return(0,Pr.jsx)(Dr,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Dr.muiName,l.memo(l.forwardRef(n))}var Lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var jr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Ur(e){return e&&e.ownerDocument||document}var Br=Ur;var Vr=function(e){return Ur(e).defaultView||window};var qr=function(e,t){return function(){return null}};function Wr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var zr=Wr,Kr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Hr=Kr,Qr=0;var Gr=h.useId;var Xr=function(e){if(void 0!==Gr){var t=Gr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],o=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Qr+=1))}),[r]),o}(e)};var Yr=function(e,t,n,r,i){return null};var $r=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),o=(0,S.Z)(i,2),a=o[0],s=o[1];return[r?t:a,l.useCallback((function(e){r||s(e)}),[])]};var Jr=function(e){var t=l.useRef(e);return Kr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Zr,ei=function(e,t){return l.useMemo((function(){return null==e&&null==t?null:function(n){Wr(e,n),Wr(t,n)}}),[e,t])},ti=!0,ni=!1,ri={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ii(e){e.metaKey||e.altKey||e.ctrlKey||(ti=!0)}function oi(){ti=!1}function ai(){"hidden"===this.visibilityState&&ni&&(ti=!0)}function si(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ti||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ri[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var ui=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ii,!0),t.addEventListener("mousedown",oi,!0),t.addEventListener("pointerdown",oi,!0),t.addEventListener("touchstart",oi,!0),t.addEventListener("visibilitychange",ai,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!si(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ni=!0,window.clearTimeout(Zr),Zr=window.setTimeout((function(){ni=!1}),100),t.current=!1,!0)},ref:e}},ci={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},2079:function(e,t,n){n(5883),e.exports=n(2787).default},7548:function(e,t,n){n(7465)},8701:function(e,t,n){e.exports=n(4128)},5724:function(e,t,n){n(2208)},1857:function(e,t,n){var r=n(2079);n(7548),n(8701),n(5523),n(387),e.exports=r},5523:function(e,t,n){n(3326)},387:function(e,t,n){n(5215)},3274:function(e){!function(t){var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void s(t.promise,i)}a(t.promise,r)}else(1===e._state?a:s)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(a){s(e,a)}var r,o}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(r){if(n)return;n=!0,s(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n},i.all=function(e){return new i((function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0===--i&&t(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},i.resolve=function(e){return e&&"object"===typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},i._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(2007)),a=u(n(2791)),s=n(4432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:o.default.oneOfType([o.default.string,o.default.oneOf([!0])]),thousandSpacing:o.default.oneOf(["2","2s","3","4"]),decimalSeparator:o.default.string,decimalScale:o.default.number,fixedDecimalScale:o.default.bool,displayType:o.default.oneOf(["input","text"]),prefix:o.default.string,suffix:o.default.string,format:o.default.oneOfType([o.default.string,o.default.func]),removeFormatting:o.default.func,mask:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),value:o.default.oneOfType([o.default.number,o.default.string]),isNumericString:o.default.bool,customInput:o.default.func,allowNegative:o.default.bool,onValueChange:o.default.func,onKeyDown:o.default.func,onMouseUp:o.default.func,onChange:o.default.func,onFocus:o.default.func,onBlur:o.default.func,type:o.default.oneOf(["text","tel"]),isAllowed:o.default.func,renderText:o.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",o=void 0===t.value?this.formatNumString(i):this.formatValueProp();o!==r&&this.setState({value:o,numAsString:this.removeFormatting(o)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators(),n=t.decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-",""));var o=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==o&&(e=e.substring(0,o)+"."+e.substring(o+1,e.length).replace(new RegExp((0,s.escapeRegExp)(n),"g"),"")),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,o=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!o||0===i||t||r?"":"|"+(0,s.escapeRegExp)(o)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,o=r.suffix,a=r.format;if(!a){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-o.length)}if("function"===typeof a)return t;if("#"===a[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===a[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=a.indexOf("#"),l=a.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var h=a.substring(t,a.length).indexOf("#"),f=t,d=t+(-1===h?0:h);f>c&&("#"!==a[f]||!(0,s.charIsNumber)(e[f]));)f-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-f<d-t?f+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,o=this.getNumberRegex(!0),a=(e.match(o)||[]).join(""),s=(t.match(o)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",h=t[u]||"";if((l.match(o)||l===h)&&("0"!==l||!h.match(o)||"0"===h||a.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var o="-"===e[0];o&&(e=e.substring(1,e.length));var a=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==a&&a===e.length-i.length?e.substring(0,a):e,o&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,o=t.length;i<=o;i++){var a=t[i]||"",s=i===o?e.length:e.indexOf(a,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+a.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,o=t.length;i<o;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,o=t.suffix,a=this.getSeparators(),u=a.thousandSeparator,c=a.decimalSeparator,l=a.thousandSpacing,h=-1!==e.indexOf(".")||n&&r,f=this.splitDecimal(e),d=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),o&&(p+=o),m&&(d="-"+d),e=d+(h&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,o=i.value,a=i.isNumericString;return void 0===o?"":("number"===typeof o&&(o=o.toString(),a=!0),a&&!t&&"number"===typeof n&&(o=(0,s.roundToPrecision)(o,n,r)),a?this.formatNumString(o):this.formatInput(o))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,o=n.suffix,a=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-o.length||a&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var o=e,a=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=a[1].lastIndexOf(u[1]),l=o+(-1!==c?a[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(o,l,t)&&(n=t),!r){var h=this.removeFormatting(n),f=this.splitDecimal(h),d=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;if(h.length<i.length&&""===d&&!parseFloat(p))return m?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,o=i.isAllowed,a=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,a,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};o(l)||(u=a),t.value=u;var h=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,h,u),u!==a?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,o=n.numAsString,a=n.value;if(!r){o=(0,s.fixLeadingZero)(o);var u=this.formatNumString(o),c={formattedValue:u,value:o,floatValue:parseFloat(o)};if(u!==a)return e.persist(),void this.setState({value:u,numAsString:o},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,o=t.selectionStart,a=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,h=s.suffix,f=s.format,d=s.onKeyDown,p=void 0!==u&&c,m=this.getNumberRegex(!1,p),y=new RegExp("-"),g="string"===typeof f;if("ArrowLeft"===n||"Backspace"===n?a=o-1:"ArrowRight"===n?a=o+1:"Delete"===n&&(a=o),void 0!==a&&o===r){var v=a,b=g?f.indexOf("#"):l.length,_=g?f.lastIndexOf("#")+1:i.length-h.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";v=this.correctCaretPosition(i,a,w)}else if("Delete"!==n||m.test(i[a])||y.test(i[a])){if("Backspace"===n&&!m.test(i[a])&&!y.test(i[a])){for(;!m.test(i[v-1])&&v>b;)v--;v=this.correctCaretPosition(i,v,"left")}}else for(;!m.test(i[v])&&v<_;)v++;(v!==a||a<b||a>_)&&(e.preventDefault(),this.setPatchedCaretPosition(t,v,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,v,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var o=this.correctCaretPosition(i,n);o!==n&&this.setPatchedCaretPosition(t,o,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,o=t.correctCaretPosition(i,r);o!==r&&t.setPatchedCaretPosition(n,o,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,o=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),h=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return o?o(u)||null:a.default.createElement("span",l,u);if(i){var f=i;return a.default.createElement(f,h)}return a.default.createElement("input",h)}}]),t}(a.default.Component);h.propTypes=c,h.defaultProps=l,e.exports=h},4432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),o=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),a=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),o[0]),s=n(o[1]||"",(i[1]||"").length,r);return a+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ce=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function ke(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ne(e,t){return e(t)}function Pe(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ne(e,t,n)}finally{Oe=!1,(null!==Ee||null!==Ce)&&(Pe(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var xe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){xe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){xe=!1}function Me(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,u){Le=!1,Fe=null,Me.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(qe(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ze(i),e;if(a===r)return ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,Ct,Tt,kt=!1,It=[],Nt=null,Pt=null,Ot=null,Rt=new Map,At=new Map,xt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){kt=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Ot&&jt(Ot)&&(Ot=null),Rt.forEach(Ut),At.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Pt&&Vt(Pt,e),null!==Ot&&Vt(Ot,e),Rt.forEach(t),At.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Ft(n),null===n.blockedOn&&xt.shift()}var Wt=_.ReactCurrentBatchConfig,zt=!0;function Kt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Qt(e,t,n,r){if(zt){var i=Xt(e,t,n,r);if(null===i)zr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Lt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&zr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Gt=null;function Xt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=F({},cn,{view:0,detail:0}),fn=on(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),mn=on(F({},dn,{dataTransfer:0})),yn=on(F({},hn,{relatedTarget:0})),gn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Cn}var kn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(kn),Nn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Rn),xn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Qn=null;function Gn(e){jr(e,0)}function Xn(e){if(Q(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];Kn(t,Qn,e,we(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,vr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Cr={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Tr("animationend"),Ir=Tr("animationiteration"),Nr=Tr("animationstart"),Pr=Tr("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),u(t,[e])}for(var xr=0;xr<Rr.length;xr++){var Dr=Rr[xr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Nr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case kr:case Ir:case Nr:u=gn;break;case Pr:u=On;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Ae(p,f))&&l.push(Kr(p,m,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==c?s:_i(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,vi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Qr(d))p++;for(d=0,m=f;m;m=Qr(m))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)f=Qr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Qr(l),f=Qr(f)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==h&&Gr(a,h,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Yn;else if(zn(s))if($n)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Kn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,vr=null);break;case"focusout":vr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(g=Hr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=Ae(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,yi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var Si=[],Ei=-1;function Ci(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ki(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ii={},Ni=Ci(Ii),Pi=Ci(!1),Oi=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xi(){Ti(Pi),Ti(Ni)}function Di(e,t,n){if(Ni.current!==Ii)throw Error(o(168));ki(Ni,t),ki(Pi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Oi=Ni.current,ki(Ni,e),ki(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Pi),Ti(Ni),ki(Ni,e)):Ti(Pi),ki(Pi,n)}var ji=null,Ui=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Qe(Ze,qi),i}finally{bt=t,Bi=!1}}return null}var Wi=_.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=Ci(null),Hi=null,Qi=null,Gi=null;function Xi(){Gi=Qi=Hi=null}function Yi(e){var t=Ki.current;Ti(Ki),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Hi=e,Gi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Qi){if(null===Hi)throw Error(o(308));Qi=e,Hi.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:to=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);xu|=a,e.lanes=a,e.memoizedState=h}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var lo=(new r.Component).refs;function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),o=io(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zu(e,i,r))&&ao(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$u(),i=Ju(e),o=io(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Zu(e,i,r))&&ao(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$u(),r=Ju(e),i=io(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),oo(e,i),null!==(t=Zu(e,r,n))&&ao(t,e,r)}};function po(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function mo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Zi(o):(i=Ai(t)?Oi:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lo,no(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Zi(o):(o=Ai(t)?Oi:Ni.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var vo=[],bo=0,_o=null,wo=0,So=[],Eo=0,Co=null,To=1,ko="";function Io(e,t){vo[bo++]=wo,vo[bo++]=_o,_o=e,wo=t}function No(e,t,n){So[Eo++]=To,So[Eo++]=ko,So[Eo++]=Co,Co=e;var r=To;e=ko;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,To=1<<32-at(t)+i|n<<i|r,ko=o+e}else To=1<<o|n<<i|r,ko=e}function Po(e){null!==e.return&&(Io(e,1),No(e,1,0))}function Oo(e){for(;e===_o;)_o=vo[--bo],vo[bo]=null,wo=vo[--bo],vo[bo]=null;for(;e===Co;)Co=So[--Eo],So[Eo]=null,ko=So[--Eo],So[Eo]=null,To=So[--Eo],So[Eo]=null}var Ro=null,Ao=null,xo=!1,Do=null;function Mo(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ro=e,Ao=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ro=e,Ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Co?{id:To,overflow:ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ro=e,Ao=null,!0);default:return!1}}function Fo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function jo(e){if(xo){var t=Ao;if(t){var n=t;if(!Lo(e,t)){if(Fo(e))throw Error(o(418));t=ci(n.nextSibling);var r=Ro;t&&Lo(e,t)?Mo(r,n):(e.flags=-4097&e.flags|2,xo=!1,Ro=e)}}else{if(Fo(e))throw Error(o(418));e.flags=-4097&e.flags|2,xo=!1,Ro=e}}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ro=e}function Bo(e){if(e!==Ro)return!1;if(!xo)return Uo(e),xo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ao)){if(Fo(e)){for(e=Ao;e;)e=ci(e.nextSibling);throw Error(o(418))}for(;t;)Mo(e,t),t=ci(t.nextSibling)}if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ao=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ao=null}}else Ao=Ro?ci(e.stateNode.nextSibling):null;return!0}function Vo(){Ao=Ro=null,xo=!1}function qo(e){null===Do?Do=[e]:Do.push(e)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===lo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function zo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Ho(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Dc(t,e.mode,n,null)).return=e,t;zo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);zo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);zo(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,h=o,m=o=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var g=d(i,h,s[m],u);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,h=y}if(m===s.length)return n(i,h),xo&&Io(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(o=a(h,o,m),null===l?c=h:l.sibling=h,l=h);return xo&&Io(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(y=p(h,i,m,s[m],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),xo&&Io(i,m),c}function y(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,m=s,y=s=0,g=null,v=u.next();null!==m&&!v.done;y++,v=u.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=d(i,m,v.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,y),null===h?l=b:h.sibling=b,h=b,m=g}if(v.done)return n(i,m),xo&&Io(i,y),l;if(null===m){for(;!v.done;y++,v=u.next())null!==(v=f(i,v.value,c))&&(s=a(v,s,y),null===h?l=v:h.sibling=v,h=v);return xo&&Io(i,y),l}for(m=r(i,m);!v.done;y++,v=u.next())null!==(v=p(m,i,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=a(v,s,y),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),xo&&Io(i,y),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ko(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Wo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Dc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=xc(a.type,a.key,a.props,null,r.mode,u)).ref=Wo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case A:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return m(r,o,a,u);if(M(a))return y(r,o,a,u);zo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=Ho(!0),Go=Ho(!1),Xo={},Yo=Ci(Xo),$o=Ci(Xo),Jo=Ci(Xo);function Zo(e){if(e===Xo)throw Error(o(174));return e}function ea(e,t){switch(ki(Jo,t),ki($o,e),ki(Yo,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Yo),ki(Yo,t)}function ta(){Ti(Yo),Ti($o),Ti(Jo)}function na(e){Zo(Jo.current);var t=Zo(Yo.current),n=ue(t,e.type);t!==n&&(ki($o,e),ki(Yo,n))}function ra(e){$o.current===e&&(Ti(Yo),Ti($o))}var ia=Ci(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var ua=_.ReactCurrentDispatcher,ca=_.ReactCurrentBatchConfig,la=0,ha=null,fa=null,da=null,pa=!1,ma=!1,ya=0,ga=0;function va(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(la=a,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),ma){a=0;do{if(ma=!1,ya=0,25<=a)throw Error(o(301));a+=1,da=fa=null,t.updateQueue=null,ua.current=os,e=n(r,i)}while(ma)}if(ua.current=ns,t=null!==fa&&null!==fa.next,la=0,da=fa=ha=null,pa=!1,t)throw Error(o(300));return e}function wa(){var e=0!==ya;return ya=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ha.memoizedState=da=e:da=da.next=e,da}function Ea(){if(null===fa){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===da?ha.memoizedState:da.next;if(null!==t)da=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===da?ha.memoizedState=da=e:da=da.next=e}return da}function Ca(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=fa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((la&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,ha.lanes|=h,xu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ha.lanes|=a,xu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ka(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Na(e,t){var n=ha,r=Ea(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ua(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Da(9,Oa.bind(null,n,r,i,t),void 0,null),null===ku)throw Error(o(349));0!==(30&la)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Zu(e,1,-1)}function Ra(e,t,n){return n((function(){Aa(t)&&Zu(e,1,-1)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function xa(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,ha,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return Ea().memoizedState}function La(e,t,n,r){var i=Sa();ha.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var i=Ea();r=void 0===r?null:r;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}ha.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function ja(e,t){return La(8390656,8,e,t)}function Ua(e,t){return Fa(2048,8,e,t)}function Ba(e,t){return Fa(4,2,e,t)}function Va(e,t){return Fa(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,qa.bind(null,t,e),n)}function za(){}function Ka(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=Ea();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&la)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ha.lanes|=n,xu|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Xa(){return Ea().memoizedState}function Ya(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e)?Za(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r))}function $a(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Za(t,i);else{es(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a))return}catch(u){}null!==(e=Zu(e,r,n=$u()))&&ts(e,t,r)}}function Ja(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function Za(e,t){ma=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ns={readContext:Zi,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ya.bind(null,ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:xa,useDebugValue:za,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=xa(!1),t=e[0];return e=Ga.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ha,i=Sa();if(xo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ku)throw Error(o(349));0!==(30&la)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=ku.identifierPrefix;if(xo){var n=ko;t=":"+t+"R"+(n=(To&~(1<<32-at(To)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Ka,useContext:Zi,useEffect:Ua,useImperativeHandle:Wa,useInsertionEffect:Ba,useLayoutEffect:Va,useMemo:Ha,useReducer:Ta,useRef:Ma,useState:function(){return Ta(Ca)},useDebugValue:za,useDeferredValue:function(e){return Qa(Ea(),fa.memoizedState,e)},useTransition:function(){return[Ta(Ca)[0],Ea().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Na,useId:Xa,unstable_isNewReconciler:!1},os={readContext:Zi,useCallback:Ka,useContext:Zi,useEffect:Ua,useImperativeHandle:Wa,useInsertionEffect:Ba,useLayoutEffect:Va,useMemo:Ha,useReducer:ka,useRef:Ma,useState:function(){return ka(Ca)},useDebugValue:za,useDeferredValue:function(e){var t=Ea();return null===fa?t.memoizedState=e:Qa(t,fa.memoizedState,e)},useTransition:function(){return[ka(Ca)[0],Ea().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Na,useId:Xa,unstable_isNewReconciler:!1};function as(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=io(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,qu=r),ss(0,t)},n}function ds(e,t,n){(n=io(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=io(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function gs(e,t){if(!xo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bs(e,t,n){var r=t.pendingProps;switch(Oo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(t),null;case 1:case 17:return Ai(t.type)&&xi(),vs(t),null;case 3:return r=t.stateNode,ta(),Ti(Pi),Ti(Ni),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Do&&(oc(Do),Do=null))),vs(t),null;case 5:ra(t);var i=Zo(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return vs(t),null}if(e=Zo(Yo.current),Bo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ve(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ye(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vs(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Zo(Jo.current),Zo(Yo.current),Bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=Ro))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return vs(t),null;case 13:if(Ti(ia),r=t.memoizedState,xo&&null!==Ao&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ao;r;)r=ci(r.nextSibling);return Vo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Bo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[fi]=t}else Vo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vs(t),null}return null!==Do&&(oc(Do),Do=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Bo(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Ru&&(Ru=3):pc())),null!==t.updateQueue&&(t.flags|=4),vs(t),null);case 4:return ta(),null===e&&qr(t.stateNode.containerInfo),vs(t),null;case 10:return Yi(t.type._context),vs(t),null;case 19:if(Ti(ia),null===(a=t.memoizedState))return vs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)gs(a,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=oa(e))){for(t.flags|=128,gs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Uu&&(t.flags|=128,r=!0,gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!xo)return vs(t),null}else 2*$e()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,gs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ia.current,ki(ia,r?1&n|2:1&n),t):(vs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(vs(t),6&t.subtreeFlags&&(t.flags|=8192)):vs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zo(Yo.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var _s=_.ReactCurrentOwner,ws=!1;function Ss(e,t,n,r){t.child=null===e?Go(t,null,n,r):Qo(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return Ji(t,i),r=_a(e,t,n,r,o,i),n=wa(),null===e||ws?(xo&&n&&Po(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ns(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ou,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Ou,Pu),Pu|=r;return Ss(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var o=Ai(n)?Oi:Ni.current;return o=Ri(t,o),Ji(t,i),n=_a(e,t,n,r,o,i),r=wa(),null===e||ws?(xo&&r&&Po(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Ps(e,t,n,r,i){if(Ai(n)){var o=!0;Li(t)}else o=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Ri(t,c=Ai(n)?Oi:Ni.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&yo(t,a,r,c),to=!1;var f=t.memoizedState;a.state=f,uo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Pi.current||to?("function"===typeof l&&(ho(t,n,l,r),u=t.memoizedState),(s=to||po(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:zi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Ri(t,u=Ai(n)?Oi:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&yo(t,a,r,u),to=!1,f=t.memoizedState,a.state=f,uo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Pi.current||to?("function"===typeof d&&(ho(t,n,d,r),p=t.memoizedState),(c=to||po(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),zs(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ea(e,t.containerInfo)}function As(e,t,n,r,i){return Vo(),qo(i),t.flags|=256,Ss(e,t,n,r),t.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,a=ia.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ia,1&a),null===e)return jo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Mc(a,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=xs,e):Fs(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Bs(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Mc({mode:"visible",children:i.children},a,0,null),(s=Dc(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Qo(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=xs,s);if(0===(1&t.mode))t=Bs(e,t,n,null);else if("$!"===r.data)t=Bs(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=ku)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,Zu(e,i,-1))}pc(),t=Bs(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),r._reactRetry=t,t=null):(n=a.treeContext,Ao=ci(r.nextSibling),Ro=t,xo=!0,Do=null,null!==n&&(So[Eo++]=To,So[Eo++]=ko,So[Eo++]=Co,To=n.id,ko=n.overflow,Co=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):Ms(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=xs,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?Ds(n):Ms(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=xs,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){var i=e.child;return e=i.sibling,n=Ac(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Us(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Ac(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Ac(a,r):(r=Dc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Bs(e,t,n,r){return null!==r&&qo(r),Qo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){switch(Oo(t),t.tag){case 1:return Ai(t.type)&&xi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),Ti(Pi),Ti(Ni),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(Ti(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Vo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ia),null;case 4:return ta(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Hs=!1,Qs=!1,Gs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function $s(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&$s(t,n,o)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Ys(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&$s(n,t,a),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Qs&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,cu(e,t,n),Qs=r):cu(e,t,n);break;default:cu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gs),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(o(160));lu(a,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(m){Ec(e,e.return,m)}try{Zs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ye(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(o(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(m){Ec(e,e.return,m)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(ju=$e()),4&r&&hu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(h=Qs)||l,fu(t,e),Qs=h):fu(t,e),pu(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!l&&0!==(1&e.mode))for(Xs=e,e=e.child;null!==e;){for(l=Xs=e;null!==Xs;){switch(f=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:if(Ys(h,h.return),"function"===typeof(a=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(m){Ec(d,p,m)}}break;case 5:Ys(h,h.return);break;case 22:if(null!==h.memoizedState){vu(l);continue}}null!==f?(f.return=h,Xs=f):vu(l)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&hu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),au(e,iu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ou(e,iu(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Xs=e,yu(e,t,n)}function yu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Hs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Hs;var c=Qs;if(Hs=a,(Qs=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?bu(i):null!==u?(u.return=a,Xs=u):bu(i);for(;null!==o;)Xs=o,yu(o,t,n),o=o.sibling;Xs=i,Hs=s,Qs=c}gu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):gu(e)}}function gu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&co(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}co(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&tu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function vu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function bu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{tu(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{tu(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _u,wu=Math.ceil,Su=_.ReactCurrentDispatcher,Eu=_.ReactCurrentOwner,Cu=_.ReactCurrentBatchConfig,Tu=0,ku=null,Iu=null,Nu=0,Pu=0,Ou=Ci(0),Ru=0,Au=null,xu=0,Du=0,Mu=0,Lu=null,Fu=null,ju=0,Uu=1/0,Bu=null,Vu=!1,qu=null,Wu=null,zu=!1,Ku=null,Hu=0,Qu=0,Gu=null,Xu=-1,Yu=0;function $u(){return 0!==(6&Tu)?$e():-1!==Xu?Xu:Xu=$e()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Nu?Nu&-Nu:null!==Wi.transition?(0===Yu&&(Yu=mt()),Yu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zu(e,t,n){if(50<Qu)throw Qu=0,Gu=null,Error(o(185));var r=ec(e,t);return null===r?null:(gt(r,t,n),0!==(2&Tu)&&r===ku||(r===ku&&(0===(2&Tu)&&(Du|=t),4===Ru&&ac(r,Nu)),nc(r,n),1===t&&0===Tu&&0===(1&e.mode)&&(Uu=$e()+500,Ui&&qi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==ku||null!==eo)&&0!==(1&e.mode)&&0===(2&Tu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===ku?Nu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),ai((function(){0===Tu&&qi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xu=-1,Yu=0,0!==(6&Tu))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ft(e,e===ku?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tu;Tu|=2;var a=dc();for(ku===e&&Nu===t||(Bu=null,Uu=$e()+500,hc(e,t));;)try{gc();break}catch(u){fc(e,u)}Xi(),Su.current=a,Tu=i,null!==Iu?t=0:(ku=null,Nu=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Au,hc(e,0),ac(e,r),nc(e,$e()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t))throw n=Au,hc(e,0),ac(e,r),nc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,Fu,Bu);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=ju+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$u(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Fu,Bu),t);break}_c(e,Fu,Bu);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Fu,Bu),r);break}_c(e,Fu,Bu);break;default:throw Error(o(329))}}}return nc(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fu,Fu=n,null!==t&&oc(t)),e}function oc(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ac(e,t){for(t&=~Mu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Tu))throw Error(o(327));wc();var t=ft(e,0);if(0===(1&t))return nc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Au,hc(e,0),ac(e,t),nc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Fu,Bu),nc(e,$e()),null}function uc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Uu=$e()+500,Ui&&qi())}}function cc(e){null!==Ku&&0===Ku.tag&&0===(6&Tu)&&wc();var t=Tu;Tu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Tu=t))&&qi()}}function lc(){Pu=Ou.current,Ti(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(Oo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&xi();break;case 3:ta(),Ti(Pi),Ti(Ni),sa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:Ti(ia);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(ku=e,Iu=e=Ac(e.current,null),Nu=Pu=t,Ru=0,Au=null,Mu=Du=xu=0,Fu=Lu=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(r=(n=eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}eo=null}return e}function fc(e,t){for(;;){var n=Iu;try{if(Xi(),ua.current=ns,pa){for(var r=ha.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(la=0,da=fa=ha=null,ma=!1,ya=0,Eu.current=null,null===n||null===n.return){Ru=1,Au=t,Iu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ps(a,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ps(a,l,t),pc();break e}c=Error(o(426))}else if(xo&&1&u.mode){var g=ms(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),qo(c);break e}}a=c,4!==Ru&&(Ru=2),null===Lu?Lu=[a]:Lu.push(a),c=as(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,so(u,fs(0,c,t));break e;case 1:a=c;var v=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,so(u,ds(u,a,t));break e}}u=u.return}while(null!==u)}bc(n)}catch(_){t=_,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function dc(){var e=Su.current;return Su.current=ns,null===e?ns:e}function pc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===ku||0===(268435455&xu)&&0===(268435455&Du)||ac(ku,Nu)}function mc(e,t){var n=Tu;Tu|=2;var r=dc();for(ku===e&&Nu===t||(Bu=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Xi(),Tu=n,Su.current=r,null!==Iu)throw Error(o(261));return ku=null,Nu=0,Ru}function yc(){for(;null!==Iu;)vc(Iu)}function gc(){for(;null!==Iu&&!Xe();)vc(Iu)}function vc(e){var t=_u(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bc(e):Iu=t,Eu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,Pu)))return void(Iu=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Ru=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Ru&&(Ru=5)}function _c(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Ku);if(0!==(6&Tu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===ku&&(Iu=ku=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||zu||(zu=!0,Nc(tt,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Eu.current=null,function(e,t){if(ei=zt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:zi(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;if(1===_.nodeType)_.textContent="";else if(9===_.nodeType){var w=_.body;null!=w&&(w.textContent="")}break;default:throw Error(o(163))}}catch(S){Ec(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=Js,Js=!1}(e,n),du(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,mu(n,e,i),Ye(),Tu=u,bt=s,Cu.transition=a}else e.current=n;if(zu&&(zu=!1,Ku=e,Hu=i),0===(a=e.pendingLanes)&&(Wu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Vu)throw Vu=!1,e=qu,qu=null,e;0!==(1&Hu)&&0!==e.tag&&wc(),0!==(1&(a=e.pendingLanes))?e===Gu?Qu++:(Qu=0,Gu=e):Qu=0,qi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function wc(){if(null!==Ku){var e=_t(Hu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Hu=0,0!==(6&Tu))throw Error(o(331));var i=Tu;for(Tu|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var h=Xs;switch(h.tag){case 0:case 11:case 15:Zs(8,h,a)}var f=h.child;if(null!==f)f.return=h,Xs=f;else for(;null!==Xs;){var d=(h=Xs).sibling,p=h.return;if(nu(h),h===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var m=a.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:Zs(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xs=v;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(S){Ec(u,u.return,S)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Tu=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sc(e,t,n){oo(e,t=fs(0,t=as(n,t),1)),t=$u(),null!==(e=ec(e,1))&&(gt(e,1,t),nc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){oo(t,e=ds(t,e=as(n,e),1)),e=$u(),null!==(t=ec(t,1))&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$u(),e.pingedLanes|=e.suspendedLanes&n,ku===e&&(Nu&n)===n&&(4===Ru||3===Ru&&(130023424&Nu)===Nu&&500>$e()-ju?hc(e,0):Mu|=n),nc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=$u();null!==(e=ec(e,t))&&(gt(e,t,n),nc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Qe(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Dc(n.children,i,a,t);case C:s=8,i|=8;break;case T:return(e=Oc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case P:return(e=Oc(13,n,t,i)).elementType=P,e.lanes=a,e;case O:return(e=Oc(19,n,t,i)).elementType=O,e.lanes=a,e;case x:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case I:s=9;break e;case N:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,u){return(e=Uc(n,r,!0,e,0,o,0,s,u)).context=Vc(null),n=e.current,(o=io(r=$u(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=$u(),a=Ju(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=io(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oo(i,t),null!==(e=Zu(i,a,o))&&ao(e,i,a),a}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),Vo();break;case 5:na(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ki(ia,1&ia.current),null!==(e=zs(e,t,n))?e.sibling:null);ki(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return zs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,xo&&0!==(1048576&t.flags)&&No(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ni.current);Ji(t,n),i=_a(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,no(t),i.updater=fo,t.stateNode=i,i._reactInternals=t,go(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,xo&&a&&Po(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,zi(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=As(e,t,r,n,i=Error(o(424)));break e}for(Ao=ci(t.stateNode.containerInfo.firstChild),Ro=t,xo=!0,Do=null,n=Go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Vo(),r===i){t=zs(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&jo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&jo(t),null;case 13:return Ls(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(Ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=io(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),$i(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),$i(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),Cs(e,t,r,i=zi(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Ji(t,n),mo(t,r,i),go(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=zc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=zc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),cc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),cc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return zc(a)}Xc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&0!==t&&t<xt[n].priority;n++);xt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,$e()),0===(6&Tu)&&(Uu=$e()+500,qi()))}break;case 13:var r=$u();cc((function(){return Zu(e,1,r)})),Hc(e,1)}},St=function(e){13===e.tag&&(Zu(e,134217728,$u()),Hc(e,134217728))},Et=function(e){if(13===e.tag){var t=$u(),n=Ju(e);Zu(e,n,t),Hc(e,n)}},Ct=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));Q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Pe=cc;var el={usingClientEntryPoint:!1,Events:[bi,_i,wi,ke,Ie,uc]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var _=b.prototype=new v;_.constructor=b,m(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+N(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+N(s=e[c],c);u+=P(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},x={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:x,ReactCurrentOwner:E};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.transition;x.transition={};try{e()}finally{x.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,_(e),!m)if(null!==r(c))m=!0,x(S);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function S(e,n){m=!1,y&&(y=!1,v(k),k=-1),p=!0;var o=d;try{for(_(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!P());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),_(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,T=null,k=-1,I=5,N=-1;function P(){return!(t.unstable_now()-N<I)}function O(){if(null!==T){var e=t.unstable_now();N=e;var n=!0;try{n=T(!0,e)}finally{n?E():(C=!1,T=null)}}else C=!1}if("function"===typeof b)E=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=O,E=function(){A.postMessage(null)}}else E=function(){g(O,0)};function x(e){T=e,C||(C=!0,E())}function D(e,n){k=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,x(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(y?(v(k),k=-1):y=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,x(S))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},__webpack_require__.d(i,o),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};!function(){"use strict";var e,t=__webpack_require__(2791),n=__webpack_require__(1250),r=__webpack_require__(885),i=__webpack_require__(303),o=__webpack_require__(2955),a=__webpack_require__(5403),s=__webpack_require__(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function h(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function m(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var y=(0,t.createContext)(null);var g=(0,t.createContext)(null);var v=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=T(i[a],r);return o}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||b(!1),o.relativePath=o.relativePath.slice(r.length));var a=P([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&b(!1),w(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:s})})),t}var S=/^:\w+$/,E=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=k({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:P([i,l.pathname]),pathnameBase:O(P([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return o}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=(0,r.Z)(n,2),o=i[0],a=i[1],s=t.match(o);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function I(e,t,n){var r,i="string"===typeof e?m(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:R(o),hash:A(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},R=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},A=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function x(e){D()||b(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,o=F(e),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?m(e).pathname:e.pathname}(e),h=null!=l&&l.endsWith("/");c="/"===s?r+(h?"/":""):P([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function D(){return null!=(0,t.useContext)(g)}function M(){return D()||b(!1),(0,t.useContext)(g).location}function L(){D()||b(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(v).matches,o=M().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=I(e,JSON.parse(a),o);"/"!==n&&(i.pathname=P([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o])}function F(e){var n=(0,t.useContext)(v).matches,r=M().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return I(e,JSON.parse(i),r)}),[e,i,r])}function j(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(v.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function U(e){b(!1)}function B(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,h=n.static,f=void 0!==h&&h;D()&&b(!1);var d=O(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=m(s));var v=s,_=v.pathname,w=void 0===_?"/":_,S=v.search,E=void 0===S?"":S,C=v.hash,T=void 0===C?"":C,k=v.state,I=void 0===k?null:k,P=v.key,R=void 0===P?"default":P,A=(0,t.useMemo)((function(){var e=N(w,d);return null==e?null:{pathname:e,search:E,hash:T,state:I,key:R}}),[d,w,E,T,I,R]);return null==A?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(g.Provider,{children:a,value:{location:A,navigationType:c}}))}function V(e){var n=e.children,r=e.location;return function(e,n){D()||b(!1);var r,i=(0,t.useContext)(v).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,M());if(n){var c,l="string"===typeof n?m(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||b(!1),r=l}else r=u;var h=r.pathname||"/",f=_(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return j(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:P([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:P([s,e.pathnameBase])})})),i)}(q(n),r)}function q(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==U&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=q(e.props.children)),n.push(r)}else n.push.apply(n,q(e.props.children))})),n}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function H(n){var i=n.basename,o=n.children,a=n.window,y=(0,t.useRef)();null==y.current&&(y.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,u({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(l,(function(){if(a)w.call(a),a=null;else{var t=e.Pop,n=o(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=v-r;s&&(a={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else k(t)}}));var y=e.Pop,g=o(),v=g[0],b=g[1],_=f(),w=f();function S(e){return"string"===typeof e?e:p(e)}function E(e,t){return void 0===t&&(t=null),u((0,s.Z)({pathname:b.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:d()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function T(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function k(e){y=e;var t=o();v=t[0],b=t[1],_.call({action:y,location:b})}function I(e){i.go(e)}null==v&&(v=0,i.replaceState((0,s.Z)({},i.state,{idx:v}),""));var N={get action(){return y},get location(){return b},createHref:S,push:function t(n,o){var a=e.Push,s=E(n,o);if(T(a,s,(function(){t(n,o)}))){var u=C(s,v+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(h){r.location.assign(l)}k(a)}},replace:function t(n,r){var o=e.Replace,a=E(n,r);if(T(o,a,(function(){t(n,r)}))){var s=C(a,v),u=s[0],c=s[1];i.replaceState(u,"",c),k(o)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return _.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,h),function(){t(),w.length||r.removeEventListener(c,h)}}};return N}({window:a}));var g=y.current,v=(0,t.useState)({action:g.action,location:g.location}),b=(0,r.Z)(v,2),_=b[0],w=b[1];return(0,t.useLayoutEffect)((function(){return g.listen(w)}),[g]),(0,t.createElement)(B,{basename:i,children:o,location:_.location,navigationType:_.action,navigator:g})}var Q=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,u=e.target,c=e.to,l=z(e,K),h=x(c),f=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=L(),u=M(),c=F(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||p(u)===p(c);s(e,{replace:n,state:a})}}),[u,s,c,o,a,i,e])}(c,{replace:a,state:s,target:u});return(0,t.createElement)("a",W({},l,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));var G=__webpack_require__(184),X=(0,t.createContext)(),Y=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,G.jsx)(X.Provider,{value:(0,t.useReducer)(n,r),children:i})},$=function(){return(0,t.useContext)(X)};var J=function(){var e=$(),t=(0,r.Z)(e,2),n=t[0].basket;return t[1],(0,G.jsxs)("div",{className:"header",children:[(0,G.jsx)(Q,{to:"/",style:{textDecoration:"none"},children:(0,G.jsxs)("div",{className:"header__logo",children:[(0,G.jsx)(o.Z,{className:"header__logoImage",fontSize:"large"}),(0,G.jsx)("h1",{className:"header__logoTitle",children:"eShop"})]})}),(0,G.jsxs)("div",{className:"header__search",children:[(0,G.jsx)("input",{type:"text",className:"header__searchInput"}),(0,G.jsx)(a.Z,{className:"header__searchIcon"})]}),(0,G.jsxs)("div",{className:"header__nav",children:[(0,G.jsx)(Q,{to:"login",style:{textDecoration:"none"},children:(0,G.jsxs)("div",{className:"nav__item",children:[(0,G.jsx)("span",{className:"nav__itemLineOne",children:"Hello Guest"}),(0,G.jsx)("span",{className:"nav__itemLineTwo",children:"Sign In"})]})}),(0,G.jsxs)("div",{className:"nav__item",children:[(0,G.jsx)("span",{className:"nav__itemLineOne",children:"Your"}),(0,G.jsx)("span",{className:"nav__itemLineTwo",children:"Shop"})]}),(0,G.jsx)(Q,{to:"/checkout",style:{textDecoration:"none"},children:(0,G.jsxs)("div",{className:"nav__itemBasket",children:[(0,G.jsx)(i.Z,{}),(0,G.jsx)("span",{className:"nav__itemLineTwo nav__basketCount",children:n.length})]})})]})]})};var Z=function(e){var t=e.id,n=e.title,i=e.image,o=e.price,a=e.rating,s=$(),u=(0,r.Z)(s,2),c=(u[0],u[1]);return(0,G.jsx)("div",{children:(0,G.jsxs)("div",{className:"product",children:[(0,G.jsxs)("div",{className:"product__info",children:[(0,G.jsx)("p",{children:n}),(0,G.jsxs)("p",{className:"product__price",children:[(0,G.jsx)("small",{children:"Rs."}),(0,G.jsx)("strong",{children:o})]}),(0,G.jsx)("div",{className:"product__rating",children:Array(a).fill().map((function(e,t){return(0,G.jsx)("p",{children:"\u2b50"})}))})]}),(0,G.jsx)("img",{src:i,alt:"error"}),(0,G.jsx)("button",{onClick:function(){c({type:"ADD_TO_BASKET",item:{id:t,image:i,price:o,rating:a}})},children:"Add to Basket"})]})})};var ee=function(){return(0,G.jsx)("div",{children:(0,G.jsx)("div",{className:"Home",children:(0,G.jsxs)("div",{className:"home__container",children:[(0,G.jsx)("img",{src:"https://miro.medium.com/max/1200/1*SwFB1o_k1LGprN-XRUZQ8w.jpeg",alt:"",className:"home__image"}),(0,G.jsxs)("div",{className:"home__row",children:[(0,G.jsx)(Z,{id:"12321341",title:"Acer Predator Helios 300 Core i7 11th Gen",price:100990,rating:5,image:"https://rukminim2.flixcart.com/image/312/312/kuvkcy80/computer/x/s/4/na-gaming-laptop-acer-original-imag7whp2f8fgpaz.jpeg?q=70"}),(0,G.jsx)(Z,{id:"12321342",title:"MSI GF63 Thin Core i5 10th Gen ",price:63490,rating:5,image:"https://rukminim2.flixcart.com/image/312/312/ktlu9ow0/computer/4/n/m/gf63-thin-10uc-607in-gaming-laptop-msi-original-imag6xfuxzmukmuq.jpeg?q=70"}),(0,G.jsx)(Z,{id:"12321343",title:"ASUS Asus Vivobook 15 Core i5 11th Gen",price:50990,rating:5,image:"https://rukminim2.flixcart.com/image/312/312/l30hmkw0/computer/w/h/w/vivobook-15-laptop-asus-original-image8ajrucyfea5.jpeg?q=70"})]}),(0,G.jsxs)("div",{className:"home__row",children:[(0,G.jsx)(Z,{id:"12321344",title:"ASUS ASUS TUF Gaming Core i5 11th Gen",price:75990,rating:5,image:"https://rukminim2.flixcart.com/image/312/312/l3rmzrk0/computer/2/o/q/-original-imagetjfvgfsm24g.jpeg?q=70"}),(0,G.jsx)(Z,{id:"12321345",title:"acer Nitro 5 Core i7 12th Gen",price:100990,rating:4,image:"https://rukminim2.flixcart.com/image/312/312/l1mh7rk0/computer/u/r/m/an515-58-gaming-laptop-acer-original-imagd5zzqqpngwmz.jpeg?q=70"}),(0,G.jsx)(Z,{id:"12321346",title:"MSI Alpha 15 Ryzen 7 Octa Core 5800H ",price:106990,rating:3,image:"https://rukminim2.flixcart.com/image/312/312/ktszgy80/computer/h/0/f/alpha-15-b5eek-029in-gaming-laptop-msi-original-imag72h7uptk3x9t.jpeg?q=70"})]}),(0,G.jsx)("div",{className:"home__row",children:(0,G.jsx)(Z,{id:"12321347",title:"ASUS ROG Strix Ryzen 9 Octa Core 5900HX",price:117990,rating:4,image:"https://rukminim2.flixcart.com/image/312/312/ku4ezrk0/computer/j/5/j/na-gaming-laptop-asus-original-imag7bhddrbuzrvs.jpeg?q=70"})})]})})})};var te=function(e){var t=e.id,n=e.image,i=e.title,o=e.price,a=e.rating,s=$(),u=(0,r.Z)(s,2),c=(u[0].basket,u[1]);return(0,G.jsx)("div",{children:(0,G.jsxs)("div",{className:"checkoutProduct",children:[(0,G.jsx)("img",{src:n,alt:"pic",className:"checkoutProduct"}),(0,G.jsxs)("div",{className:"checkoutProduct__info",children:[(0,G.jsx)("p",{className:"checkoutProduct__title",children:i}),(0,G.jsxs)("p",{className:"checkoutProduct__price",children:[(0,G.jsx)("small",{children:"Rs"}),(0,G.jsx)("strong",{children:o})]}),(0,G.jsx)("div",{className:"checkoutProduct__rating",children:Array(a).fill().map((function(e,t){return(0,G.jsx)("p",{children:"\u2b50"})}))}),(0,G.jsx)("button",{onClick:function(){c({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from basket"})]})]})})},ne=__webpack_require__(2482),re=__webpack_require__.n(ne),ie=__webpack_require__(2982),oe=__webpack_require__(4942);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,oe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},ce=function(e,t){switch(t.type){case"ADD_TO_BASKET":return se(se({},e),{},{basket:[].concat((0,ie.Z)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,ie.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("Can't remove product(id: Rs{action.id}) as its not in the basket"),se(se({},e),{},{basket:r});default:return e}};var le=function(){var e=$(),t=(0,r.Z)(e,2),n=t[0].basket;return t[1],(0,G.jsxs)("div",{className:"subtotal",children:[(0,G.jsx)(re(),{renderText:function(e){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("p",{children:["Subtotal (",n.length," items): ",(0,G.jsxs)("strong",{children:["Rs ",e]})]}),(0,G.jsxs)("small",{className:"subtotal__gift",children:[(0,G.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},decimalScale:2,value:ue(n),displayType:"text",thousandSeparator:!0}),(0,G.jsx)("button",{children:"Proceed to Checkout"})]})};var he=function(){var e=$(),t=(0,r.Z)(e,2),n=t[0].basket;return t[1],(0,G.jsxs)("div",{className:"checkout",children:[(0,G.jsxs)("div",{className:"checkout__left",children:[(0,G.jsx)("img",{src:"https://thumbs.dreamstime.com/z/horizontal-banner-bright-low-poly-fruits-berries-can-be-used-as-poster-advertisement-your-product-192942839.jpg",alt:"",className:"checkout__ad"}),(0,G.jsxs)("div",{children:[(0,G.jsx)("h2",{className:"checkout__title",children:"Your Shopping Basket"}),n.map((function(e){return(0,G.jsx)(te,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),(0,G.jsx)("div",{className:"checkout__right",children:(0,G.jsx)(le,{})})]})},fe=__webpack_require__(1857),de=__webpack_require__.n(fe),pe=(__webpack_require__(5724),de().initializeApp({apiKey:"AIzaSyBH6zA6_voFX7D6za_sBVLDnqpNQgO7YDs",authDomain:"eshop-5bd9b.firebaseapp.com",projectId:"eshop-5bd9b",storageBucket:"eshop-5bd9b.appspot.com",messagingSenderId:"536951853872",appId:"1:536951853872:web:ceab53309dddb0d02aaef5",measurementId:"G-MLCY92MP2E"}).firestore(),de().auth());var me=function(){var e=L(),n=(0,t.useState)(""),i=(0,r.Z)(n,2),a=i[0],s=i[1],u=(0,t.useState)(""),c=(0,r.Z)(u,2),l=c[0],h=c[1];return(0,G.jsxs)("div",{className:"login",children:[(0,G.jsx)(Q,{to:"/",style:{textDecoration:"none"},children:(0,G.jsxs)("div",{className:"login__logo",children:[(0,G.jsx)(o.Z,{className:"login__logoImage",fontSize:"large"}),(0,G.jsx)("h2",{className:"login__logoTitle",onClick:"/",children:"eSHOP"})]})}),(0,G.jsxs)("div",{className:"login__container",children:[(0,G.jsx)("h1",{children:"Sign-in"}),(0,G.jsxs)("form",{children:[(0,G.jsx)("h5",{children:"E-mail"}),(0,G.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)}}),(0,G.jsx)("h5",{children:"Password"}),(0,G.jsx)("input",{type:"password",value:l,onChange:function(e){return h(e.target.value)}}),(0,G.jsx)("button",{type:"submit",className:"login__signInButton",onClick:function(t){t.preventDefault(),pe.signInWithEmailAndPassword(a,l).then((function(t){e("/")})).catch((function(e){return alert(e.message)}))},children:"Sign In"})]}),(0,G.jsx)("p",{children:"By signing-in you agree to the eShop Website Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,G.jsx)("button",{className:"login__registerButton",onClick:function(t){t.preventDefault(),pe.createUserWithEmailAndPassword(a,l).then((function(t){t&&e("/")})).catch((function(e){return alert(e.message)}))},children:"Create your eShop Account"})]})]})};var ye=function(){return(0,G.jsx)("div",{className:"App",children:(0,G.jsx)(H,{children:(0,G.jsxs)(V,{children:[(0,G.jsx)(U,{path:"/Login",element:(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(me,{})})}),(0,G.jsx)(U,{path:"/checkout",element:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J,{}),(0,G.jsx)(he,{})]})}),(0,G.jsx)(U,{path:"/",element:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J,{}),(0,G.jsx)(ee,{})]})})]})})})};n.createRoot(document.getElementById("root")).render((0,G.jsx)(t.StrictMode,{children:(0,G.jsx)(Y,{initialState:{basket:[]},reducer:ce,children:(0,G.jsx)(ye,{})})}),document.getElementById("root"))}()})();
//# sourceMappingURL=main.0b34829a.js.map